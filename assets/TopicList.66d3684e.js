import{_ as x,I as H,x as P,w as I,a as k,y as w,z as p,A as v}from"./index.f21f3c04.js";import{bA as j,bk as G,bB as J,bU as K,aX as M,bC as X,bD as q,D as l,aM as g,aJ as O,aE as d,C as a,E as s,aH as n,aK as o,aF as c,aI as r,aL as u,u as h,bV as Q}from"./arco.8a931ad5.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import"./chart.71b0189b.js";import"./vue.a0233a03.js";const W={class:"topics"},Y={class:"topic-status"},Z={class:"topic-header"},ee=["src"],te={class:"topic-head-info"},se={class:"nickname"},ne={class:"topic-metas"},ae={class:"meta-item"},ie={class:"meta-item"},oe={class:"meta-item"},re={class:"meta-item"},me={class:"meta-item"},de={key:0,class:"topic-summary"},le={key:1,class:"topic-summary"},ue={class:"topic-image-list"},ce={class:"topic-footer"},_e={class:"topic-tags"},ye={class:"topic-actions"},fe={__name:"TopicList",props:{results:{type:Array,default(){return[]}}},emits:["change"],setup(C,{emit:$}){const f=$,z=async i=>{try{await k.form("/api/admin/topic/delete",w({id:i})),p("\u5220\u9664\u6210\u529F"),f("change")}catch(e){v(e)}},D=async i=>{try{await k.form("/api/admin/topic/undelete",w({id:i})),p("\u53D6\u6D88\u5220\u9664\u6210\u529F"),f("change")}catch(e){v(e)}},U=async i=>{try{await k.form("/api/admin/topic/recommend",w({id:i})),p("\u63A8\u8350\u6210\u529F"),f("change")}catch(e){v(e)}},T=async i=>{try{await k.delete(`/api/admin/topic/recommend?id=${i}`),p("\u53D6\u6D88\u63A8\u8350\u6210\u529F"),f("change")}catch(e){v(e)}},B=async i=>{try{await k.form("/api/admin/topic/audit",w({id:i})),p("\u5BA1\u6838\u6210\u529F"),f("change")}catch(e){v(e)}},S=i=>{};return(i,e)=>{const b=j,F=H,R=G,E=J,N=Q,L=K,_=M,y=X,V=q;return a(),l("div",W,[C.results&&C.results.length?(a(!0),l(g,{key:0},O(C.results,t=>(a(),l("div",{key:t.id,class:"topic-item"},[s("div",Y,[t.recommend?(a(),d(b,{key:0,color:"green"},{default:n(()=>e[0]||(e[0]=[o("\u5DF2\u63A8\u8350")])),_:1})):c("",!0),t.status===1?(a(),d(b,{key:1,color:"red"},{default:n(()=>e[1]||(e[1]=[o("\u5DF2\u5220\u9664")])),_:1})):c("",!0)]),s("div",Z,[r(R,{size:40},{default:n(()=>[t.user.avatar?(a(),l("img",{key:0,src:t.user.avatar},null,8,ee)):(a(),d(F,{key:1}))]),_:2},1024),s("div",te,[s("div",se,u(t.user.nickname),1),s("div",ne,[s("div",ae,[e[2]||(e[2]=s("span",null,"ID:",-1)),s("span",null,u(t.id),1)]),s("div",ie,[e[3]||(e[3]=s("span",null,"\u65F6\u95F4:",-1)),s("span",null,u(("useFormatDate"in i?i.useFormatDate:h(P))(t.createTime)),1)]),s("div",oe,[e[4]||(e[4]=s("span",null,"\u67E5\u770B:",-1)),s("span",null,u(t.viewCount),1)]),s("div",re,[e[5]||(e[5]=s("span",null,"\u70B9\u8D5E:",-1)),s("span",null,u(t.likeCount),1)]),s("div",me,[e[6]||(e[6]=s("span",null,"\u8BC4\u8BBA:",-1)),s("span",null,u(t.commentCount),1)])])])]),t.type===0&&t.summary?(a(),l("div",de,u(t.summary),1)):c("",!0),t.type===1&&t.content?(a(),l("div",le,u(t.content),1)):c("",!0),t.imageList&&t.imageList.length?(a(),d(N,{key:2,infinite:""},{default:n(()=>[s("div",ue,[(a(!0),l(g,null,O(t.imageList,(m,A)=>(a(),d(E,{key:A,width:"150",height:"150",class:"image-item","show-loader":"",src:m.url,fit:"cover"},null,8,["src"]))),128))])]),_:2},1024)):c("",!0),s("div",ce,[s("div",_e,[t.node?(a(),d(b,{key:0,color:"green",size:"mini"},{default:n(()=>[o(u(t.node.name),1)]),_:2},1024)):c("",!0),t.tags&&t.tags.length?(a(!0),l(g,{key:1},O(t.tags,m=>(a(),d(b,{key:m.id,size:"mini"},{default:n(()=>[o("#\xA0"+u(m.name),1)]),_:2},1024))),128)):c("",!0)]),s("div",ye,[t.status===0?(a(),l(g,{key:0},[r(L,{class:"action-item",href:("useSiteURL"in i?i.useSiteURL:h(I))("/topic/"+t.id),target:"_blank"},{default:n(()=>e[7]||(e[7]=[o("\u67E5\u770B\u8BE6\u60C5")])),_:2},1032,["href"]),r(L,{class:"action-item",onClick:m=>S(t.id)},{default:n(()=>e[8]||(e[8]=[o(" \u67E5\u770B\u8BC4\u8BBA ")])),_:2},1032,["onClick"]),t.recommend?(a(),d(y,{key:0,content:"\u662F\u5426\u786E\u5B9A\u53D6\u6D88\u63A8\u8350\uFF1F",onOk:m=>T(t.id)},{default:n(()=>[r(_,{class:"action-item",size:"mini",type:"primary"},{default:n(()=>e[9]||(e[9]=[o("\u53D6\u6D88\u63A8\u8350")])),_:1})]),_:2},1032,["onOk"])):!t.recommend&&t.status===0?(a(),d(y,{key:1,content:"\u662F\u5426\u786E\u5B9A\u63A8\u8350\uFF1F",onOk:m=>U(t.id)},{default:n(()=>[r(_,{class:"action-item",size:"mini",type:"primary"},{default:n(()=>e[10]||(e[10]=[o("\u63A8\u8350")])),_:1})]),_:2},1032,["onOk"])):c("",!0),r(y,{content:"\u662F\u5426\u786E\u5B9A\u5220\u9664\uFF1F",onOk:m=>z(t.id)},{default:n(()=>[r(_,{class:"action-item",size:"mini",type:"primary"},{default:n(()=>e[11]||(e[11]=[o("\u5220\u9664")])),_:1})]),_:2},1032,["onOk"])],64)):t.status===1?(a(),d(y,{key:1,content:"\u662F\u5426\u786E\u5B9A\u53D6\u6D88\u5220\u9664\uFF1F",onOk:m=>D(t.id)},{default:n(()=>[r(_,{class:"action-item",size:"mini",type:"primary"},{default:n(()=>e[12]||(e[12]=[o("\u53D6\u6D88\u5220\u9664")])),_:1})]),_:2},1032,["onOk"])):t.status===2?(a(),l(g,{key:2},[r(L,{class:"action-item",href:("useSiteURL"in i?i.useSiteURL:h(I))("/topic/"+t.id),target:"_blank"},{default:n(()=>e[13]||(e[13]=[o("\u67E5\u770B\u8BE6\u60C5")])),_:2},1032,["href"]),r(L,{class:"action-item",onClick:m=>S(t.id)},{default:n(()=>e[14]||(e[14]=[o("\u67E5\u770B\u8BC4\u8BBA")])),_:2},1032,["onClick"]),r(y,{content:"\u662F\u5426\u786E\u5B9A\u5220\u9664\uFF1F",onOk:m=>z(t.id)},{default:n(()=>[r(_,{class:"action-item",size:"mini",type:"primary"},{default:n(()=>e[15]||(e[15]=[o("\u5220\u9664")])),_:1})]),_:2},1032,["onOk"]),r(y,{content:"\u662F\u5426\u786E\u5B9A\u5220\u9664\uFF1F",onOk:m=>B(t.id)},{default:n(()=>[r(_,{class:"action-item",size:"mini",type:"primary"},{default:n(()=>e[16]||(e[16]=[o("\u5BA1\u6838\u901A\u8FC7")])),_:1})]),_:2},1032,["onOk"])],64)):c("",!0)])])]))),128)):(a(),d(V,{key:1}))])}}},he=x(fe,[["__scopeId","data-v-f3a8e80b"]]);export{he as default};
