import{f as U,a as p,A as f,y as z,z as S}from"./index.25ef825f.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css                */import{d as I,j as _,r as N,b6 as O,bK as T,bE as j,ba as q,aE as D,aH as u,u as t,b1 as H,C as K,aI as l,aK as c,b7 as R,bG as G}from"./arco.8a931ad5.js";const h=I({__name:"Edit",emits:["ok"],setup(M,{expose:b,emit:v}){const F=v,V=U(),n=_(),o=N({visible:!1,isCreate:!1,title:""}),a=_({id:"",title:"",url:"",logo:"",summary:"",status:0}),E={title:[{required:!0,message:"\u8BF7\u586B\u5199\u6807\u9898"}],url:[{required:!0,message:"\u8BF7\u586B\u5199\u94FE\u63A5"}]},B=()=>{n.value.resetFields(),o.isCreate=!0,o.title="\u65B0\u589E",o.visible=!0},k=async i=>{n.value.resetFields(),o.isCreate=!1,o.title="\u7F16\u8F91";try{a.value=await p.get(`/api/admin/link/${i}`)}catch(e){f(e)}o.visible=!0},y=()=>{n.value.resetFields()},C=async i=>{if(await n.value.validate()){i(!1);return}try{const r=o.isCreate?"/api/admin/link/create":"/api/admin/link/update";await p.postForm(r,z(a.value)),S("\u63D0\u4EA4\u6210\u529F"),F("ok"),i(!0)}catch(r){f(r),i(!1)}};return b({show:B,showEdit:k}),(i,e)=>{const r=O,m=R,x=T,d=G,w=j,g=q,A=H;return K(),D(A,{visible:t(o).visible,"onUpdate:visible":e[4]||(e[4]=s=>t(o).visible=s),title:t(o).title,size:t(V).table.size,onCancel:y,onBeforeOk:C},{default:u(()=>[l(g,{ref_key:"formRef",ref:n,model:t(a),rules:E},{default:u(()=>[l(m,{field:"title",label:"\u6807\u9898"},{default:u(()=>[l(r,{modelValue:t(a).title,"onUpdate:modelValue":e[0]||(e[0]=s=>t(a).title=s)},null,8,["modelValue"])]),_:1}),l(m,{field:"url",label:"\u94FE\u63A5"},{default:u(()=>[l(r,{modelValue:t(a).url,"onUpdate:modelValue":e[1]||(e[1]=s=>t(a).url=s)},null,8,["modelValue"])]),_:1}),l(m,{field:"summary",label:"\u63CF\u8FF0"},{default:u(()=>[l(x,{modelValue:t(a).summary,"onUpdate:modelValue":e[2]||(e[2]=s=>t(a).summary=s),"allow-clear":""},null,8,["modelValue"])]),_:1}),l(m,{field:"status",label:"\u72B6\u6001"},{default:u(()=>[l(w,{modelValue:t(a).status,"onUpdate:modelValue":e[3]||(e[3]=s=>t(a).status=s)},{default:u(()=>[l(d,{value:0},{default:u(()=>e[5]||(e[5]=[c("\u6B63\u5E38")])),_:1}),l(d,{value:1},{default:u(()=>e[6]||(e[6]=[c("\u5220\u9664")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title","size"])}}});export{h as _};
