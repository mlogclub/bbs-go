import{g as V,B as I,b as N,y as O,x as P}from"./index.1b6e845e.js";import{d as A,e as h,r as f,c as J,o as G,b4 as H,ab as $,aV as j,b8 as K,a5 as L,bB as M,bI as U,C as q,F as _,aH as e,aG as t,u as a,B as F,aJ as c,aD as Q,aE as R,aK as y,b5 as W,bJ as X}from"./arco.ef2238db.js";/* empty css                *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css              */import{_ as Y}from"./Edit.vue_vue_type_script_setup_true_lang.fb841f6f.js";import"./chart.ba8df0e9.js";import"./vue.f27dce51.js";import"./ImageUpload.d27c3e13.js";const Z={class:"container"},ee={class:"container-header"},te={class:"action-btns"},ae={class:"container-main"},Ce=A({__name:"index",setup(oe){const r=V(),m=h(!1),d=h(),n=f({limit:20,page:1,name:void 0}),l=f({page:{page:1,limit:20,total:0},results:[]}),z=J(()=>({total:l.page.total,current:l.page.page,pageSize:l.page.limit,showTotal:!0,showJumper:!0,showPageSize:!0,pageSizeOptions:[20,50,100,200,300,500]}));G(()=>{I()});const u=async()=>{m.value=!0;try{const o=await N.postForm("/api/admin/topic-node/list",O(n));l.page=o.page,l.results=o.results}finally{m.value=!1}};u();const C=()=>{d.value.show()},B=o=>{d.value.showEdit(o)},v=o=>{n.page=o,u()},x=o=>{n.limit=o,u()};return(o,g)=>{const k=H,b=W,w=$,p=j,E=K,D=L,i=X,S=M,T=U;return F(),q("div",Z,[_("div",ee,[e(E,{model:a(n),layout:"inline",size:a(r).table.size},{default:t(()=>[e(b,null,{default:t(()=>[e(k,{modelValue:a(n).name,"onUpdate:modelValue":g[0]||(g[0]=s=>a(n).name=s),placeholder:"\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(b,null,{default:t(()=>[e(p,{type:"primary","html-type":"submit",onClick:u},{icon:t(()=>[e(w)]),default:t(()=>[c(" \u67E5\u8BE2 ")]),_:1})]),_:1})]),_:1},8,["model","size"]),_("div",te,[e(p,{type:"primary",size:a(r).table.size,onClick:C},{icon:t(()=>[e(D)]),default:t(()=>[c(" \u65B0\u589E ")]),_:1},8,["size"])])]),_("div",ae,[e(T,{loading:a(m),data:a(l).results,size:a(r).table.size,bordered:a(r).table.bordered,pagination:a(z),"sticky-header":!0,style:{height:"100%"},"column-resizable":"",onPageChange:v,onPageSizeChange:x},{columns:t(()=>[e(i,{title:"\u7F16\u53F7","data-index":"id"}),e(i,{title:"\u540D\u79F0","data-index":"name"}),e(i,{title:"\u63CF\u8FF0","data-index":"description"}),e(i,{title:"LOGO","data-index":"logo"},{cell:t(({record:s})=>[s.logo?(F(),Q(S,{key:0,width:"60",height:"60",fit:"cover",src:s.logo},null,8,["src"])):R("",!0)]),_:1}),e(i,{title:"\u6392\u5E8F","data-index":"sortNo"}),e(i,{title:"\u72B6\u6001","data-index":"status"},{cell:t(({record:s})=>[c(y(s.status===0?"\u6B63\u5E38":"\u5220\u9664"),1)]),_:1}),e(i,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"createTime"},{cell:t(({record:s})=>[c(y(("useFormatDate"in o?o.useFormatDate:a(P))(s.createTime)),1)]),_:1}),e(i,{title:"\u64CD\u4F5C"},{cell:t(({record:s})=>[e(p,{type:"primary",size:a(r).table.size,onClick:se=>B(s.id)},{default:t(()=>[c("\u7F16\u8F91")]),_:2},1032,["size","onClick"])]),_:1})]),_:1},8,["loading","data","size","bordered","pagination"])]),e(Y,{ref_key:"edit",ref:d,onOk:u},null,512)])}}});export{Ce as default};
