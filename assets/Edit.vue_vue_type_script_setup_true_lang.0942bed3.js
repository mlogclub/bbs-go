import{f as z,a as f,A as _,y as S,z as I}from"./index.06f57532.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css                */import{d as N,j as c,r as O,b6 as T,bK as j,bE as q,ba as D,aE as H,aH as u,u as t,b1 as K,C as R,aI as l,aK as v,b7 as G,bG as M}from"./arco.2875d9f3.js";const ee=N({__name:"Edit",emits:["ok"],setup($,{expose:b,emit:F}){const V=F,E=z(),n=c(),o=O({visible:!1,isCreate:!1,title:""}),d={id:void 0,title:void 0,url:void 0,summary:void 0,status:0},a=c(d),B={title:[{required:!0,message:"\u8BF7\u586B\u5199\u6807\u9898"}],url:[{required:!0,message:"\u8BF7\u586B\u5199\u94FE\u63A5"}]},k=()=>{n.value.resetFields(),a.value=d,o.isCreate=!0,o.title="\u65B0\u589E",o.visible=!0},y=async i=>{n.value.resetFields(),o.isCreate=!1,o.title="\u7F16\u8F91";try{a.value=await f.get(`/api/admin/link/${i}`)}catch(e){_(e)}o.visible=!0},C=()=>{n.value.resetFields()},x=async i=>{if(await n.value.validate()){i(!1);return}try{const r=o.isCreate?"/api/admin/link/create":"/api/admin/link/update";await f.postForm(r,S(a.value)),I("\u63D0\u4EA4\u6210\u529F"),V("ok"),i(!0)}catch(r){_(r),i(!1)}};return b({show:k,showEdit:y}),(i,e)=>{const r=T,m=G,w=j,p=M,A=q,U=D,g=K;return R(),H(g,{visible:t(o).visible,"onUpdate:visible":e[4]||(e[4]=s=>t(o).visible=s),title:t(o).title,size:t(E).table.size,onCancel:C,onBeforeOk:x},{default:u(()=>[l(U,{ref_key:"formRef",ref:n,model:t(a),rules:B},{default:u(()=>[l(m,{field:"title",label:"\u6807\u9898"},{default:u(()=>[l(r,{modelValue:t(a).title,"onUpdate:modelValue":e[0]||(e[0]=s=>t(a).title=s)},null,8,["modelValue"])]),_:1}),l(m,{field:"url",label:"\u94FE\u63A5"},{default:u(()=>[l(r,{modelValue:t(a).url,"onUpdate:modelValue":e[1]||(e[1]=s=>t(a).url=s)},null,8,["modelValue"])]),_:1}),l(m,{field:"summary",label:"\u63CF\u8FF0"},{default:u(()=>[l(w,{modelValue:t(a).summary,"onUpdate:modelValue":e[2]||(e[2]=s=>t(a).summary=s),"allow-clear":""},null,8,["modelValue"])]),_:1}),l(m,{field:"status",label:"\u72B6\u6001"},{default:u(()=>[l(A,{modelValue:t(a).status,"onUpdate:modelValue":e[3]||(e[3]=s=>t(a).status=s)},{default:u(()=>[l(p,{value:0},{default:u(()=>e[5]||(e[5]=[v("\u6B63\u5E38")])),_:1,__:[5]}),l(p,{value:1},{default:u(()=>e[6]||(e[6]=[v("\u5220\u9664")])),_:1,__:[6]})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title","size"])}}});export{ee as _};
