import{f as I,B as V,a as N,y as O,x as P}from"./index.f21f3c04.js";import{d as A,j as b,r as F,c as j,o as H,b6 as J,ac as L,aX as $,ba as G,a6 as K,bB as M,bI as U,D as X,E as g,aI as e,aH as t,u as a,C as h,aK as c,aE as q,aF as Q,aL as y,b7 as R,bJ as W}from"./arco.8a931ad5.js";/* empty css                *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css              */import{_ as Y}from"./Edit.vue_vue_type_script_setup_true_lang.9098236b.js";import"./chart.71b0189b.js";import"./vue.a0233a03.js";import"./ImageUpload.92c8a3ca.js";const Z={class:"container"},ee={class:"container-header"},te={class:"action-btns"},ae={class:"container-main"},Ce=A({__name:"index",setup(oe){const u=I(),d=b(!1),p=b(),l=F({limit:20,page:1,name:void 0}),r=F({page:{page:1,limit:20,total:0},results:[]}),z=j(()=>({total:r.page.total,current:r.page.page,pageSize:r.page.limit,showTotal:!0,showJumper:!0,showPageSize:!0,pageSizeOptions:[20,50,100,200,300,500]}));H(()=>{V()});const m=async()=>{d.value=!0;try{const o=await N.postForm("/api/admin/topic-node/list",O(l));r.page=o.page,r.results=o.results}finally{d.value=!1}};m();const C=()=>{p.value.show()},v=o=>{p.value.showEdit(o)},x=o=>{l.page=o,m()},B=o=>{l.limit=o,m()};return(o,i)=>{const k=J,f=R,E=L,_=$,w=G,D=K,n=W,S=M,T=U;return h(),X("div",Z,[g("div",ee,[e(w,{model:a(l),layout:"inline",size:a(u).table.size},{default:t(()=>[e(f,null,{default:t(()=>[e(k,{modelValue:a(l).name,"onUpdate:modelValue":i[0]||(i[0]=s=>a(l).name=s),placeholder:"\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(f,null,{default:t(()=>[e(_,{type:"primary","html-type":"submit",onClick:m},{icon:t(()=>[e(E)]),default:t(()=>[i[1]||(i[1]=c(" \u67E5\u8BE2 "))]),_:1})]),_:1})]),_:1},8,["model","size"]),g("div",te,[e(_,{type:"primary",size:a(u).table.size,onClick:C},{icon:t(()=>[e(D)]),default:t(()=>[i[2]||(i[2]=c(" \u65B0\u589E "))]),_:1},8,["size"])])]),g("div",ae,[e(T,{loading:a(d),data:a(r).results,size:a(u).table.size,bordered:a(u).table.bordered,pagination:a(z),"sticky-header":!0,style:{height:"100%"},"column-resizable":"",onPageChange:x,onPageSizeChange:B},{columns:t(()=>[e(n,{title:"\u7F16\u53F7","data-index":"id"}),e(n,{title:"\u540D\u79F0","data-index":"name"}),e(n,{title:"\u63CF\u8FF0","data-index":"description"}),e(n,{title:"LOGO","data-index":"logo"},{cell:t(({record:s})=>[s.logo?(h(),q(S,{key:0,width:"60",height:"60",fit:"cover",src:s.logo},null,8,["src"])):Q("",!0)]),_:1}),e(n,{title:"\u6392\u5E8F","data-index":"sortNo"}),e(n,{title:"\u72B6\u6001","data-index":"status"},{cell:t(({record:s})=>[c(y(s.status===0?"\u6B63\u5E38":"\u5220\u9664"),1)]),_:1}),e(n,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"createTime"},{cell:t(({record:s})=>[c(y(("useFormatDate"in o?o.useFormatDate:a(P))(s.createTime)),1)]),_:1}),e(n,{title:"\u64CD\u4F5C"},{cell:t(({record:s})=>[e(_,{type:"primary",size:a(u).table.size,onClick:se=>v(s.id)},{default:t(()=>i[3]||(i[3]=[c("\u7F16\u8F91")])),_:2},1032,["size","onClick"])]),_:1})]),_:1},8,["loading","data","size","bordered","pagination"])]),e(Y,{ref_key:"edit",ref:p,onOk:m},null,512)])}}});export{Ce as default};
