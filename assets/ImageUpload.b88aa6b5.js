import{_ as y,C as E,E as k,F as x,z as S,A as U}from"./index.e6a2677c.js";/* empty css               *//* empty css               */import{e as V,c as C,B as n,aD as r,aG as B,F as c,D as N,u as s,C as l,aH as i,E as w,aE as P,af as z,bM as $,a5 as L,bN as R,ba as D,bb as F}from"./arco.d3370bfb.js";const H=o=>(D("data-v-d58be6f2"),o=o(),F(),o),T={key:0,class:"arco-upload-list-picture custom-upload-avatar"},A=["src"],G={class:"arco-upload-list-picture-mask"},M={key:1,class:"arco-upload-picture-card"},X={class:"arco-upload-picture-card-text"},Y=H(()=>c("div",{style:{"margin-top":"10px","font-weight":"600"}},"Upload",-1)),j={__name:"ImageUpload",props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(o,{emit:d}){const p=d,e=V(),u=C(()=>`${k()}/api/upload?userToken=${E()}`),_=(t,a)=>{e.value={...a}},m=t=>{e.value=t},f=()=>{x("\u4E0A\u4F20\u5931\u8D25")},g=t=>{const a=t.response;a.success?(p("update:modelValue",a.data.url),S("\u4E0A\u4F20\u6210\u529F")):U(a)};return(t,a)=>{const h=z,v=$,b=L,I=R;return n(),r(I,{action:s(u),"file-list":s(e)?[s(e)]:[],"show-file-list":!1,accept:"images/*",name:"image","with-credentials":"",onChange:_,onProgress:m,onSuccess:g,onError:f},{"upload-button":B(()=>[c("div",{class:N(`arco-upload-list-item${s(e)&&s(e).status==="error"?" arco-upload-list-item-error":""}`)},[o.modelValue?(n(),l("div",T,[c("img",{src:o.modelValue},null,8,A),c("div",G,[i(h)]),s(e)&&s(e).status==="uploading"&&s(e).percent<100?(n(),r(v,{key:0,percent:s(e).percent,type:"circle",size:"mini",style:w({position:"absolute",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)"})},null,8,["percent","style"])):P("",!0)])):(n(),l("div",M,[c("div",X,[i(b),Y])]))],2)]),_:1},8,["action","file-list"])}}},Q=y(j,[["__scopeId","data-v-d58be6f2"]]);export{Q as I};
