import{f as g,a as f,A as p,y as U,z}from"./index.f21f3c04.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               */import{d as N,j as c,r as S,b6 as q,bE as A,ba as I,aE as O,aH as s,u as t,b1 as j,C as H,aI as o,aK as _,b7 as R,bG as T}from"./arco.8a931ad5.js";const X=N({__name:"Edit",emits:["ok"],setup(G,{expose:v,emit:b}){const F=b,V=g(),n=c(),u=S({visible:!1,isCreate:!1,title:""}),a=c({name:void 0,code:void 0,sortNo:0,remark:void 0,status:0}),E={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0"}],code:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u7F16\u7801"}],status:[{required:!0,message:"\u8BF7\u9009\u62E9\u72B6\u6001"}]},k=()=>{n.value.resetFields(),u.isCreate=!0,u.title="\u65B0\u589E",u.visible=!0},B=async i=>{n.value.resetFields(),u.isCreate=!1,u.title="\u7F16\u8F91";try{a.value=await f.get(`/api/admin/role/${i}`)}catch(e){p(e)}u.visible=!0},C=()=>{n.value.resetFields()},D=async i=>{if(await n.value.validate()){i(!1);return}try{const r=u.isCreate?"/api/admin/role/create":"/api/admin/role/update";await f.postForm(r,U(a.value)),z("\u63D0\u4EA4\u6210\u529F"),F("ok"),i(!0)}catch(r){p(r),i(!1)}};return v({show:k,showEdit:B}),(i,e)=>{const r=q,m=R,d=T,w=A,x=I,y=j;return H(),O(y,{visible:t(u).visible,"onUpdate:visible":e[4]||(e[4]=l=>t(u).visible=l),title:t(u).title,size:t(V).table.size,onCancel:C,onBeforeOk:D},{default:s(()=>[o(x,{ref_key:"formRef",ref:n,model:t(a),rules:E},{default:s(()=>[o(m,{label:"\u89D2\u8272\u540D\u79F0",field:"name"},{default:s(()=>[o(r,{modelValue:t(a).name,"onUpdate:modelValue":e[0]||(e[0]=l=>t(a).name=l)},null,8,["modelValue"])]),_:1}),o(m,{label:"\u89D2\u8272\u7F16\u7801",field:"code"},{default:s(()=>[o(r,{modelValue:t(a).code,"onUpdate:modelValue":e[1]||(e[1]=l=>t(a).code=l)},null,8,["modelValue"])]),_:1}),o(m,{label:"\u5907\u6CE8",field:"remark"},{default:s(()=>[o(r,{modelValue:t(a).remark,"onUpdate:modelValue":e[2]||(e[2]=l=>t(a).remark=l)},null,8,["modelValue"])]),_:1}),o(m,{label:"\u72B6\u6001",field:"status"},{default:s(()=>[o(w,{modelValue:t(a).status,"onUpdate:modelValue":e[3]||(e[3]=l=>t(a).status=l)},{default:s(()=>[o(d,{value:0},{default:s(()=>e[5]||(e[5]=[_("\u6B63\u5E38")])),_:1}),o(d,{value:1},{default:s(()=>e[6]||(e[6]=[_("\u7981\u7528")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title","size"])}}});export{X as _};
