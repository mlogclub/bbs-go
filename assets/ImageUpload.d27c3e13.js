import{C as y,E as V,F as x,z as C,A as b}from"./index.1b6e845e.js";/* empty css               *//* empty css               */import{e as B,c as U,B as c,aD as r,aG as I,F as a,D as N,u as s,C as i,aH as l,E as P,aE as S,af as w,bL as z,a5 as L,bM as $}from"./arco.ef2238db.js";const R={key:0,class:"arco-upload-list-picture custom-upload-avatar"},D=["src"],F={class:"arco-upload-list-picture-mask"},H={key:1,class:"arco-upload-picture-card"},T={class:"arco-upload-picture-card-text"},A=a("div",{style:{"margin-top":"10px","font-weight":"600"}},"Upload",-1),j={__name:"ImageUpload",props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(n,{emit:u}){const d=u,e=B(),p=U(()=>`${V()}/api/upload?userToken=${y()}`),m=(o,t)=>{e.value={...t}},_=o=>{e.value=o},f=()=>{x("\u4E0A\u4F20\u5931\u8D25")},g=o=>{const t=o.response;t.success?(d("update:modelValue",t.data.url),C("\u4E0A\u4F20\u6210\u529F")):b(t)};return(o,t)=>{const h=w,E=z,k=L,v=$;return c(),r(v,{action:s(p),"file-list":s(e)?[s(e)]:[],"show-file-list":!1,accept:"images/*",name:"image","with-credentials":"",onChange:m,onProgress:_,onSuccess:g,onError:f},{"upload-button":I(()=>[a("div",{class:N(`arco-upload-list-item${s(e)&&s(e).status==="error"?" arco-upload-list-item-error":""}`)},[n.modelValue?(c(),i("div",R,[a("img",{src:n.modelValue},null,8,D),a("div",F,[l(h)]),s(e)&&s(e).status==="uploading"&&s(e).percent<100?(c(),r(E,{key:0,percent:s(e).percent,type:"circle",size:"mini",style:P({position:"absolute",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)"})},null,8,["percent","style"])):S("",!0)])):(c(),i("div",H,[a("div",T,[l(k),A])]))],2)]),_:1},8,["action","file-list"])}}};export{j as _};
