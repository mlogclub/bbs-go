import{g as A,B as O,b as N,y as P,x as G}from"./index.1b6e845e.js";import{d as J,e as F,r as y,c as U,o as H,b4 as $,bE as j,ab as K,aV as L,b8 as M,a5 as q,bB as Q,bI as R,C as W,F as b,aH as e,aG as t,u as a,B as z,aJ as c,aD as X,aE as Y,aK as B,b5 as Z,bG as ee,bJ as te}from"./arco.ef2238db.js";/* empty css                *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css              */import{_ as ae}from"./Edit.vue_vue_type_script_setup_true_lang.31183b5f.js";import"./chart.ba8df0e9.js";import"./vue.f27dce51.js";/* empty css                */import"./ImageUpload.d27c3e13.js";const oe={class:"container"},le={class:"container-header"},se={class:"action-btns"},ne={class:"container-main"},ke=J({__name:"index",setup(ie){const m=A(),p=F(!1),_=F(),s=y({limit:20,page:1,title:"",url:"",status:0}),i=y({page:{page:1,limit:20,total:0},results:[]}),C=U(()=>({total:i.page.total,current:i.page.page,pageSize:i.page.limit,showTotal:!0,showJumper:!0,showPageSize:!0,pageSizeOptions:[20,50,100,200,300,500]}));H(()=>{O()});const u=async()=>{p.value=!0;try{const l=await N.postForm("/api/admin/link/list",P(s));i.page=l.page,i.results=l.results}finally{p.value=!1}};u();const V=()=>{_.value.show()},v=l=>{_.value.showEdit(l)},E=l=>{s.page=l,u()},k=l=>{s.limit=l,u()};return(l,r)=>{const f=$,d=Z,h=ee,x=j,w=K,g=L,S=M,T=q,n=te,D=Q,I=R;return z(),W("div",oe,[b("div",le,[e(S,{model:a(s),layout:"inline",size:a(m).table.size},{default:t(()=>[e(d,null,{default:t(()=>[e(f,{modelValue:a(s).title,"onUpdate:modelValue":r[0]||(r[0]=o=>a(s).title=o),placeholder:"\u6807\u9898"},null,8,["modelValue"])]),_:1}),e(d,null,{default:t(()=>[e(f,{modelValue:a(s).url,"onUpdate:modelValue":r[1]||(r[1]=o=>a(s).url=o),placeholder:"\u94FE\u63A5"},null,8,["modelValue"])]),_:1}),e(d,null,{default:t(()=>[e(x,{modelValue:a(s).status,"onUpdate:modelValue":r[2]||(r[2]=o=>a(s).status=o),placeholder:"\u72B6\u6001","allow-clear":"",onChange:u},{default:t(()=>[e(h,{value:0,label:"\u6B63\u5E38"}),e(h,{value:1,label:"\u5220\u9664"})]),_:1},8,["modelValue"])]),_:1}),e(d,null,{default:t(()=>[e(g,{type:"primary","html-type":"submit",onClick:u},{icon:t(()=>[e(w)]),default:t(()=>[c(" \u67E5\u8BE2 ")]),_:1})]),_:1})]),_:1},8,["model","size"]),b("div",se,[e(g,{type:"primary",size:a(m).table.size,onClick:V},{icon:t(()=>[e(T)]),default:t(()=>[c(" \u65B0\u589E ")]),_:1},8,["size"])])]),b("div",ne,[e(I,{loading:a(p),data:a(i).results,size:a(m).table.size,bordered:a(m).table.bordered,pagination:a(C),"sticky-header":!0,style:{height:"100%"},"column-resizable":"",onPageChange:E,onPageSizeChange:k},{columns:t(()=>[e(n,{title:"\u7F16\u53F7","data-index":"id"}),e(n,{title:"\u6807\u9898","data-index":"title"}),e(n,{title:"\u94FE\u63A5","data-index":"url"}),e(n,{title:"LOGO","data-index":"logo"},{cell:t(({record:o})=>[o.logo?(z(),X(D,{key:0,width:"60",height:"60",fit:"cover",src:o.logo},null,8,["src"])):Y("",!0)]),_:1}),e(n,{title:"\u63CF\u8FF0","data-index":"summary"}),e(n,{title:"\u72B6\u6001","data-index":"status"},{cell:t(({record:o})=>[c(B(o.status===0?"\u6B63\u5E38":"\u5220\u9664"),1)]),_:1}),e(n,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"createTime"},{cell:t(({record:o})=>[c(B(("useFormatDate"in l?l.useFormatDate:a(G))(o.createTime)),1)]),_:1}),e(n,{title:"\u64CD\u4F5C"},{cell:t(({record:o})=>[e(g,{type:"primary",size:a(m).table.size,onClick:ue=>v(o.id)},{default:t(()=>[c("\u7F16\u8F91")]),_:2},1032,["size","onClick"])]),_:1})]),_:1},8,["loading","data","size","bordered","pagination"])]),e(ae,{ref_key:"edit",ref:_,onOk:u},null,512)])}}});export{ke as default};
