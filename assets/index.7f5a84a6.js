import{f as V,C as B,a as E,z as P,y as j}from"./index.91a3ffa1.js";import{d as A,j as h,r as N,c as H,o as J,b6 as O,ac as K,aX as L,ba as M,a6 as U,bB as X,bI as q,D as G,E as _,aI as t,aH as a,u as o,C as z,aK as d,aL as c,aE as Q,aF as R,b7 as W,bJ as Y}from"./arco.d63f31ab.js";/* empty css                *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css              */import{_ as Z}from"./Edit.vue_vue_type_script_setup_true_lang.41d06a03.js";import"./chart.fcbefee0.js";import"./vue.576003d6.js";import"./ImageUpload.8dd0960e.js";const x={class:"container"},ee={class:"container-header"},te={class:"action-btns"},ae={class:"container-main"},ve=A({__name:"index",setup(oe){const r=V(),m=h(!1),u=h(),l=N({limit:20,page:1,name:void 0}),n=N({page:{page:1,limit:20,total:0},results:[]}),y=H(()=>({total:n.page.total,current:n.page.page,pageSize:n.page.limit,showTotal:!0,showJumper:!0,showPageSize:!0,pageSizeOptions:[20,50,100,200,300,500]}));J(()=>{B()});const p=async()=>{m.value=!0;try{const e=await E.postForm("/api/admin/topic-node/list",P(l));n.page=e.page,n.results=e.results}finally{m.value=!1}};p();const $=()=>{u.value.show()},v=e=>{u.value.showEdit(e)},C=e=>{l.page=e,p()},k=e=>{l.limit=e,p()};return(e,b)=>{const w=O,f=W,T=K,g=L,F=M,S=U,s=Y,D=X,I=q;return z(),G("div",x,[_("div",ee,[t(F,{model:o(l),layout:"inline",size:o(r).table.size},{default:a(()=>[t(f,null,{default:a(()=>[t(w,{modelValue:o(l).name,"onUpdate:modelValue":b[0]||(b[0]=i=>o(l).name=i),placeholder:e.$t("pages.topicNode.filter.name")},null,8,["modelValue","placeholder"])]),_:1}),t(f,null,{default:a(()=>[t(g,{type:"primary","html-type":"submit",onClick:p},{icon:a(()=>[t(T)]),default:a(()=>[d(" "+c(e.$t("pages.topicNode.filter.search")),1)]),_:1})]),_:1})]),_:1},8,["model","size"]),_("div",te,[t(g,{type:"primary",size:o(r).table.size,onClick:$},{icon:a(()=>[t(S)]),default:a(()=>[d(" "+c(e.$t("pages.topicNode.table.add")),1)]),_:1},8,["size"])])]),_("div",ae,[t(I,{loading:o(m),data:o(n).results,size:o(r).table.size,bordered:o(r).table.bordered,pagination:o(y),"sticky-header":!0,style:{height:"100%"},"column-resizable":"",onPageChange:C,onPageSizeChange:k},{columns:a(()=>[t(s,{title:e.$t("pages.topicNode.table.id"),"data-index":"id"},null,8,["title"]),t(s,{title:e.$t("pages.topicNode.table.name"),"data-index":"name"},null,8,["title"]),t(s,{title:e.$t("pages.topicNode.table.description"),"data-index":"description"},null,8,["title"]),t(s,{title:e.$t("pages.topicNode.table.logo"),"data-index":"logo"},{cell:a(({record:i})=>[i.logo?(z(),Q(D,{key:0,width:"60",height:"60",fit:"cover",src:i.logo},null,8,["src"])):R("",!0)]),_:1},8,["title"]),t(s,{title:e.$t("pages.topicNode.table.sortNo"),"data-index":"sortNo"},null,8,["title"]),t(s,{title:e.$t("pages.topicNode.table.status"),"data-index":"status"},{cell:a(({record:i})=>[d(c(i.status===0?e.$t("pages.topicNode.table.statusNormal"):e.$t("pages.topicNode.table.statusDeleted")),1)]),_:1},8,["title"]),t(s,{title:e.$t("pages.topicNode.table.createTime"),"data-index":"createTime"},{cell:a(({record:i})=>[d(c(("useFormatDate"in e?e.useFormatDate:o(j))(i.createTime)),1)]),_:1},8,["title"]),t(s,{title:e.$t("pages.topicNode.table.action")},{cell:a(({record:i})=>[t(g,{type:"primary",size:o(r).table.size,onClick:ie=>v(i.id)},{default:a(()=>[d(c(e.$t("pages.topicNode.table.edit")),1)]),_:2},1032,["size","onClick"])]),_:1},8,["title"])]),_:1},8,["loading","data","size","bordered","pagination"])]),t(Z,{ref_key:"edit",ref:u,onOk:p},null,512)])}}});export{ve as default};
