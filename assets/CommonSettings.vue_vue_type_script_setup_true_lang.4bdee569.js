import{a as p,z as y,A as T}from"./index.f21f3c04.js";/* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css               *//* empty css               *//* empty css                */import{d as N,j as A,r as U,b6 as x,bK as I,bE as L,bL as R,aV as v,bj as H,aX as k,ba as K,aE as B,aH as a,u as t,C as f,aI as o,D as S,aJ as z,aM as O,aK as i,b7 as j,bG as G}from"./arco.8a931ad5.js";import{I as M}from"./ImageUpload.92c8a3ca.js";const le=N({__name:"CommonSettings",setup(J){const s=A(!1),e=U({siteTitle:"",siteLogo:"",siteDescription:"",siteKeywords:[],siteNotification:"",recommendTags:[],defaultNodeId:void 0,urlRedirect:!1,enableHideContent:!1,modules:{tweet:!1,topic:!1,article:!1}}),F=A([]),V=async()=>{const d=await p.get("/api/admin/sys-config/all");e.siteTitle=d.siteTitle,e.siteLogo=d.siteLogo,e.siteDescription=d.siteDescription,e.siteKeywords=d.siteKeywords,e.siteNotification=d.siteNotification,e.recommendTags=d.recommendTags,e.defaultNodeId=d.defaultNodeId,e.urlRedirect=d.urlRedirect,e.enableHideContent=d.enableHideContent,e.modules=d.modules,F.value=await p.get("/api/admin/topic-node/nodes")};V();const _=async()=>{s.value=!0;try{await p.post("/api/admin/sys-config/save",e),await V(),y("\u63D0\u4EA4\u6210\u529F")}catch(d){T(d)}finally{s.value=!1}};return(d,u)=>{const E=x,n=j,b=I,m=L,g=G,r=R,c=v,D=H,w=k,C=K;return f(),B(C,{model:t(e),"auto-label-width":""},{default:a(()=>[o(n,{label:"\u7F51\u7AD9\u540D\u79F0"},{default:a(()=>[o(E,{modelValue:t(e).siteTitle,"onUpdate:modelValue":u[0]||(u[0]=l=>t(e).siteTitle=l),type:"text",placeholder:"\u7F51\u7AD9\u540D\u79F0"},null,8,["modelValue"])]),_:1}),o(n,{label:"\u7F51\u7AD9LOGO"},{default:a(()=>[o(M,{modelValue:t(e).siteLogo,"onUpdate:modelValue":u[1]||(u[1]=l=>t(e).siteLogo=l)},null,8,["modelValue"])]),_:1}),o(n,{label:"\u7F51\u7AD9\u63CF\u8FF0"},{default:a(()=>[o(b,{modelValue:t(e).siteDescription,"onUpdate:modelValue":u[2]||(u[2]=l=>t(e).siteDescription=l),"auto-size":{minRows:2,maxRows:5},placeholder:"\u7F51\u7AD9\u63CF\u8FF0"},null,8,["modelValue"])]),_:1}),o(n,{label:"\u7F51\u7AD9\u5173\u952E\u5B57"},{default:a(()=>[o(m,{modelValue:t(e).siteKeywords,"onUpdate:modelValue":u[3]||(u[3]=l=>t(e).siteKeywords=l),multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"\u7F51\u7AD9\u5173\u952E\u5B57"},null,8,["modelValue"])]),_:1}),o(n,{label:"\u7F51\u7AD9\u516C\u544A"},{default:a(()=>[o(b,{modelValue:t(e).siteNotification,"onUpdate:modelValue":u[4]||(u[4]=l=>t(e).siteNotification=l),"auto-size":{minRows:2,maxRows:5},placeholder:"\u7F51\u7AD9\u516C\u544A\uFF08\u652F\u6301\u8F93\u5165HTML\uFF09"},null,8,["modelValue"])]),_:1}),o(n,{label:"\u63A8\u8350\u6807\u7B7E"},{default:a(()=>[o(m,{modelValue:t(e).recommendTags,"onUpdate:modelValue":u[5]||(u[5]=l=>t(e).recommendTags=l),multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"\u63A8\u8350\u6807\u7B7E"},null,8,["modelValue"])]),_:1}),o(n,{label:"\u9ED8\u8BA4\u8282\u70B9"},{default:a(()=>[o(m,{modelValue:t(e).defaultNodeId,"onUpdate:modelValue":u[6]||(u[6]=l=>t(e).defaultNodeId=l),placeholder:"\u53D1\u5E16\u9ED8\u8BA4\u8282\u70B9"},{default:a(()=>[(f(!0),S(O,null,z(t(F),l=>(f(),B(g,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(n,{label:"\u529F\u80FD\u6A21\u5757"},{default:a(()=>[o(r,{modelValue:t(e).modules.tweet,"onUpdate:modelValue":u[7]||(u[7]=l=>t(e).modules.tweet=l),border:""},{default:a(()=>u[12]||(u[12]=[i("\u52A8\u6001")])),_:1},8,["modelValue"]),o(r,{modelValue:t(e).modules.topic,"onUpdate:modelValue":u[8]||(u[8]=l=>t(e).modules.topic=l),border:""},{default:a(()=>u[13]||(u[13]=[i("\u5E16\u5B50")])),_:1},8,["modelValue"]),o(r,{modelValue:t(e).modules.article,"onUpdate:modelValue":u[9]||(u[9]=l=>t(e).modules.article=l),border:""},{default:a(()=>u[14]||(u[14]=[i("\u6587\u7AE0")])),_:1},8,["modelValue"])]),_:1}),o(n,{label:"\u7AD9\u5916\u94FE\u63A5\u8DF3\u8F6C\u9875\u9762"},{default:a(()=>[o(D,{content:"\u5728\u8DF3\u8F6C\u524D\u9700\u624B\u52A8\u786E\u8BA4\u662F\u5426\u524D\u5F80\u8BE5\u7AD9\u5916\u94FE\u63A5",placement:"top"},{default:a(()=>[o(c,{modelValue:t(e).urlRedirect,"onUpdate:modelValue":u[10]||(u[10]=l=>t(e).urlRedirect=l)},null,8,["modelValue"])]),_:1})]),_:1}),o(n,{label:"\u542F\u7528\u8BC4\u8BBA\u53EF\u89C1\u5185\u5BB9"},{default:a(()=>[o(D,{content:"\u53D1\u5E16\u65F6\u652F\u6301\u8BBE\u7F6E\u8BC4\u8BBA\u540E\u53EF\u89C1\u5185\u5BB9",placement:"top"},{default:a(()=>[o(c,{modelValue:t(e).enableHideContent,"onUpdate:modelValue":u[11]||(u[11]=l=>t(e).enableHideContent=l)},null,8,["modelValue"])]),_:1})]),_:1}),o(n,null,{default:a(()=>[o(w,{type:"primary",loading:t(s),onClick:_},{default:a(()=>u[15]||(u[15]=[i("\u63D0\u4EA4")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])}}});export{le as _};
