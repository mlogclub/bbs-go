import{f as B,B as S,a as I,y as P,x as A}from"./index.f21f3c04.js";import{d as N,j as b,r as F,c as j,o as H,b6 as J,ac as M,aX as O,ba as U,a6 as $,bA as K,bI as L,D as X,E as h,aI as e,aH as t,u as a,C as q,aK as m,aL as y,b7 as G,bJ as Q}from"./arco.8a931ad5.js";/* empty css                *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css              *//* empty css               *//* empty css              */import{_ as R}from"./Edit.vue_vue_type_script_setup_true_lang.38513396.js";import"./chart.71b0189b.js";import"./vue.a0233a03.js";const W={class:"container"},Y={class:"container-header"},Z={class:"action-btns"},ee={class:"container-main"},be=N({__name:"index",setup(te){const u=B(),p=b(!1),c=b(),s=F({limit:20,page:1,name:void 0,path:void 0}),l=F({page:{page:1,limit:20,total:0},results:[]}),z=j(()=>({total:l.page.total,current:l.page.page,pageSize:l.page.limit,showTotal:!0,showJumper:!0,showPageSize:!0,pageSizeOptions:[20,50,100,200,300,500]}));H(()=>{S()});const d=async()=>{p.value=!0;try{const o=await I.postForm("/api/admin/api/list",P(s));l.page=o.page,l.results=o.results}finally{p.value=!1}};d();const w=()=>{c.value.show()},v=o=>{c.value.showEdit(o)},C=o=>{s.page=o,d()},k=o=>{s.limit=o,d()};return(o,n)=>{const f=J,_=G,x=M,g=O,D=U,E=$,r=Q,T=K,V=L;return q(),X("div",W,[h("div",Y,[e(D,{model:a(s),layout:"inline",size:a(u).table.size},{default:t(()=>[e(_,null,{default:t(()=>[e(f,{modelValue:a(s).name,"onUpdate:modelValue":n[0]||(n[0]=i=>a(s).name=i),placeholder:"\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(_,null,{default:t(()=>[e(f,{modelValue:a(s).path,"onUpdate:modelValue":n[1]||(n[1]=i=>a(s).path=i),placeholder:"\u8DEF\u5F84"},null,8,["modelValue"])]),_:1}),e(_,null,{default:t(()=>[e(g,{type:"primary","html-type":"submit",onClick:d},{icon:t(()=>[e(x)]),default:t(()=>[n[2]||(n[2]=m(" \u67E5\u8BE2 "))]),_:1})]),_:1})]),_:1},8,["model","size"]),h("div",Z,[e(g,{type:"primary",size:a(u).table.size,onClick:w},{icon:t(()=>[e(E)]),default:t(()=>[n[3]||(n[3]=m(" \u65B0\u589E "))]),_:1},8,["size"])])]),h("div",ee,[e(V,{loading:a(p),data:a(l).results,size:a(u).table.size,bordered:a(u).table.bordered,pagination:a(z),"sticky-header":!0,style:{height:"100%"},"column-resizable":"","row-key":"id",onPageChange:C,onPageSizeChange:k},{columns:t(()=>[e(r,{title:"\u7F16\u53F7","data-index":"id",width:100}),e(r,{title:"Method","data-index":"method",width:100},{cell:t(({record:i})=>[e(T,null,{default:t(()=>[m(y(i.method),1)]),_:2},1024)]),_:1}),e(r,{title:"Path","data-index":"path"}),e(r,{title:"\u540D\u79F0","data-index":"name"}),e(r,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"createTime",width:200},{cell:t(({record:i})=>[m(y(("useFormatDate"in o?o.useFormatDate:a(A))(i.createTime)),1)]),_:1}),e(r,{title:"\u64CD\u4F5C",width:100},{cell:t(({record:i})=>[e(g,{type:"primary",size:a(u).table.size,onClick:ae=>v(i.id)},{default:t(()=>n[4]||(n[4]=[m("\u7F16\u8F91")])),_:2},1032,["size","onClick"])]),_:1})]),_:1},8,["loading","data","size","bordered","pagination"])]),e(R,{ref_key:"edit",ref:c,onOk:d},null,512)])}}});export{be as default};
