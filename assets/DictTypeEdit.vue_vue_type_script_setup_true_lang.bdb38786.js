import{v as B,f as S,a as c,B as f,z as U,A as z}from"./index.13a6631b.js";/* empty css              *//* empty css                *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               */import{d as j,j as b,r as q,b6 as x,bE as N,bK as O,ba as A,aE as D,aH as n,u as a,b1 as H,C as R,aI as s,b7 as G,bG as K}from"./arco.26e78f37.js";const ee=j({__name:"DictTypeEdit",emits:["ok"],setup(M,{expose:_,emit:v}){const{t:d}=B.exports.useI18n(),y=v,g=S(),p=b(),o=q({visible:!1,isCreate:!1,title:""}),t=b({}),T={name:[{required:!0,message:d("pages.dictType.pleaseInputName")}],code:[{required:!0,message:d("pages.dictType.pleaseInputCode")}],status:[{required:!0}]},V=()=>{t.value={status:0},p.value.resetFields(),o.isCreate=!0,o.title=d("pages.dictType.add"),o.visible=!0},k=async l=>{p.value.resetFields(),o.isCreate=!1,o.title=d("pages.dictType.edit");try{t.value=await c.get(`/api/admin/dict-type/${l}`)}catch(e){f(e)}o.visible=!0},C=()=>{p.value.resetFields()},E=async l=>{if(await p.value.validate()){l(!1);return}try{const r=o.isCreate?"/api/admin/dict-type/create":"/api/admin/dict-type/update";await c.postForm(r,U(t.value)),z(d("pages.dictType.submitSuccess")),y("ok"),l(!0)}catch(r){f(r),l(!1)}};return _({show:V,showEdit:k}),(l,e)=>{const r=x,u=G,m=K,F=N,I=O,$=A,w=H;return R(),D(w,{visible:a(o).visible,"onUpdate:visible":e[4]||(e[4]=i=>a(o).visible=i),title:a(o).title,size:a(g).table.size,onCancel:C,onBeforeOk:E},{default:n(()=>[s($,{ref_key:"formRef",ref:p,model:a(t),rules:T},{default:n(()=>[s(u,{label:l.$t("pages.dictType.name"),field:"name"},{default:n(()=>[s(r,{modelValue:a(t).name,"onUpdate:modelValue":e[0]||(e[0]=i=>a(t).name=i)},null,8,["modelValue"])]),_:1},8,["label"]),s(u,{label:l.$t("pages.dictType.code"),field:"code"},{default:n(()=>[s(r,{modelValue:a(t).code,"onUpdate:modelValue":e[1]||(e[1]=i=>a(t).code=i)},null,8,["modelValue"])]),_:1},8,["label"]),s(u,{label:l.$t("pages.dictType.status"),field:"status"},{default:n(()=>[s(F,{modelValue:a(t).status,"onUpdate:modelValue":e[2]||(e[2]=i=>a(t).status=i)},{default:n(()=>[s(m,{value:0,label:l.$t("pages.dictType.enabled")},null,8,["label"]),s(m,{value:1,label:l.$t("pages.dictType.disabled")},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),s(u,{label:l.$t("pages.dictType.remark"),field:"remark"},{default:n(()=>[s(I,{modelValue:a(t).remark,"onUpdate:modelValue":e[3]||(e[3]=i=>a(t).remark=i),"max-length":128},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title","size"])}}});export{ee as _};
