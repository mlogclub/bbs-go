import{v as z,f as N,a as c,B as v,z as j,A as x}from"./index.91a3ffa1.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css                */import{d as D,j as _,r as O,b6 as q,bK as A,bE as H,ba as K,aE as R,aH as n,u as t,b1 as G,C as L,aI as s,aK as b,aL as k,b7 as M,bG as J}from"./arco.d63f31ab.js";const le=D({__name:"Edit",emits:["ok"],setup(P,{expose:g,emit:V}){const y=V,{t:u}=z.exports.useI18n(),C=N(),m=_(),o=O({visible:!1,isCreate:!1,title:""}),p={id:void 0,title:void 0,url:void 0,summary:void 0,status:0},a=_(p),w={title:[{required:!0,message:u("pages.link.pleaseInputTitle")}],url:[{required:!0,message:u("pages.link.pleaseInputUrl")}]},E=()=>{m.value.resetFields(),a.value=p,o.isCreate=!0,o.title=u("pages.link.new"),o.visible=!0},F=async l=>{m.value.resetFields(),o.isCreate=!1,o.title=u("pages.link.editTitle");try{a.value=await c.get(`/api/admin/link/${l}`)}catch(e){v(e)}o.visible=!0},I=()=>{m.value.resetFields()},$=async l=>{if(await m.value.validate()){l(!1);return}try{const r=o.isCreate?"/api/admin/link/create":"/api/admin/link/update";await c.postForm(r,j(a.value)),x(u("pages.link.submitSuccess")),y("ok"),l(!0)}catch(r){v(r),l(!1)}};return g({show:E,showEdit:F}),(l,e)=>{const r=q,d=M,S=A,f=J,U=H,B=K,T=G;return L(),R(T,{visible:t(o).visible,"onUpdate:visible":e[4]||(e[4]=i=>t(o).visible=i),title:t(o).title,size:t(C).table.size,onCancel:I,onBeforeOk:$},{default:n(()=>[s(B,{ref_key:"formRef",ref:m,model:t(a),rules:w},{default:n(()=>[s(d,{field:"title",label:l.$t("pages.link.title")},{default:n(()=>[s(r,{modelValue:t(a).title,"onUpdate:modelValue":e[0]||(e[0]=i=>t(a).title=i)},null,8,["modelValue"])]),_:1},8,["label"]),s(d,{field:"url",label:l.$t("pages.link.url")},{default:n(()=>[s(r,{modelValue:t(a).url,"onUpdate:modelValue":e[1]||(e[1]=i=>t(a).url=i)},null,8,["modelValue"])]),_:1},8,["label"]),s(d,{field:"summary",label:l.$t("pages.link.summary")},{default:n(()=>[s(S,{modelValue:t(a).summary,"onUpdate:modelValue":e[2]||(e[2]=i=>t(a).summary=i),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["label"]),s(d,{field:"status",label:l.$t("pages.link.status")},{default:n(()=>[s(U,{modelValue:t(a).status,"onUpdate:modelValue":e[3]||(e[3]=i=>t(a).status=i)},{default:n(()=>[s(f,{value:0},{default:n(()=>[b(k(l.$t("pages.link.statusNormal")),1)]),_:1}),s(f,{value:1},{default:n(()=>[b(k(l.$t("pages.link.statusDeleted")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title","size"])}}});export{le as _};
