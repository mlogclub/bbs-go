import{f as y,a as p,A as f,y as D,z as P}from"./index.f21f3c04.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               */import{d as S,j as c,r as U,b6 as g,bE as x,ba as A,aE as O,aH as r,u as t,b1 as z,C as N,aI as e,b7 as q,bG as G}from"./arco.8a931ad5.js";const K=S({__name:"Edit",emits:["ok"],setup(I,{expose:v,emit:_}){const b=_,F=y(),n=c(),o=U({visible:!1,isCreate:!1,title:""}),l=c({name:void 0,method:void 0,path:void 0,createTime:void 0,updateTime:void 0}),E={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}],method:[{required:!0,message:"\u8BF7\u8F93\u5165Method"}],path:[{required:!0,message:"\u8BF7\u8F93\u5165Path"}]},h=()=>{n.value.resetFields(),o.isCreate=!0,o.title="\u65B0\u589E",o.visible=!0},T=async i=>{n.value.resetFields(),o.isCreate=!1,o.title="\u7F16\u8F91";try{l.value=await p.get(`/api/admin/api/${i}`)}catch(a){f(a)}o.visible=!0},V=()=>{n.value.resetFields()},C=async i=>{if(await n.value.validate()){i(!1);return}try{const u=o.isCreate?"/api/admin/api/create":"/api/admin/api/update";await p.postForm(u,D(l.value)),P("\u63D0\u4EA4\u6210\u529F"),b("ok"),i(!0)}catch(u){f(u),i(!1)}};return v({show:h,showEdit:T}),(i,a)=>{const u=g,d=q,m=G,B=x,k=A,w=z;return N(),O(w,{visible:t(o).visible,"onUpdate:visible":a[3]||(a[3]=s=>t(o).visible=s),title:t(o).title,size:t(F).table.size,onCancel:V,onBeforeOk:C},{default:r(()=>[e(k,{ref_key:"formRef",ref:n,model:t(l),rules:E},{default:r(()=>[e(d,{label:"\u540D\u79F0",field:"name"},{default:r(()=>[e(u,{modelValue:t(l).name,"onUpdate:modelValue":a[0]||(a[0]=s=>t(l).name=s)},null,8,["modelValue"])]),_:1}),e(d,{label:"Method",field:"method"},{default:r(()=>[e(B,{modelValue:t(l).method,"onUpdate:modelValue":a[1]||(a[1]=s=>t(l).method=s)},{default:r(()=>[e(m,{value:"GET",label:"GET"}),e(m,{value:"POST",label:"POST"}),e(m,{value:"DELETE",label:"DELETE"}),e(m,{value:"PUT",label:"PUT"}),e(m,{value:"ANY",label:"ANY"})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"Path",field:"path"},{default:r(()=>[e(u,{modelValue:t(l).path,"onUpdate:modelValue":a[2]||(a[2]=s=>t(l).path=s)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title","size"])}}});export{K as _};
