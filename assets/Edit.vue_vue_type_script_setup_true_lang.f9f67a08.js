import{g,b as p,A as c,y as w,z as y}from"./index.1b6e845e.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               */import{d as P,e as f,r as S,b4 as U,bE as x,b8 as A,aD as O,aG as r,u as t,a$ as z,B as G,aH as e,b5 as N,bG as q}from"./arco.ef2238db.js";const K=P({__name:"Edit",emits:["ok"],setup(M,{expose:v,emit:_}){const b=_,F=g(),n=f(),o=S({visible:!1,isCreate:!1,title:""}),l=f({name:void 0,method:void 0,path:void 0,createTime:void 0,updateTime:void 0}),E={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}],method:[{required:!0,message:"\u8BF7\u8F93\u5165Method"}],path:[{required:!0,message:"\u8BF7\u8F93\u5165Path"}]},h=()=>{n.value.resetFields(),o.isCreate=!0,o.title="\u65B0\u589E",o.visible=!0},T=async i=>{n.value.resetFields(),o.isCreate=!1,o.title="\u7F16\u8F91";try{l.value=await p.get(`/api/admin/api/${i}`)}catch(a){c(a)}o.visible=!0},V=()=>{n.value.resetFields()},B=async i=>{if(await n.value.validate()){i(!1);return}try{const u=o.isCreate?"/api/admin/api/create":"/api/admin/api/update";await p.postForm(u,w(l.value)),y("\u63D0\u4EA4\u6210\u529F"),b("ok"),i(!0)}catch(u){c(u),i(!1)}};return v({show:h,showEdit:T}),(i,a)=>{const u=U,d=N,m=q,C=x,k=A,D=z;return G(),O(D,{visible:t(o).visible,"onUpdate:visible":a[3]||(a[3]=s=>t(o).visible=s),title:t(o).title,size:t(F).table.size,onCancel:V,onBeforeOk:B},{default:r(()=>[e(k,{ref_key:"formRef",ref:n,model:t(l),rules:E},{default:r(()=>[e(d,{label:"\u540D\u79F0",field:"name"},{default:r(()=>[e(u,{modelValue:t(l).name,"onUpdate:modelValue":a[0]||(a[0]=s=>t(l).name=s)},null,8,["modelValue"])]),_:1}),e(d,{label:"Method",field:"method"},{default:r(()=>[e(C,{modelValue:t(l).method,"onUpdate:modelValue":a[1]||(a[1]=s=>t(l).method=s)},{default:r(()=>[e(m,{value:"GET",label:"GET"}),e(m,{value:"POST",label:"POST"}),e(m,{value:"DELETE",label:"DELETE"}),e(m,{value:"PUT",label:"PUT"}),e(m,{value:"ANY",label:"ANY"})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"Path",field:"path"},{default:r(()=>[e(u,{modelValue:t(l).path,"onUpdate:modelValue":a[2]||(a[2]=s=>t(l).path=s)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title","size"])}}});export{K as _};
