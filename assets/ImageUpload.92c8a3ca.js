import{_ as k,C as x,E as y,F as b,z as U,A as V}from"./index.f21f3c04.js";/* empty css               *//* empty css               *//* empty css               */import{j as C,c as N,C as c,aE as r,aH as B,E as a,F as P,u as s,D as l,aI as i,aF as w,ag as S,bM as $,a6 as z,bN as F}from"./arco.8a931ad5.js";const L={key:0,class:"arco-upload-list-picture custom-upload-avatar"},R=["src"],H={class:"arco-upload-list-picture-mask"},T={key:1,class:"arco-upload-picture-card"},j={class:"arco-upload-picture-card-text"},A={__name:"ImageUpload",props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(n,{emit:d}){const p=d,e=C(),u=N(()=>`${y()}/api/upload?userToken=${x()}`),m=(t,o)=>{e.value={...o}},_=t=>{e.value=t},f=()=>{b("\u4E0A\u4F20\u5931\u8D25")},g=t=>{const o=t.response;o.success?(p("update:modelValue",o.data.url),U("\u4E0A\u4F20\u6210\u529F")):V(o)};return(t,o)=>{const v=S,h=$,E=z,I=F;return c(),r(I,{action:s(u),"file-list":s(e)?[s(e)]:[],"show-file-list":!1,accept:"images/*",name:"image","with-credentials":"",onChange:m,onProgress:_,onSuccess:g,onError:f},{"upload-button":B(()=>[a("div",{class:P(`arco-upload-list-item${s(e)&&s(e).status==="error"?" arco-upload-list-item-error":""}`)},[n.modelValue?(c(),l("div",L,[a("img",{src:n.modelValue},null,8,R),a("div",H,[i(v)]),s(e)&&s(e).status==="uploading"&&s(e).percent<100?(c(),r(h,{key:0,percent:s(e).percent,type:"circle",size:"mini",style:{position:"absolute",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)"}},null,8,["percent"])):w("",!0)])):(c(),l("div",T,[a("div",j,[i(E),o[0]||(o[0]=a("div",{style:{"margin-top":"10px","font-weight":"600"}},"Upload",-1))])]))],2)]),_:1},8,["action","file-list"])}}},G=k(A,[["__scopeId","data-v-d58be6f2"]]);export{G as I};
