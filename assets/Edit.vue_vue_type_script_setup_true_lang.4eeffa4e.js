import{v as B,f as S,a as f,B as b,z,A as c}from"./index.91a3ffa1.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               */import{d as U,j as v,r as j,bE as A,b6 as O,ba as R,aE as h,aH as i,u as a,b1 as x,C as D,aI as l,bG as H,b7 as N}from"./arco.d63f31ab.js";const X=U({__name:"Edit",emits:["ok"],setup(T,{expose:_,emit:w}){const{t:p}=B.exports.useI18n(),g=w,y=S(),n=v(),t=j({visible:!1,isCreate:!1,title:""}),r=v({type:void 0,word:void 0,remark:void 0}),k={word:[{required:!0,message:p("pages.forbiddenWord.pleaseInputWord")}]},W=()=>{n.value.resetFields(),t.isCreate=!0,t.title=p("pages.forbiddenWord.new"),t.visible=!0},V=async e=>{n.value.resetFields(),t.isCreate=!1,t.title=p("pages.forbiddenWord.editTitle");try{r.value=await f.get(`/api/admin/forbidden-word/${e}`)}catch(o){b(o)}t.visible=!0},C=()=>{n.value.resetFields()},E=async e=>{if(await n.value.validate()){e(!1);return}try{const d=t.isCreate?"/api/admin/forbidden-word/create":"/api/admin/forbidden-word/update";await f.postForm(d,z(r.value)),c("\u63D0\u4EA4\u6210\u529F"),c(p("forbiddenWord.submitSuccess")),g("ok"),e(!0)}catch(d){b(d),e(!1)}};return _({show:W,showEdit:V}),(e,o)=>{const d=H,F=A,u=N,m=O,$=R,I=x;return D(),h(I,{visible:a(t).visible,"onUpdate:visible":o[3]||(o[3]=s=>a(t).visible=s),title:a(t).title,size:a(y).table.size,onCancel:C,onBeforeOk:E},{default:i(()=>[l($,{ref_key:"formRef",ref:n,model:a(r),rules:k},{default:i(()=>[l(u,{label:e.$t("pages.forbiddenWord.type"),field:"type"},{default:i(()=>[l(F,{modelValue:a(r).type,"onUpdate:modelValue":o[0]||(o[0]=s=>a(r).type=s),placeholder:e.$t("pages.forbiddenWord.type")},{default:i(()=>[l(d,{label:e.$t("pages.forbiddenWord.typeWord"),value:"word"},null,8,["label"]),l(d,{label:e.$t("pages.forbiddenWord.typeRegex"),value:"regex"},null,8,["label"])]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),l(u,{label:e.$t("pages.forbiddenWord.word"),field:"word"},{default:i(()=>[l(m,{modelValue:a(r).word,"onUpdate:modelValue":o[1]||(o[1]=s=>a(r).word=s)},null,8,["modelValue"])]),_:1},8,["label"]),l(u,{label:e.$t("pages.forbiddenWord.remark"),field:"remark"},{default:i(()=>[l(m,{modelValue:a(r).remark,"onUpdate:modelValue":o[2]||(o[2]=s=>a(r).remark=s)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title","size"])}}});export{X as _};
