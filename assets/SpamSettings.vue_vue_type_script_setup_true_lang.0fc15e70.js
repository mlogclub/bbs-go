import{v,a as c,A as _,B as C}from"./index.91a3ffa1.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css               */import{d as T,j as $,r as S,aV as h,bl as y,aU as w,bE as A,aX as U,ba as O,aE as P,aH as i,u as l,C as W,aI as a,aK as I,aL as B,b7 as N}from"./arco.d63f31ab.js";const G=T({__name:"SpamSettings",setup(k){const{t:u}=v.exports.useI18n(),r=$(!1),t=S({topicCaptcha:void 0,createTopicEmailVerified:void 0,createArticleEmailVerified:void 0,createCommentEmailVerified:void 0,articlePending:void 0,userObserveSeconds:void 0,emailWhitelist:void 0}),d=async()=>{const e=await c.get("/api/admin/sys-config/configs");t.topicCaptcha=e.topicCaptcha,t.createTopicEmailVerified=e.createTopicEmailVerified,t.createArticleEmailVerified=e.createArticleEmailVerified,t.createCommentEmailVerified=e.createCommentEmailVerified,t.articlePending=e.articlePending,t.userObserveSeconds=e.userObserveSeconds,t.emailWhitelist=e.emailWhitelist};d();const f=async()=>{r.value=!0;try{await c.post("/api/admin/sys-config/save",t),await d(),_(u("pages.settings.spam.message.submitSuccess"))}catch(e){C(e)}finally{r.value=!1}};return(e,o)=>{const p=h,m=y,n=N,g=w,V=A,b=U,E=O;return W(),P(E,{model:l(t),"auto-label-width":""},{default:i(()=>[a(n,{label:e.$t("pages.settings.spam.topicCaptcha")},{default:i(()=>[a(m,{content:e.$t("pages.settings.spam.topicCaptchaTooltip"),placement:"top"},{default:i(()=>[a(p,{modelValue:l(t).topicCaptcha,"onUpdate:modelValue":o[0]||(o[0]=s=>l(t).topicCaptcha=s)},null,8,["modelValue"])]),_:1},8,["content"])]),_:1},8,["label"]),a(n,{label:e.$t("pages.settings.spam.createTopicEmailVerified")},{default:i(()=>[a(m,{content:e.$t("pages.settings.spam.createTopicEmailVerifiedTooltip"),placement:"top"},{default:i(()=>[a(p,{modelValue:l(t).createTopicEmailVerified,"onUpdate:modelValue":o[1]||(o[1]=s=>l(t).createTopicEmailVerified=s)},null,8,["modelValue"])]),_:1},8,["content"])]),_:1},8,["label"]),a(n,{label:e.$t("pages.settings.spam.createArticleEmailVerified")},{default:i(()=>[a(m,{content:e.$t("pages.settings.spam.createArticleEmailVerifiedTooltip"),placement:"top"},{default:i(()=>[a(p,{modelValue:l(t).createArticleEmailVerified,"onUpdate:modelValue":o[2]||(o[2]=s=>l(t).createArticleEmailVerified=s)},null,8,["modelValue"])]),_:1},8,["content"])]),_:1},8,["label"]),a(n,{label:e.$t("pages.settings.spam.createCommentEmailVerified")},{default:i(()=>[a(m,{content:e.$t("pages.settings.spam.createCommentEmailVerifiedTooltip"),placement:"top"},{default:i(()=>[a(p,{modelValue:l(t).createCommentEmailVerified,"onUpdate:modelValue":o[3]||(o[3]=s=>l(t).createCommentEmailVerified=s)},null,8,["modelValue"])]),_:1},8,["content"])]),_:1},8,["label"]),a(n,{label:e.$t("pages.settings.spam.articlePending")},{default:i(()=>[a(m,{content:e.$t("pages.settings.spam.articlePendingTooltip"),placement:"top"},{default:i(()=>[a(p,{modelValue:l(t).articlePending,"onUpdate:modelValue":o[4]||(o[4]=s=>l(t).articlePending=s)},null,8,["modelValue"])]),_:1},8,["content"])]),_:1},8,["label"]),a(n,{label:e.$t("pages.settings.spam.userObserveSeconds")},{default:i(()=>[a(m,{content:e.$t("pages.settings.spam.userObserveSecondsTooltip"),placement:"top"},{default:i(()=>[a(g,{modelValue:l(t).userObserveSeconds,"onUpdate:modelValue":o[5]||(o[5]=s=>l(t).userObserveSeconds=s),mode:"button",min:0,max:720},null,8,["modelValue"])]),_:1},8,["content"])]),_:1},8,["label"]),a(n,{label:e.$t("pages.settings.spam.emailWhitelist")},{default:i(()=>[a(V,{modelValue:l(t).emailWhitelist,"onUpdate:modelValue":o[6]||(o[6]=s=>l(t).emailWhitelist=s),style:{width:"100%"},multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:e.$t("pages.settings.spam.placeholder.emailWhitelist")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(n,null,{default:i(()=>[a(b,{type:"primary",loading:l(r),onClick:f},{default:i(()=>[I(B(e.$t("pages.settings.spam.submit")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])}}});export{G as _};
