import{f as D,B as I,a as A,y as P,x as N}from"./index.25ef825f.js";import{d as O,j as y,r as z,c as U,o as j,b6 as H,bE as J,ac as $,aX as G,ba as K,a6 as L,bI as M,D as X,E as g,aI as e,aH as a,u as t,C as q,aK as m,aL as h,b7 as Q,bG as R,bJ as W}from"./arco.8a931ad5.js";/* empty css                *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css              *//* empty css               *//* empty css              */import{_ as Y}from"./Edit.vue_vue_type_script_setup_true_lang.2bf966d9.js";import"./chart.71b0189b.js";import"./vue.a0233a03.js";/* empty css                */const Z={class:"container"},ee={class:"container-header"},te={class:"action-btns"},ae={class:"container-main"},he=O({__name:"index",setup(oe){const d=D(),c=y(!1),_=y(),n=z({limit:20,page:1,title:"",url:"",status:0}),u=z({page:{page:1,limit:20,total:0},results:[]}),C=U(()=>({total:u.page.total,current:u.page.page,pageSize:u.page.limit,showTotal:!0,showJumper:!0,showPageSize:!0,pageSizeOptions:[20,50,100,200,300,500]}));j(()=>{I()});const r=async()=>{c.value=!0;try{const l=await A.postForm("/api/admin/link/list",P(n));u.page=l.page,u.results=l.results}finally{c.value=!1}};r();const E=()=>{_.value.show()},v=l=>{_.value.showEdit(l)},B=l=>{n.page=l,r()},V=l=>{n.limit=l,r()};return(l,o)=>{const b=H,p=Q,F=R,x=J,k=$,f=G,w=K,S=L,i=W,T=M;return q(),X("div",Z,[g("div",ee,[e(w,{model:t(n),layout:"inline",size:t(d).table.size},{default:a(()=>[e(p,null,{default:a(()=>[e(b,{modelValue:t(n).title,"onUpdate:modelValue":o[0]||(o[0]=s=>t(n).title=s),placeholder:"\u6807\u9898"},null,8,["modelValue"])]),_:1}),e(p,null,{default:a(()=>[e(b,{modelValue:t(n).url,"onUpdate:modelValue":o[1]||(o[1]=s=>t(n).url=s),placeholder:"\u94FE\u63A5"},null,8,["modelValue"])]),_:1}),e(p,null,{default:a(()=>[e(x,{modelValue:t(n).status,"onUpdate:modelValue":o[2]||(o[2]=s=>t(n).status=s),placeholder:"\u72B6\u6001","allow-clear":"",onChange:r},{default:a(()=>[e(F,{value:0,label:"\u6B63\u5E38"}),e(F,{value:1,label:"\u5220\u9664"})]),_:1},8,["modelValue"])]),_:1}),e(p,null,{default:a(()=>[e(f,{type:"primary","html-type":"submit",onClick:r},{icon:a(()=>[e(k)]),default:a(()=>[o[3]||(o[3]=m(" \u67E5\u8BE2 "))]),_:1})]),_:1})]),_:1},8,["model","size"]),g("div",te,[e(f,{type:"primary",size:t(d).table.size,onClick:E},{icon:a(()=>[e(S)]),default:a(()=>[o[4]||(o[4]=m(" \u65B0\u589E "))]),_:1},8,["size"])])]),g("div",ae,[e(T,{loading:t(c),data:t(u).results,size:t(d).table.size,bordered:t(d).table.bordered,pagination:t(C),"sticky-header":!0,style:{height:"100%"},"column-resizable":"",onPageChange:B,onPageSizeChange:V},{columns:a(()=>[e(i,{title:"\u7F16\u53F7","data-index":"id"}),e(i,{title:"\u6807\u9898","data-index":"title"}),e(i,{title:"\u94FE\u63A5","data-index":"url"}),e(i,{title:"\u63CF\u8FF0","data-index":"summary"}),e(i,{title:"\u72B6\u6001","data-index":"status"},{cell:a(({record:s})=>[m(h(s.status===0?"\u6B63\u5E38":"\u5220\u9664"),1)]),_:1}),e(i,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"createTime"},{cell:a(({record:s})=>[m(h(("useFormatDate"in l?l.useFormatDate:t(N))(s.createTime)),1)]),_:1}),e(i,{title:"\u64CD\u4F5C"},{cell:a(({record:s})=>[e(f,{type:"primary",size:t(d).table.size,onClick:le=>v(s.id)},{default:a(()=>o[5]||(o[5]=[m("\u7F16\u8F91")])),_:2},1032,["size","onClick"])]),_:1})]),_:1},8,["loading","data","size","bordered","pagination"])]),e(Y,{ref_key:"edit",ref:_,onOk:r},null,512)])}}});export{he as default};
