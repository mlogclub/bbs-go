import{f as D,a as p,A as c,y as U,z}from"./index.f21f3c04.js";/* empty css              *//* empty css                *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               */import{d as S,j as f,r as q,b6 as A,bE as I,bK as O,ba as T,aE as j,aH as u,u as t,b1 as H,C as N,aI as o,b7 as R,bG as G}from"./arco.8a931ad5.js";const Z=S({__name:"DictTypeEdit",emits:["ok"],setup(K,{expose:_,emit:b}){const v=b,F=D(),n=f(),l=q({visible:!1,isCreate:!1,title:""}),a=f({}),V={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}],code:[{required:!0,message:"\u8BF7\u8F93\u5165\u7F16\u7801"}],status:[{required:!0}]},k=()=>{a.value={status:0},n.value.resetFields(),l.isCreate=!0,l.title="\u65B0\u589E",l.visible=!0},y=async i=>{n.value.resetFields(),l.isCreate=!1,l.title="\u7F16\u8F91";try{a.value=await p.get(`/api/admin/dict-type/${i}`)}catch(e){c(e)}l.visible=!0},C=()=>{n.value.resetFields()},E=async i=>{if(await n.value.validate()){i(!1);return}try{const r=l.isCreate?"/api/admin/dict-type/create":"/api/admin/dict-type/update";await p.postForm(r,U(a.value)),z("\u63D0\u4EA4\u6210\u529F"),v("ok"),i(!0)}catch(r){c(r),i(!1)}};return _({show:k,showEdit:y}),(i,e)=>{const r=A,m=R,d=G,x=I,B=O,w=T,g=H;return N(),j(g,{visible:t(l).visible,"onUpdate:visible":e[4]||(e[4]=s=>t(l).visible=s),title:t(l).title,size:t(F).table.size,onCancel:C,onBeforeOk:E},{default:u(()=>[o(w,{ref_key:"formRef",ref:n,model:t(a),rules:V},{default:u(()=>[o(m,{label:"\u540D\u79F0",field:"name"},{default:u(()=>[o(r,{modelValue:t(a).name,"onUpdate:modelValue":e[0]||(e[0]=s=>t(a).name=s)},null,8,["modelValue"])]),_:1}),o(m,{label:"\u7F16\u7801",field:"code"},{default:u(()=>[o(r,{modelValue:t(a).code,"onUpdate:modelValue":e[1]||(e[1]=s=>t(a).code=s)},null,8,["modelValue"])]),_:1}),o(m,{label:"\u72B6\u6001",field:"status"},{default:u(()=>[o(x,{modelValue:t(a).status,"onUpdate:modelValue":e[2]||(e[2]=s=>t(a).status=s)},{default:u(()=>[o(d,{value:0,label:"\u542F\u7528"}),o(d,{value:1,label:"\u7981\u7528"})]),_:1},8,["modelValue"])]),_:1}),o(m,{label:"\u5907\u6CE8",field:"remark"},{default:u(()=>[o(B,{modelValue:t(a).remark,"onUpdate:modelValue":e[3]||(e[3]=s=>t(a).remark=s),"max-length":128},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title","size"])}}});export{Z as _};
