import{g as D,B as A,b as I,y as P,x as J}from"./index.c3b98e95.js";import{d as N,e as F,r as y,c as O,o as U,b4 as G,bE as H,ab as $,aV as j,b8 as K,a5 as M,bI as q,C as L,F as g,aH as e,aG as a,u as t,B as Q,aJ as m,aK as z,b5 as R,bG as W,bJ as X}from"./arco.d3370bfb.js";/* empty css                *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css              *//* empty css               *//* empty css              */import{_ as Y}from"./Edit.vue_vue_type_script_setup_true_lang.df24bb62.js";import"./chart.d349306c.js";import"./vue.b9a35bcf.js";/* empty css                */const Z={class:"container"},ee={class:"container-header"},te={class:"action-btns"},ae={class:"container-main"},ze=N({__name:"index",setup(oe){const d=D(),c=F(!1),_=F(),s=y({limit:20,page:1,title:"",url:"",status:0}),i=y({page:{page:1,limit:20,total:0},results:[]}),C=O(()=>({total:i.page.total,current:i.page.page,pageSize:i.page.limit,showTotal:!0,showJumper:!0,showPageSize:!0,pageSizeOptions:[20,50,100,200,300,500]}));U(()=>{A()});const u=async()=>{c.value=!0;try{const o=await I.postForm("/api/admin/link/list",P(s));i.page=o.page,i.results=o.results}finally{c.value=!1}};u();const B=()=>{_.value.show()},V=o=>{_.value.showEdit(o)},v=o=>{s.page=o,u()},E=o=>{s.limit=o,u()};return(o,r)=>{const f=G,p=R,h=W,x=H,k=$,b=j,w=K,S=M,n=X,T=q;return Q(),L("div",Z,[g("div",ee,[e(w,{model:t(s),layout:"inline",size:t(d).table.size},{default:a(()=>[e(p,null,{default:a(()=>[e(f,{modelValue:t(s).title,"onUpdate:modelValue":r[0]||(r[0]=l=>t(s).title=l),placeholder:"\u6807\u9898"},null,8,["modelValue"])]),_:1}),e(p,null,{default:a(()=>[e(f,{modelValue:t(s).url,"onUpdate:modelValue":r[1]||(r[1]=l=>t(s).url=l),placeholder:"\u94FE\u63A5"},null,8,["modelValue"])]),_:1}),e(p,null,{default:a(()=>[e(x,{modelValue:t(s).status,"onUpdate:modelValue":r[2]||(r[2]=l=>t(s).status=l),placeholder:"\u72B6\u6001","allow-clear":"",onChange:u},{default:a(()=>[e(h,{value:0,label:"\u6B63\u5E38"}),e(h,{value:1,label:"\u5220\u9664"})]),_:1},8,["modelValue"])]),_:1}),e(p,null,{default:a(()=>[e(b,{type:"primary","html-type":"submit",onClick:u},{icon:a(()=>[e(k)]),default:a(()=>[m(" \u67E5\u8BE2 ")]),_:1})]),_:1})]),_:1},8,["model","size"]),g("div",te,[e(b,{type:"primary",size:t(d).table.size,onClick:B},{icon:a(()=>[e(S)]),default:a(()=>[m(" \u65B0\u589E ")]),_:1},8,["size"])])]),g("div",ae,[e(T,{loading:t(c),data:t(i).results,size:t(d).table.size,bordered:t(d).table.bordered,pagination:t(C),"sticky-header":!0,style:{height:"100%"},"column-resizable":"",onPageChange:v,onPageSizeChange:E},{columns:a(()=>[e(n,{title:"\u7F16\u53F7","data-index":"id"}),e(n,{title:"\u6807\u9898","data-index":"title"}),e(n,{title:"\u94FE\u63A5","data-index":"url"}),e(n,{title:"\u63CF\u8FF0","data-index":"summary"}),e(n,{title:"\u72B6\u6001","data-index":"status"},{cell:a(({record:l})=>[m(z(l.status===0?"\u6B63\u5E38":"\u5220\u9664"),1)]),_:1}),e(n,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"createTime"},{cell:a(({record:l})=>[m(z(("useFormatDate"in o?o.useFormatDate:t(J))(l.createTime)),1)]),_:1}),e(n,{title:"\u64CD\u4F5C"},{cell:a(({record:l})=>[e(b,{type:"primary",size:t(d).table.size,onClick:le=>V(l.id)},{default:a(()=>[m("\u7F16\u8F91")]),_:2},1032,["size","onClick"])]),_:1})]),_:1},8,["loading","data","size","bordered","pagination"])]),e(Y,{ref_key:"edit",ref:_,onOk:u},null,512)])}}});export{ze as default};
