import{f as x,a as p,A as f,y,z as I}from"./index.25ef825f.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               */import{d as O,j as c,r as z,b6 as S,bE as A,ba as D,aE as T,aH as i,u as t,b1 as j,C as G,aI as a,aK as v,b7 as H,bG as R}from"./arco.8a931ad5.js";import{I as K}from"./ImageUpload.6d88b0db.js";const Z=O({__name:"Edit",emits:["ok"],setup(L,{expose:_,emit:b}){const V=b,F=x(),r=c(),s=z({visible:!1,isCreate:!1,title:""}),o=c({name:void 0,description:void 0,logo:void 0,sortNo:void 0,status:void 0,createTime:void 0}),E={},C=()=>{r.value.resetFields(),s.isCreate=!0,s.title="\u65B0\u589E",s.visible=!0},g=async n=>{r.value.resetFields(),s.isCreate=!1,s.title="\u7F16\u8F91";try{o.value=await p.get(`/api/admin/topic-node/${n}`)}catch(e){f(e)}s.visible=!0},k=()=>{r.value.resetFields()},B=async n=>{if(await r.value.validate()){n(!1);return}try{const u=s.isCreate?"/api/admin/topic-node/create":"/api/admin/topic-node/update";await p.postForm(u,y(o.value)),I("\u63D0\u4EA4\u6210\u529F"),V("ok"),n(!0)}catch(u){f(u),n(!1)}};return _({show:C,showEdit:g}),(n,e)=>{const u=S,d=H,m=R,N=A,U=D,w=j;return G(),T(w,{visible:t(s).visible,"onUpdate:visible":e[5]||(e[5]=l=>t(s).visible=l),title:t(s).title,size:t(F).table.size,onCancel:k,onBeforeOk:B},{default:i(()=>[a(U,{ref_key:"formRef",ref:r,model:t(o),rules:E},{default:i(()=>[a(d,{label:"\u540D\u79F0",field:"name"},{default:i(()=>[a(u,{modelValue:t(o).name,"onUpdate:modelValue":e[0]||(e[0]=l=>t(o).name=l)},null,8,["modelValue"])]),_:1}),a(d,{label:"\u63CF\u8FF0",field:"description"},{default:i(()=>[a(u,{modelValue:t(o).description,"onUpdate:modelValue":e[1]||(e[1]=l=>t(o).description=l)},null,8,["modelValue"])]),_:1}),a(d,{label:"LOGO",field:"logo"},{default:i(()=>[a(K,{modelValue:t(o).logo,"onUpdate:modelValue":e[2]||(e[2]=l=>t(o).logo=l)},null,8,["modelValue"])]),_:1}),a(d,{label:"\u6392\u5E8F",field:"sortNo"},{default:i(()=>[a(u,{modelValue:t(o).sortNo,"onUpdate:modelValue":e[3]||(e[3]=l=>t(o).sortNo=l)},null,8,["modelValue"])]),_:1}),a(d,{field:"status",label:"\u72B6\u6001"},{default:i(()=>[a(N,{modelValue:t(o).status,"onUpdate:modelValue":e[4]||(e[4]=l=>t(o).status=l)},{default:i(()=>[a(m,{value:0},{default:i(()=>e[6]||(e[6]=[v("\u6B63\u5E38")])),_:1}),a(m,{value:1},{default:i(()=>e[7]||(e[7]=[v("\u5220\u9664")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title","size"])}}});export{Z as _};
