import{g as U,b as p,A as f,y as z,z as S}from"./index.e6a2677c.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css                */import{d as D,e as c,r as N,b4 as O,bK as T,bE as q,b8 as G,aD as H,aG as u,u as t,a$ as I,B as R,aH as l,aJ as _,b5 as $,bG as j}from"./arco.d3370bfb.js";const h=D({__name:"Edit",emits:["ok"],setup(J,{expose:b,emit:v}){const F=v,V=U(),n=c(),o=N({visible:!1,isCreate:!1,title:""}),a=c({id:"",title:"",url:"",logo:"",summary:"",status:0}),B={title:[{required:!0,message:"\u8BF7\u586B\u5199\u6807\u9898"}],url:[{required:!0,message:"\u8BF7\u586B\u5199\u94FE\u63A5"}]},E=()=>{n.value.resetFields(),o.isCreate=!0,o.title="\u65B0\u589E",o.visible=!0},k=async i=>{n.value.resetFields(),o.isCreate=!1,o.title="\u7F16\u8F91";try{a.value=await p.get(`/api/admin/link/${i}`)}catch(e){f(e)}o.visible=!0},y=()=>{n.value.resetFields()},C=async i=>{if(await n.value.validate()){i(!1);return}try{const r=o.isCreate?"/api/admin/link/create":"/api/admin/link/update";await p.postForm(r,z(a.value)),S("\u63D0\u4EA4\u6210\u529F"),F("ok"),i(!0)}catch(r){f(r),i(!1)}};return b({show:E,showEdit:k}),(i,e)=>{const r=O,m=$,x=T,d=j,w=q,g=G,A=I;return R(),H(A,{visible:t(o).visible,"onUpdate:visible":e[4]||(e[4]=s=>t(o).visible=s),title:t(o).title,size:t(V).table.size,onCancel:y,onBeforeOk:C},{default:u(()=>[l(g,{ref_key:"formRef",ref:n,model:t(a),rules:B},{default:u(()=>[l(m,{field:"title",label:"\u6807\u9898"},{default:u(()=>[l(r,{modelValue:t(a).title,"onUpdate:modelValue":e[0]||(e[0]=s=>t(a).title=s)},null,8,["modelValue"])]),_:1}),l(m,{field:"url",label:"\u94FE\u63A5"},{default:u(()=>[l(r,{modelValue:t(a).url,"onUpdate:modelValue":e[1]||(e[1]=s=>t(a).url=s)},null,8,["modelValue"])]),_:1}),l(m,{field:"summary",label:"\u63CF\u8FF0"},{default:u(()=>[l(x,{modelValue:t(a).summary,"onUpdate:modelValue":e[2]||(e[2]=s=>t(a).summary=s),"allow-clear":""},null,8,["modelValue"])]),_:1}),l(m,{field:"status",label:"\u72B6\u6001"},{default:u(()=>[l(w,{modelValue:t(a).status,"onUpdate:modelValue":e[3]||(e[3]=s=>t(a).status=s)},{default:u(()=>[l(d,{value:0},{default:u(()=>[_("\u6B63\u5E38")]),_:1}),l(d,{value:1},{default:u(()=>[_("\u5220\u9664")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title","size"])}}});export{h as _};
