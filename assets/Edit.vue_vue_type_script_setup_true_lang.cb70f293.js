import{v as B,f as S,a as m,B as f,z,A as j}from"./index.a8e4cb9d.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               */import{d as D,j as c,r as O,b6 as T,bE as A,ba as H,aE as R,aH as d,u as o,b1 as G,C as K,aI as l,aK as b,aL as v,b7 as L,bG as M}from"./arco.db61f1fb.js";import{I as q}from"./ImageUpload.2445eb18.js";const te=D({__name:"Edit",emits:["ok"],setup(J,{expose:g,emit:N}){const{t:_}=B.exports.useI18n(),V=N,C=S(),r=c(),i=O({visible:!1,isCreate:!1,title:""}),a=c({name:void 0,description:void 0,logo:void 0,sortNo:void 0,status:void 0,createTime:void 0}),$={},F=()=>{r.value.resetFields(),i.isCreate=!0,i.title="\u65B0\u589E",i.visible=!0},E=async e=>{r.value.resetFields(),i.isCreate=!1,i.title="\u7F16\u8F91";try{a.value=await m.get(`/api/admin/topic-node/${e}`)}catch(t){f(t)}i.visible=!0},k=()=>{r.value.resetFields()},I=async e=>{if(await r.value.validate()){e(!1);return}try{const n=i.isCreate?"/api/admin/topic-node/create":"/api/admin/topic-node/update";await m.postForm(n,z(a.value)),j(_("pages.topicNode.modal.submitSuccess")),V("ok"),e(!0)}catch(n){f(n),e(!1)}};return g({show:F,showEdit:E}),(e,t)=>{const n=T,p=L,u=M,U=A,w=H,y=G;return K(),R(y,{visible:o(i).visible,"onUpdate:visible":t[5]||(t[5]=s=>o(i).visible=s),title:o(i).isCreate?e.$t("pages.topicNode.modal.add"):e.$t("pages.topicNode.modal.edit"),size:o(C).table.size,onCancel:k,onBeforeOk:I},{default:d(()=>[l(w,{ref_key:"formRef",ref:r,model:o(a),rules:$},{default:d(()=>[l(p,{label:e.$t("pages.topicNode.table.name"),field:"name"},{default:d(()=>[l(n,{modelValue:o(a).name,"onUpdate:modelValue":t[0]||(t[0]=s=>o(a).name=s)},null,8,["modelValue"])]),_:1},8,["label"]),l(p,{label:e.$t("pages.topicNode.table.description"),field:"description"},{default:d(()=>[l(n,{modelValue:o(a).description,"onUpdate:modelValue":t[1]||(t[1]=s=>o(a).description=s)},null,8,["modelValue"])]),_:1},8,["label"]),l(p,{label:e.$t("pages.topicNode.table.logo"),field:"logo"},{default:d(()=>[l(q,{modelValue:o(a).logo,"onUpdate:modelValue":t[2]||(t[2]=s=>o(a).logo=s)},null,8,["modelValue"])]),_:1},8,["label"]),l(p,{label:e.$t("pages.topicNode.table.sortNo"),field:"sortNo"},{default:d(()=>[l(n,{modelValue:o(a).sortNo,"onUpdate:modelValue":t[3]||(t[3]=s=>o(a).sortNo=s)},null,8,["modelValue"])]),_:1},8,["label"]),l(p,{field:"status",label:e.$t("pages.topicNode.table.status")},{default:d(()=>[l(U,{modelValue:o(a).status,"onUpdate:modelValue":t[4]||(t[4]=s=>o(a).status=s)},{default:d(()=>[l(u,{value:0},{default:d(()=>[b(v(e.$t("pages.topicNode.table.statusNormal")),1)]),_:1}),l(u,{value:1},{default:d(()=>[b(v(e.$t("pages.topicNode.table.statusDeleted")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title","size"])}}});export{te as _};
