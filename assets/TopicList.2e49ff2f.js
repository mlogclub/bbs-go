import{_ as P,v as j,I as H,y as X,x as I,a as f,z as $,A as h,B as k}from"./index.ed4ce638.js";import{bA as G,bo as J,bB as K,bX as M,aX as Y,bC as q,bD as Q,D as l,aM as v,aJ as L,aE as r,C as n,E as a,aH as i,aK as c,aL as s,aF as u,aI as m,u as w,bY as W}from"./arco.e9b1d7c1.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import"./chart.d2bdb7c8.js";import"./vue.7724e22c.js";const Z={class:"topics"},x={class:"topic-status"},ee={class:"topic-header"},te=["src"],ae={class:"topic-head-info"},se={class:"nickname"},ne={class:"topic-metas"},ie={class:"meta-item"},oe={class:"meta-item"},ce={class:"meta-item"},me={class:"meta-item"},re={class:"meta-item"},de={key:0,class:"topic-summary"},le={key:1,class:"topic-summary"},ue={class:"topic-image-list"},pe={class:"topic-footer"},_e={class:"topic-tags"},ye={class:"topic-actions"},ge={__name:"TopicList",props:{results:{type:Array,default(){return[]}}},emits:["change"],setup(S,{emit:R}){const{t:y}=j.exports.useI18n(),g=R,O=async t=>{try{await f.form("/api/admin/topic/delete",$({id:t})),h(y("pages.topic.notify.deleteSuccess")),g("change")}catch(o){k(o)}},D=async t=>{try{await f.form("/api/admin/topic/undelete",$({id:t})),h(y("pages.topic.notify.undeleteSuccess")),g("change")}catch(o){k(o)}},B=async t=>{try{await f.form("/api/admin/topic/recommend",$({id:t})),h(y("pages.topic.notify.recommendSuccess")),g("change")}catch(o){k(o)}},C=async t=>{try{await f.delete(`/api/admin/topic/recommend?id=${t}`),h(y("pages.topic.notify.cancelRecommendSuccess")),g("change")}catch(o){k(o)}},T=async t=>{try{await f.form("/api/admin/topic/audit",$({id:t})),h(y("pages.topic.notify.auditSuccess")),g("change")}catch(o){k(o)}};return(t,o)=>{const b=G,U=H,F=J,E=K,N=W,z=M,p=Y,_=q,A=Q;return n(),l("div",Z,[S.results&&S.results.length?(n(!0),l(v,{key:0},L(S.results,e=>(n(),l("div",{key:e.id,class:"topic-item"},[a("div",x,[e.recommend?(n(),r(b,{key:0,color:"green"},{default:i(()=>[c(s(t.$t("pages.topic.table.recommended")),1)]),_:1})):u("",!0),e.status===1?(n(),r(b,{key:1,color:"red"},{default:i(()=>[c(s(t.$t("pages.topic.table.deleted")),1)]),_:1})):u("",!0)]),a("div",ee,[m(F,{size:40},{default:i(()=>[e.user.avatar?(n(),l("img",{key:0,src:e.user.avatar},null,8,te)):(n(),r(U,{key:1}))]),_:2},1024),a("div",ae,[a("div",se,s(e.user.nickname),1),a("div",ne,[a("div",ie,[o[0]||(o[0]=a("span",null,"ID:",-1)),a("span",null,s(e.id),1)]),a("div",oe,[a("span",null,s(t.$t("pages.topic.table.time"))+":",1),a("span",null,s(("useFormatDate"in t?t.useFormatDate:w(X))(e.createTime)),1)]),a("div",ce,[a("span",null,s(t.$t("pages.topic.table.view"))+":",1),a("span",null,s(e.viewCount),1)]),a("div",me,[a("span",null,s(t.$t("pages.topic.table.like"))+":",1),a("span",null,s(e.likeCount),1)]),a("div",re,[a("span",null,s(t.$t("pages.topic.table.comment"))+":",1),a("span",null,s(e.commentCount),1)])])])]),e.type===0&&e.summary?(n(),l("div",de,s(e.summary),1)):u("",!0),e.type===1&&e.content?(n(),l("div",le,s(e.content),1)):u("",!0),e.imageList&&e.imageList.length?(n(),r(N,{key:2,infinite:""},{default:i(()=>[a("div",ue,[(n(!0),l(v,null,L(e.imageList,(d,V)=>(n(),r(E,{key:V,width:"150",height:"150",class:"image-item","show-loader":"",src:d.url,fit:"cover"},null,8,["src"]))),128))])]),_:2},1024)):u("",!0),a("div",pe,[a("div",_e,[e.node?(n(),r(b,{key:0,color:"green",size:"mini"},{default:i(()=>[c(s(e.node.name),1)]),_:2},1024)):u("",!0),e.tags&&e.tags.length?(n(!0),l(v,{key:1},L(e.tags,d=>(n(),r(b,{key:d.id,size:"mini"},{default:i(()=>[c("#\xA0"+s(d.name),1)]),_:2},1024))),128)):u("",!0)]),a("div",ye,[e.status===0?(n(),l(v,{key:0},[m(z,{class:"action-item",href:("useSiteURL"in t?t.useSiteURL:w(I))("/topic/"+e.id),target:"_blank"},{default:i(()=>[c(s(t.$t("pages.topic.table.detail")),1)]),_:1},8,["href"]),e.recommend?(n(),r(_,{key:0,content:t.$t("pages.topic.popconfirm.cancelRecommend"),onOk:d=>C(e.id)},{default:i(()=>[m(p,{class:"action-item",size:"mini",type:"primary"},{default:i(()=>[c(s(t.$t("pages.topic.table.cancelRecommend")),1)]),_:1})]),_:1},8,["content","onOk"])):!e.recommend&&e.status===0?(n(),r(_,{key:1,content:t.$t("pages.topic.popconfirm.recommend"),onOk:d=>B(e.id)},{default:i(()=>[m(p,{class:"action-item",size:"mini",type:"primary"},{default:i(()=>[c(s(t.$t("pages.topic.table.recommend")),1)]),_:1})]),_:1},8,["content","onOk"])):u("",!0),m(_,{content:t.$t("pages.topic.popconfirm.delete"),onOk:d=>O(e.id)},{default:i(()=>[m(p,{class:"action-item",size:"mini",type:"primary"},{default:i(()=>[c(s(t.$t("pages.topic.table.delete")),1)]),_:1})]),_:1},8,["content","onOk"])],64)):e.status===1?(n(),r(_,{key:1,content:t.$t("pages.topic.popconfirm.undelete"),onOk:d=>D(e.id)},{default:i(()=>[m(p,{class:"action-item",size:"mini",type:"primary"},{default:i(()=>[c(s(t.$t("pages.topic.table.undelete")),1)]),_:1})]),_:1},8,["content","onOk"])):e.status===2?(n(),l(v,{key:2},[m(z,{class:"action-item",href:("useSiteURL"in t?t.useSiteURL:w(I))("/topic/"+e.id),target:"_blank"},{default:i(()=>[c(s(t.$t("pages.topic.table.detail")),1)]),_:1},8,["href"]),m(_,{content:t.$t("pages.topic.popconfirm.delete"),onOk:d=>O(e.id)},{default:i(()=>[m(p,{class:"action-item",size:"mini",type:"primary"},{default:i(()=>[c(s(t.$t("pages.topic.table.delete")),1)]),_:1})]),_:1},8,["content","onOk"]),m(_,{content:t.$t("pages.topic.popconfirm.audit"),onOk:d=>T(e.id)},{default:i(()=>[m(p,{class:"action-item",size:"mini",type:"primary"},{default:i(()=>[c(s(t.$t("pages.topic.table.auditPass")),1)]),_:1})]),_:1},8,["content","onOk"])],64)):u("",!0)])])]))),128)):(n(),r(A,{key:1}))])}}},Oe=P(ge,[["__scopeId","data-v-80adf857"]]);export{Oe as default};
