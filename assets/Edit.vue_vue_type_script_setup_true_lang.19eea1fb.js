import{g as y,b as p,A as f,y as U,z}from"./index.1b6e845e.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               */import{d as N,e as c,r as S,b4 as q,bE as A,b8 as O,aD as G,aG as s,u as t,a$ as H,B as I,aH as o,aJ as _,b5 as R,bG as T}from"./arco.ef2238db.js";const X=N({__name:"Edit",emits:["ok"],setup($,{expose:v,emit:b}){const F=b,V=y(),n=c(),u=S({visible:!1,isCreate:!1,title:""}),a=c({name:void 0,code:void 0,sortNo:0,remark:void 0,status:0}),B={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0"}],code:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u7F16\u7801"}],status:[{required:!0,message:"\u8BF7\u9009\u62E9\u72B6\u6001"}]},k=()=>{n.value.resetFields(),u.isCreate=!0,u.title="\u65B0\u589E",u.visible=!0},E=async i=>{n.value.resetFields(),u.isCreate=!1,u.title="\u7F16\u8F91";try{a.value=await p.get(`/api/admin/role/${i}`)}catch(e){f(e)}u.visible=!0},C=()=>{n.value.resetFields()},D=async i=>{if(await n.value.validate()){i(!1);return}try{const r=u.isCreate?"/api/admin/role/create":"/api/admin/role/update";await p.postForm(r,U(a.value)),z("\u63D0\u4EA4\u6210\u529F"),F("ok"),i(!0)}catch(r){f(r),i(!1)}};return v({show:k,showEdit:E}),(i,e)=>{const r=q,m=R,d=T,g=A,w=O,x=H;return I(),G(x,{visible:t(u).visible,"onUpdate:visible":e[4]||(e[4]=l=>t(u).visible=l),title:t(u).title,size:t(V).table.size,onCancel:C,onBeforeOk:D},{default:s(()=>[o(w,{ref_key:"formRef",ref:n,model:t(a),rules:B},{default:s(()=>[o(m,{label:"\u89D2\u8272\u540D\u79F0",field:"name"},{default:s(()=>[o(r,{modelValue:t(a).name,"onUpdate:modelValue":e[0]||(e[0]=l=>t(a).name=l)},null,8,["modelValue"])]),_:1}),o(m,{label:"\u89D2\u8272\u7F16\u7801",field:"code"},{default:s(()=>[o(r,{modelValue:t(a).code,"onUpdate:modelValue":e[1]||(e[1]=l=>t(a).code=l)},null,8,["modelValue"])]),_:1}),o(m,{label:"\u5907\u6CE8",field:"remark"},{default:s(()=>[o(r,{modelValue:t(a).remark,"onUpdate:modelValue":e[2]||(e[2]=l=>t(a).remark=l)},null,8,["modelValue"])]),_:1}),o(m,{label:"\u72B6\u6001",field:"status"},{default:s(()=>[o(g,{modelValue:t(a).status,"onUpdate:modelValue":e[3]||(e[3]=l=>t(a).status=l)},{default:s(()=>[o(d,{value:0},{default:s(()=>[_("\u6B63\u5E38")]),_:1}),o(d,{value:1},{default:s(()=>[_("\u7981\u7528")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title","size"])}}});export{X as _};
