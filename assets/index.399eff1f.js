import{g as S,B as T,b as I,y as P,x as A}from"./index.1b6e845e.js";import{d as J,e as h,r as F,c as N,o as O,bE as G,b4 as H,ab as U,aV as $,b8 as j,a5 as K,bI as M,C as q,F as g,aH as e,aG as a,u as t,B as L,aJ as c,aK as Q,bG as R,b5 as W,bJ as X}from"./arco.ef2238db.js";/* empty css                *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css              *//* empty css               *//* empty css              */import{_ as Y}from"./Edit.vue_vue_type_script_setup_true_lang.ffa712f8.js";import"./chart.ba8df0e9.js";import"./vue.f27dce51.js";const Z={class:"container"},ee={class:"container-header"},te={class:"action-btns"},ae={class:"container-main"},ye=J({__name:"index",setup(oe){const u=S(),p=h(!1),m=h(),n=F({limit:20,page:1,type:void 0,word:void 0}),i=F({page:{page:1,limit:20,total:0},results:[]}),y=N(()=>({total:i.page.total,current:i.page.page,pageSize:i.page.limit,showTotal:!0,showJumper:!0,showPageSize:!0,pageSizeOptions:[20,50,100,200,300,500]}));O(()=>{T()});const l=async()=>{p.value=!0;try{const o=await I.postForm("/api/admin/forbidden-word/list",P(n));i.page=o.page,i.results=o.results}finally{p.value=!1}};l();const C=()=>{m.value.show()},B=o=>{m.value.showEdit(o)},z=o=>{n.page=o,l()},w=o=>{n.limit=o,l()};return(o,d)=>{const f=R,v=G,_=W,D=H,x=U,b=$,E=j,k=K,r=X,V=M;return L(),q("div",Z,[g("div",ee,[e(E,{model:t(n),layout:"inline",size:t(u).table.size},{default:a(()=>[e(_,null,{default:a(()=>[e(v,{modelValue:t(n).type,"onUpdate:modelValue":d[0]||(d[0]=s=>t(n).type=s),placeholder:"\u7C7B\u578B",clearable:"",onChange:l},{default:a(()=>[e(f,{label:"\u8BCD\u7EC4",value:"word"}),e(f,{label:"\u6B63\u5219\u8868\u8FBE\u5F0F",value:"regex"})]),_:1},8,["modelValue"])]),_:1}),e(_,null,{default:a(()=>[e(D,{modelValue:t(n).word,"onUpdate:modelValue":d[1]||(d[1]=s=>t(n).word=s),placeholder:"\u8FDD\u7981\u8BCD"},null,8,["modelValue"])]),_:1}),e(_,null,{default:a(()=>[e(b,{type:"primary","html-type":"submit",onClick:l},{icon:a(()=>[e(x)]),default:a(()=>[c(" \u67E5\u8BE2 ")]),_:1})]),_:1})]),_:1},8,["model","size"]),g("div",te,[e(b,{type:"primary",size:t(u).table.size,onClick:C},{icon:a(()=>[e(k)]),default:a(()=>[c(" \u65B0\u589E ")]),_:1},8,["size"])])]),g("div",ae,[e(V,{loading:t(p),data:t(i).results,size:t(u).table.size,bordered:t(u).table.bordered,pagination:t(y),"sticky-header":!0,style:{height:"100%"},"column-resizable":"",onPageChange:z,onPageSizeChange:w},{columns:a(()=>[e(r,{title:"\u7F16\u53F7","data-index":"id"}),e(r,{title:"\u7C7B\u578B","data-index":"type"}),e(r,{title:"\u8FDD\u7981\u8BCD","data-index":"word"}),e(r,{title:"\u5907\u6CE8","data-index":"remark"}),e(r,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"createTime"},{cell:a(({record:s})=>[c(Q(("useFormatDate"in o?o.useFormatDate:t(A))(s.createTime)),1)]),_:1}),e(r,{title:"\u64CD\u4F5C"},{cell:a(({record:s})=>[e(b,{type:"primary",size:t(u).table.size,onClick:ne=>B(s.id)},{default:a(()=>[c("\u7F16\u8F91")]),_:2},1032,["size","onClick"])]),_:1})]),_:1},8,["loading","data","size","bordered","pagination"])]),e(Y,{ref_key:"edit",ref:m,onOk:l},null,512)])}}});export{ye as default};
