import{g as A,b as p,A as f,y as O,z}from"./index.1b6e845e.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css                */import{d as S,e as _,r as D,b4 as G,bK as N,bE as T,b8 as $,aD as q,aG as u,u as t,a$ as H,B as I,aH as l,aJ as c,b5 as R,bG as j}from"./arco.ef2238db.js";import{_ as J}from"./ImageUpload.d27c3e13.js";const te=S({__name:"Edit",emits:["ok"],setup(K,{expose:b,emit:v}){const F=v,V=A(),n=_(),s=D({visible:!1,isCreate:!1,title:""}),a=_({id:"",title:"",url:"",logo:"",summary:"",status:0}),B={title:[{required:!0,message:"\u8BF7\u586B\u5199\u6807\u9898"}],url:[{required:!0,message:"\u8BF7\u586B\u5199\u94FE\u63A5"}]},E=()=>{n.value.resetFields(),s.isCreate=!0,s.title="\u65B0\u589E",s.visible=!0},k=async i=>{n.value.resetFields(),s.isCreate=!1,s.title="\u7F16\u8F91";try{a.value=await p.get(`/api/admin/link/${i}`)}catch(e){f(e)}s.visible=!0},y=()=>{n.value.resetFields()},g=async i=>{if(await n.value.validate()){i(!1);return}try{const r=s.isCreate?"/api/admin/link/create":"/api/admin/link/update";await p.postForm(r,O(a.value)),z("\u63D0\u4EA4\u6210\u529F"),F("ok"),i(!0)}catch(r){f(r),i(!1)}};return b({show:E,showEdit:k}),(i,e)=>{const r=G,m=R,C=N,d=j,x=T,w=$,U=H;return I(),q(U,{visible:t(s).visible,"onUpdate:visible":e[5]||(e[5]=o=>t(s).visible=o),title:t(s).title,size:t(V).table.size,onCancel:y,onBeforeOk:g},{default:u(()=>[l(w,{ref_key:"formRef",ref:n,model:t(a),rules:B},{default:u(()=>[l(m,{field:"title",label:"\u6807\u9898"},{default:u(()=>[l(r,{modelValue:t(a).title,"onUpdate:modelValue":e[0]||(e[0]=o=>t(a).title=o)},null,8,["modelValue"])]),_:1}),l(m,{field:"url",label:"\u94FE\u63A5"},{default:u(()=>[l(r,{modelValue:t(a).url,"onUpdate:modelValue":e[1]||(e[1]=o=>t(a).url=o)},null,8,["modelValue"])]),_:1}),l(m,{field:"logo",label:"LOGO"},{default:u(()=>[l(J,{modelValue:t(a).logo,"onUpdate:modelValue":e[2]||(e[2]=o=>t(a).logo=o)},null,8,["modelValue"])]),_:1}),l(m,{field:"summary",label:"\u63CF\u8FF0"},{default:u(()=>[l(C,{modelValue:t(a).summary,"onUpdate:modelValue":e[3]||(e[3]=o=>t(a).summary=o),"allow-clear":""},null,8,["modelValue"])]),_:1}),l(m,{field:"status",label:"\u72B6\u6001"},{default:u(()=>[l(x,{modelValue:t(a).status,"onUpdate:modelValue":e[4]||(e[4]=o=>t(a).status=o)},{default:u(()=>[l(d,{value:0},{default:u(()=>[c("\u6B63\u5E38")]),_:1}),l(d,{value:1},{default:u(()=>[c("\u5220\u9664")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title","size"])}}});export{te as _};
