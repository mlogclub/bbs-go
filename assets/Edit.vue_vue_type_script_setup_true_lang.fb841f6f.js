import{g as y,b as p,A as f,y as U,z as O}from"./index.1b6e845e.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               */import{d as z,e as c,r as D,b4 as S,bE as A,b8 as G,aD as T,aG as i,u as t,a$ as $,B as H,aH as a,aJ as _,b5 as I,bG as R}from"./arco.ef2238db.js";import{_ as j}from"./ImageUpload.d27c3e13.js";const Z=z({__name:"Edit",emits:["ok"],setup(J,{expose:v,emit:b}){const V=b,F=y(),r=c(),s=D({visible:!1,isCreate:!1,title:""}),o=c({name:void 0,description:void 0,logo:void 0,sortNo:void 0,status:void 0,createTime:void 0}),E={},C=()=>{r.value.resetFields(),s.isCreate=!0,s.title="\u65B0\u589E",s.visible=!0},B=async u=>{r.value.resetFields(),s.isCreate=!1,s.title="\u7F16\u8F91";try{o.value=await p.get(`/api/admin/topic-node/${u}`)}catch(e){f(e)}s.visible=!0},g=()=>{r.value.resetFields()},k=async u=>{if(await r.value.validate()){u(!1);return}try{const n=s.isCreate?"/api/admin/topic-node/create":"/api/admin/topic-node/update";await p.postForm(n,U(o.value)),O("\u63D0\u4EA4\u6210\u529F"),V("ok"),u(!0)}catch(n){f(n),u(!1)}};return v({show:C,showEdit:B}),(u,e)=>{const n=S,d=I,m=R,N=A,w=G,x=$;return H(),T(x,{visible:t(s).visible,"onUpdate:visible":e[5]||(e[5]=l=>t(s).visible=l),title:t(s).title,size:t(F).table.size,onCancel:g,onBeforeOk:k},{default:i(()=>[a(w,{ref_key:"formRef",ref:r,model:t(o),rules:E},{default:i(()=>[a(d,{label:"\u540D\u79F0",field:"name"},{default:i(()=>[a(n,{modelValue:t(o).name,"onUpdate:modelValue":e[0]||(e[0]=l=>t(o).name=l)},null,8,["modelValue"])]),_:1}),a(d,{label:"\u63CF\u8FF0",field:"description"},{default:i(()=>[a(n,{modelValue:t(o).description,"onUpdate:modelValue":e[1]||(e[1]=l=>t(o).description=l)},null,8,["modelValue"])]),_:1}),a(d,{label:"LOGO",field:"logo"},{default:i(()=>[a(j,{modelValue:t(o).logo,"onUpdate:modelValue":e[2]||(e[2]=l=>t(o).logo=l)},null,8,["modelValue"])]),_:1}),a(d,{label:"\u6392\u5E8F",field:"sortNo"},{default:i(()=>[a(n,{modelValue:t(o).sortNo,"onUpdate:modelValue":e[3]||(e[3]=l=>t(o).sortNo=l)},null,8,["modelValue"])]),_:1}),a(d,{field:"status",label:"\u72B6\u6001"},{default:i(()=>[a(N,{modelValue:t(o).status,"onUpdate:modelValue":e[4]||(e[4]=l=>t(o).status=l)},{default:i(()=>[a(m,{value:0},{default:i(()=>[_("\u6B63\u5E38")]),_:1}),a(m,{value:1},{default:i(()=>[_("\u5220\u9664")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title","size"])}}});export{Z as _};
