import{f as E,C as N,a as B,z as P,y as O}from"./index.91a3ffa1.js";import{d as U,j as $,r as y,c as j,o as A,b6 as H,bE as J,ac as G,aX as K,ba as L,a6 as M,bI as X,D as q,E as f,aI as t,aH as l,u as a,C as Q,aK as d,aL as m,b7 as R,bG as W,bJ as Y}from"./arco.d63f31ab.js";/* empty css                *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css              *//* empty css               *//* empty css               *//* empty css              */import{_ as Z}from"./Edit.vue_vue_type_script_setup_true_lang.8771bd62.js";import"./chart.fcbefee0.js";import"./vue.576003d6.js";/* empty css                */const x={class:"container"},ee={class:"container-header"},te={class:"action-btns"},ae={class:"container-main"},ze=U({__name:"index",setup(le){const u=E(),g=$(!1),_=$(),s=y({limit:20,page:1,title:"",url:"",status:0}),n=y({page:{page:1,limit:20,total:0},results:[]}),z=j(()=>({total:n.page.total,current:n.page.page,pageSize:n.page.limit,showTotal:!0,showJumper:!0,showPageSize:!0,pageSizeOptions:[20,50,100,200,300,500]}));A(()=>{N()});const r=async()=>{g.value=!0;try{const e=await B.postForm("/api/admin/link/list",P(s));n.page=e.page,n.results=e.results}finally{g.value=!1}};r();const v=()=>{_.value.show()},C=e=>{_.value.showEdit(e)},V=e=>{s.page=e,r()},w=e=>{s.limit=e,r()};return(e,p)=>{const k=H,c=R,h=W,S=J,T=G,b=K,D=L,F=M,i=Y,I=X;return Q(),q("div",x,[f("div",ee,[t(D,{model:a(s),layout:"inline",size:a(u).table.size},{default:l(()=>[t(c,null,{default:l(()=>[t(k,{modelValue:a(s).title,"onUpdate:modelValue":p[0]||(p[0]=o=>a(s).title=o),placeholder:e.$t("pages.link.title")},null,8,["modelValue","placeholder"])]),_:1}),t(c,null,{default:l(()=>[t(k,{modelValue:a(s).url,"onUpdate:modelValue":p[1]||(p[1]=o=>a(s).url=o),placeholder:e.$t("pages.link.url")},null,8,["modelValue","placeholder"])]),_:1}),t(c,null,{default:l(()=>[t(S,{modelValue:a(s).status,"onUpdate:modelValue":p[2]||(p[2]=o=>a(s).status=o),placeholder:e.$t("pages.link.status"),"allow-clear":"",onChange:r},{default:l(()=>[t(h,{value:0,label:e.$t("pages.link.statusNormal")},null,8,["label"]),t(h,{value:1,label:e.$t("pages.link.statusDeleted")},null,8,["label"])]),_:1},8,["modelValue","placeholder"])]),_:1}),t(c,null,{default:l(()=>[t(b,{type:"primary","html-type":"submit",onClick:r},{icon:l(()=>[t(T)]),default:l(()=>[d(" "+m(e.$t("pages.link.search")),1)]),_:1})]),_:1})]),_:1},8,["model","size"]),f("div",te,[t(b,{type:"primary",size:a(u).table.size,onClick:v},{icon:l(()=>[t(F)]),default:l(()=>[d(" "+m(e.$t("pages.link.add")),1)]),_:1},8,["size"])])]),f("div",ae,[t(I,{loading:a(g),data:a(n).results,size:a(u).table.size,bordered:a(u).table.bordered,pagination:a(z),"sticky-header":!0,style:{height:"100%"},"column-resizable":"",onPageChange:V,onPageSizeChange:w},{columns:l(()=>[t(i,{title:e.$t("pages.link.id"),"data-index":"id"},null,8,["title"]),t(i,{title:e.$t("pages.link.title"),"data-index":"title"},null,8,["title"]),t(i,{title:e.$t("pages.link.url"),"data-index":"url"},null,8,["title"]),t(i,{title:e.$t("pages.link.summary"),"data-index":"summary"},null,8,["title"]),t(i,{title:e.$t("pages.link.status"),"data-index":"status"},{cell:l(({record:o})=>[d(m(o.status===0?e.$t("pages.link.statusNormal"):e.$t("pages.link.statusDeleted")),1)]),_:1},8,["title"]),t(i,{title:e.$t("pages.link.createTime"),"data-index":"createTime"},{cell:l(({record:o})=>[d(m(("useFormatDate"in e?e.useFormatDate:a(O))(o.createTime)),1)]),_:1},8,["title"]),t(i,{title:e.$t("pages.link.actions")},{cell:l(({record:o})=>[t(b,{type:"primary",size:a(u).table.size,onClick:oe=>C(o.id)},{default:l(()=>[d(m(e.$t("pages.link.edit")),1)]),_:2},1032,["size","onClick"])]),_:1},8,["title"])]),_:1},8,["loading","data","size","bordered","pagination"])]),t(Z,{ref_key:"edit",ref:_,onOk:r},null,512)])}}});export{ze as default};
