import{g as E,B as S,b as I,y as P,x as A}from"./index.1b6e845e.js";import{d as J,e as f,r as F,c as N,o as H,b4 as M,ab as O,aV as U,b8 as $,a5 as j,bA as G,bI as K,C as q,F as g,aH as e,aG as t,u as a,B as L,aJ as d,aK as y,b5 as Q,bJ as R}from"./arco.ef2238db.js";/* empty css                *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css              *//* empty css               *//* empty css              */import{_ as W}from"./Edit.vue_vue_type_script_setup_true_lang.f9f67a08.js";import"./chart.ba8df0e9.js";import"./vue.f27dce51.js";const X={class:"container"},Y={class:"container-header"},Z={class:"action-btns"},ee={class:"container-main"},fe=J({__name:"index",setup(te){const r=E(),p=f(!1),c=f(),i=F({limit:20,page:1,name:void 0,path:void 0}),s=F({page:{page:1,limit:20,total:0},results:[]}),z=N(()=>({total:s.page.total,current:s.page.page,pageSize:s.page.limit,showTotal:!0,showJumper:!0,showPageSize:!0,pageSizeOptions:[20,50,100,200,300,500]}));H(()=>{S()});const u=async()=>{p.value=!0;try{const o=await I.postForm("/api/admin/api/list",P(i));s.page=o.page,s.results=o.results}finally{p.value=!1}};u();const w=()=>{c.value.show()},v=o=>{c.value.showEdit(o)},C=o=>{i.page=o,u()},k=o=>{i.limit=o,u()};return(o,m)=>{const b=M,_=Q,x=O,h=U,V=$,B=j,l=R,D=G,T=K;return L(),q("div",X,[g("div",Y,[e(V,{model:a(i),layout:"inline",size:a(r).table.size},{default:t(()=>[e(_,null,{default:t(()=>[e(b,{modelValue:a(i).name,"onUpdate:modelValue":m[0]||(m[0]=n=>a(i).name=n),placeholder:"\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(_,null,{default:t(()=>[e(b,{modelValue:a(i).path,"onUpdate:modelValue":m[1]||(m[1]=n=>a(i).path=n),placeholder:"\u8DEF\u5F84"},null,8,["modelValue"])]),_:1}),e(_,null,{default:t(()=>[e(h,{type:"primary","html-type":"submit",onClick:u},{icon:t(()=>[e(x)]),default:t(()=>[d(" \u67E5\u8BE2 ")]),_:1})]),_:1})]),_:1},8,["model","size"]),g("div",Z,[e(h,{type:"primary",size:a(r).table.size,onClick:w},{icon:t(()=>[e(B)]),default:t(()=>[d(" \u65B0\u589E ")]),_:1},8,["size"])])]),g("div",ee,[e(T,{loading:a(p),data:a(s).results,size:a(r).table.size,bordered:a(r).table.bordered,pagination:a(z),"sticky-header":!0,style:{height:"100%"},"column-resizable":"","row-key":"id",onPageChange:C,onPageSizeChange:k},{columns:t(()=>[e(l,{title:"\u7F16\u53F7","data-index":"id",width:100}),e(l,{title:"Method","data-index":"method",width:100},{cell:t(({record:n})=>[e(D,null,{default:t(()=>[d(y(n.method),1)]),_:2},1024)]),_:1}),e(l,{title:"Path","data-index":"path"}),e(l,{title:"\u540D\u79F0","data-index":"name"}),e(l,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"createTime",width:200},{cell:t(({record:n})=>[d(y(("useFormatDate"in o?o.useFormatDate:a(A))(n.createTime)),1)]),_:1}),e(l,{title:"\u64CD\u4F5C",width:100},{cell:t(({record:n})=>[e(h,{type:"primary",size:a(r).table.size,onClick:ae=>v(n.id)},{default:t(()=>[d("\u7F16\u8F91")]),_:2},1032,["size","onClick"])]),_:1})]),_:1},8,["loading","data","size","bordered","pagination"])]),e(W,{ref_key:"edit",ref:c,onOk:u},null,512)])}}});export{fe as default};
