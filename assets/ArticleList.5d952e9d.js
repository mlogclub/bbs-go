import{_ as I,v as N,x as k,y as R,a as b,z as S,A as $,B as L}from"./index.91a3ffa1.js";import{bA as U,bB as C,aX as O,bC as T,bD as V,D as r,aM as A,aJ as D,aE as o,C as s,E as a,u as p,aL as i,aH as c,aK as l,aF as n,aI as h}from"./arco.d63f31ab.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               */import"./chart.fcbefee0.js";import"./vue.576003d6.js";const j={class:"articles"},H={class:"article-header"},P=["href"],J={class:"article-status"},K={class:"article-item-info"},M={class:"article-item-main"},X={class:"article-summary"},q={class:"article-meta"},G={class:"article-meta-left"},Q=["href"],W={class:"article-meta-item"},Y={key:0,class:"article-tags"},Z={key:0,class:"article-item-cover"},x={class:"article-item-actions"},ee={__name:"ArticleList",props:{results:{type:Array,default(){return[]}}},emits:["change"],setup(_,{emit:B}){const{t:g}=N.exports.useI18n(),f=B,z=async t=>{try{await b.form("/api/admin/article/delete",S({id:t.id})),$(g("pages.article.deleteSuccess")),f("change")}catch(u){L(u)}},F=async t=>{try{await b.form("/api/admin/article/audit",S({id:t.id})),$(g("pages.article.auditSuccess")),f("change")}catch(u){L(u)}};return(t,u)=>{const m=U,w=C,y=O,v=T,E=V;return s(),r("div",j,[_.results&&_.results.length?(s(!0),r(A,{key:0},D(_.results,e=>(s(),r("div",{key:e.id,class:"article-item"},[a("div",H,[a("a",{class:"article-title",href:("useSiteURL"in t?t.useSiteURL:p(k))(`/article/${e.id}`),target:"_blank"},i(e.title),9,P),a("div",J,[e.status===1?(s(),o(m,{key:0,color:"red",size:"mini"},{default:c(()=>[l(i(t.$t("pages.article.deleted")),1)]),_:1})):n("",!0),e.status===2?(s(),o(m,{key:1,color:"blue",size:"mini"},{default:c(()=>[l(i(t.$t("pages.article.pending")),1)]),_:1})):n("",!0)])]),a("div",K,[a("div",M,[a("div",X,i(e.summary),1),a("div",q,[a("div",G,[a("a",{href:("useSiteURL"in t?t.useSiteURL:p(k))(`/user/${e.user.id}`),class:"article-meta-item",target:"_blank"},[a("span",null,i(e.user.nickname),1)],8,Q),a("span",W,i(t.$t("pages.article.publishedAt"))+"\xA0 "+i(("useFormatDate"in t?t.useFormatDate:p(R))(e.createTime)),1)]),e.tags&&e.tags.length>0?(s(),r("div",Y,[(s(!0),r(A,null,D(e.tags,d=>(s(),o(m,{key:d.id,size:"mini"},{default:c(()=>[l(i(d.name),1)]),_:2},1024))),128))])):n("",!0)])]),e.cover?(s(),r("div",Z,[h(w,{src:e.cover.url,width:"150",height:"90",fit:"cover"},null,8,["src"])])):n("",!0)]),a("div",x,[e.status===0||e.status===2?(s(),o(v,{key:0,content:t.$t("pages.article.confirmDelete"),onOk:d=>z(e)},{default:c(()=>[h(y,{class:"action-item",size:"mini",type:"primary",status:"warning"},{default:c(()=>[l(i(t.$t("pages.article.delete")),1)]),_:1})]),_:2},1032,["content","onOk"])):n("",!0),e.status===2?(s(),o(v,{key:1,content:t.$t("pages.article.confirmAudit"),onOk:d=>F(e)},{default:c(()=>[h(y,{class:"action-item",size:"mini",type:"primary",status:"success"},{default:c(()=>[l(i(t.$t("pages.article.auditPass")),1)]),_:1})]),_:2},1032,["content","onOk"])):n("",!0)])]))),128)):(s(),o(E,{key:1}))])}}},le=I(ee,[["__scopeId","data-v-8ab5596d"]]);export{le as default};
