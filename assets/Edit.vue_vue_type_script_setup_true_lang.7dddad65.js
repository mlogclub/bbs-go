import{f as x,a as p,A as f,y as g,z}from"./index.f21f3c04.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               */import{d as S,j as c,r as U,bE as A,b6 as I,ba as O,aE as j,aH as u,u as t,b1 as H,C as N,aI as l,bG as R,b7 as h}from"./arco.8a931ad5.js";const Q=S({__name:"Edit",emits:["ok"],setup(q,{expose:_,emit:b}){const v=b,F=x(),n=c(),a=U({visible:!1,isCreate:!1,title:""}),o=c({type:void 0,word:void 0,remark:void 0}),C={word:[{required:!0,message:"\u8BF7\u8F93\u5165\u8FDD\u7981\u8BCD"}]},w=()=>{n.value.resetFields(),a.isCreate=!0,a.title="\u65B0\u589E",a.visible=!0},B=async s=>{n.value.resetFields(),a.isCreate=!1,a.title="\u7F16\u8F91";try{o.value=await p.get(`/api/admin/forbidden-word/${s}`)}catch(e){f(e)}a.visible=!0},E=()=>{n.value.resetFields()},k=async s=>{if(await n.value.validate()){s(!1);return}try{const i=a.isCreate?"/api/admin/forbidden-word/create":"/api/admin/forbidden-word/update";await p.postForm(i,g(o.value)),z("\u63D0\u4EA4\u6210\u529F"),v("ok"),s(!0)}catch(i){f(i),s(!1)}};return _({show:w,showEdit:B}),(s,e)=>{const i=R,y=A,d=h,m=I,V=O,D=H;return N(),j(D,{visible:t(a).visible,"onUpdate:visible":e[3]||(e[3]=r=>t(a).visible=r),title:t(a).title,size:t(F).table.size,onCancel:E,onBeforeOk:k},{default:u(()=>[l(V,{ref_key:"formRef",ref:n,model:t(o),rules:C},{default:u(()=>[l(d,{label:"\u7C7B\u578B",field:"type"},{default:u(()=>[l(y,{modelValue:t(o).type,"onUpdate:modelValue":e[0]||(e[0]=r=>t(o).type=r),placeholder:"\u7C7B\u578B"},{default:u(()=>[l(i,{label:"\u8BCD\u7EC4",value:"word"}),l(i,{label:"\u6B63\u5219\u8868\u8FBE\u5F0F",value:"regex"})]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"\u8FDD\u7981\u8BCD",field:"word"},{default:u(()=>[l(m,{modelValue:t(o).word,"onUpdate:modelValue":e[1]||(e[1]=r=>t(o).word=r)},null,8,["modelValue"])]),_:1}),l(d,{label:"\u5907\u6CE8",field:"remark"},{default:u(()=>[l(m,{modelValue:t(o).remark,"onUpdate:modelValue":e[2]||(e[2]=r=>t(o).remark=r)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title","size"])}}});export{Q as _};
