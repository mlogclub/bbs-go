import{f as U,B as N,a as O,y as P,x as j}from"./index.25ef825f.js";import{d as H,j as V,r as z,c as J,o as $,b6 as G,bE as K,ac as L,aX as M,ba as X,bA as q,bk as Q,bI as R,D as b,E as g,aI as e,aH as a,u as l,C as p,aK as r,aE as x,aL as y,b7 as W,bG as Y,bJ as Z}from"./arco.8a931ad5.js";/* empty css                *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css              */import{_ as ee}from"./Edit.vue_vue_type_script_setup_true_lang.f2c33e3c.js";import"./chart.71b0189b.js";import"./vue.a0233a03.js";import"./ImageUpload.6d88b0db.js";/* empty css               */const te={class:"container"},ae={class:"container-header"},oe={class:"container-main"},le=["src"],ne={key:1},Be=H({__name:"index",setup(ie){const c=U(),_=V(!1),v=V(),n=z({limit:20,page:1,id:void 0,username:void 0,nickname:void 0,type:void 0}),u=z({page:{page:1,limit:20,total:0},results:[]}),B=J(()=>({total:u.page.total,current:u.page.page,pageSize:u.page.limit,showTotal:!0,showJumper:!0,showPageSize:!0,pageSizeOptions:[20,50,100,200,300,500]}));$(()=>{N()});const d=async()=>{_.value=!0;try{const i=await O.postForm("/api/admin/user/list",P(n));u.page=i.page,u.results=i.results}finally{_.value=!1}};d();const E=i=>{v.value.showEdit(i)},D=i=>{n.page=i,d()},S=i=>{n.limit=i,d()};return(i,o)=>{const f=G,m=W,k=Y,T=K,h=L,F=M,w=X,s=Z,C=q,A=Q,I=R;return p(),b("div",te,[g("div",ae,[e(w,{model:l(n),layout:"inline",size:l(c).table.size},{default:a(()=>[e(m,null,{default:a(()=>[e(f,{modelValue:l(n).id,"onUpdate:modelValue":o[0]||(o[0]=t=>l(n).id=t),placeholder:"\u7528\u6237ID"},null,8,["modelValue"])]),_:1}),e(m,null,{default:a(()=>[e(f,{modelValue:l(n).username,"onUpdate:modelValue":o[1]||(o[1]=t=>l(n).username=t),placeholder:"\u7528\u6237\u540D"},null,8,["modelValue"])]),_:1}),e(m,null,{default:a(()=>[e(f,{modelValue:l(n).nickname,"onUpdate:modelValue":o[2]||(o[2]=t=>l(n).nickname=t),placeholder:"\u6635\u79F0"},null,8,["modelValue"])]),_:1}),e(m,null,{default:a(()=>[e(T,{modelValue:l(n).type,"onUpdate:modelValue":o[3]||(o[3]=t=>l(n).type=t),placeholder:"\u7528\u6237\u7C7B\u578B","allow-clear":""},{default:a(()=>[e(k,{value:0,label:"\u7528\u6237"}),e(k,{value:1,label:"\u5458\u5DE5"})]),_:1},8,["modelValue"])]),_:1}),e(m,null,{default:a(()=>[e(F,{type:"primary","html-type":"submit",onClick:d},{icon:a(()=>[e(h)]),default:a(()=>[o[4]||(o[4]=r(" \u67E5\u8BE2 "))]),_:1})]),_:1})]),_:1},8,["model","size"]),o[5]||(o[5]=g("div",{class:"action-btns"},null,-1))]),g("div",oe,[e(I,{loading:l(_),data:l(u).results,size:l(c).table.size,bordered:l(c).table.bordered,pagination:l(B),"sticky-header":!0,style:{height:"100%"},"column-resizable":"",onPageChange:D,onPageSizeChange:S},{columns:a(()=>[e(s,{title:"\u7F16\u53F7","data-index":"id"}),e(s,{title:"\u7C7B\u578B","data-index":"type"},{cell:a(({record:t})=>[t.type===1?(p(),x(C,{key:0,color:"blue"},{default:a(()=>o[6]||(o[6]=[r("\u5458\u5DE5")])),_:1})):(p(),x(C,{key:1},{default:a(()=>o[7]||(o[7]=[r("\u7528\u6237")])),_:1}))]),_:1}),e(s,{title:"\u5934\u50CF","data-index":"avatar"},{cell:a(({record:t})=>[e(A,null,{default:a(()=>[t.avatar?(p(),b("img",{key:0,src:t.avatar},null,8,le)):(p(),b("span",ne,y(t.nickname),1))]),_:2},1024)]),_:1}),e(s,{title:"\u6635\u79F0","data-index":"nickname"}),e(s,{title:"\u90AE\u7BB1","data-index":"email"}),e(s,{title:"\u79EF\u5206","data-index":"score"}),e(s,{title:"\u662F\u5426\u7981\u8A00","data-index":"forbidden"},{cell:a(({record:t})=>[r(y(t.forbidden?"\u7981\u8A00":"-"),1)]),_:1}),e(s,{title:"\u6CE8\u518C\u65F6\u95F4","data-index":"createTime"},{cell:a(({record:t})=>[r(y(("useFormatDate"in i?i.useFormatDate:l(j))(t.createTime)),1)]),_:1}),e(s,{title:"\u64CD\u4F5C"},{cell:a(({record:t})=>[e(F,{type:"primary",size:l(c).table.size,onClick:se=>E(t.id)},{default:a(()=>o[8]||(o[8]=[r("\u7F16\u8F91")])),_:2},1032,["size","onClick"])]),_:1})]),_:1},8,["loading","data","size","bordered","pagination"])]),e(ee,{ref_key:"edit",ref:v,onOk:d},null,512)])}}});export{Be as default};
