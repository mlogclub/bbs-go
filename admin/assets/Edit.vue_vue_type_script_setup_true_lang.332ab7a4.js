import{v as E,f as O,a as m,B as b,p as j}from"./index.e2988b1b.js";import{d as L,j as g,r as q,b6 as D,bH as H,bB as T,b9 as A,aU as G,bE as M,ba as J,aE as c,aH as n,u as e,b1 as K,C as _,aI as o,aF as P,b7 as Q,bG as W}from"./arco.b0f81cee.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css                */import{I as X}from"./ImageUpload.82323391.js";const me=L({__name:"Edit",emits:["ok"],setup(Y,{expose:v,emit:w}){const{t:u}=E.exports.useI18n(),V=w,B=O(),p=g(),i=q({visible:!1,isCreate:!1,title:""}),t=g({id:void 0,name:"",title:"",description:"",icon:"",sortNo:0,status:0}),U={name:[{required:!0}],title:[{required:!0}]},C=()=>{i.visible=!0,i.isCreate=!0,i.title=u("pages.growthBadge.add"),t.value={id:void 0,name:"",title:"",description:"",icon:"",sortNo:0,status:0}},k=async l=>{i.visible=!0,i.isCreate=!1,i.title=u("pages.growthBadge.edit");const a=await m.get(`/api/admin/badge/${l}`);t.value={...a}},I=async l=>{if(await p.value.validate()){l(!1);return}const d={...t.value};i.isCreate?await m.postForm("/api/admin/badge/create",b(d)):await m.postForm("/api/admin/badge/update",b(d)),V("ok"),l(!0)},N=()=>{i.visible=!1};return v({show:C,showEdit:k}),(l,a)=>{const d=D,r=Q,$=H,R=T,S=A,z=G,f=W,F=M,h=J,y=K;return _(),c(y,{visible:e(i).visible,"onUpdate:visible":a[6]||(a[6]=s=>e(i).visible=s),title:e(i).title,size:e(B).table.size,onCancel:N,onBeforeOk:I},{default:n(()=>[o(h,{ref_key:"formRef",ref:p,model:e(t),rules:U},{default:n(()=>[o(r,{label:l.$t("pages.growthBadge.name"),field:"name"},{default:n(()=>[o(d,{modelValue:e(t).name,"onUpdate:modelValue":a[0]||(a[0]=s=>e(t).name=s)},null,8,["modelValue"])]),_:1},8,["label"]),o(r,{label:l.$t("pages.growthBadge.title"),field:"title"},{default:n(()=>[o(d,{modelValue:e(t).title,"onUpdate:modelValue":a[1]||(a[1]=s=>e(t).title=s)},null,8,["modelValue"])]),_:1},8,["label"]),o(r,{label:l.$t("pages.growthBadge.description"),field:"description"},{default:n(()=>[o($,{modelValue:e(t).description,"onUpdate:modelValue":a[2]||(a[2]=s=>e(t).description=s),"auto-size":{minRows:2,maxRows:4}},null,8,["modelValue"])]),_:1},8,["label"]),o(r,{label:l.$t("pages.growthBadge.icon"),field:"icon"},{default:n(()=>[o(S,{size:8},{default:n(()=>[e(t).icon?(_(),c(R,{key:0,src:("useSiteURL"in l?l.useSiteURL:e(j))(e(t).icon),width:32,height:32,fit:"contain",preview:!0},null,8,["src"])):P("",!0),o(X,{modelValue:e(t).icon,"onUpdate:modelValue":a[3]||(a[3]=s=>e(t).icon=s),"custom-upload-button":!1,size:64},null,8,["modelValue"])]),_:1})]),_:1},8,["label"]),o(r,{label:l.$t("pages.growthBadge.sortNo"),field:"sortNo"},{default:n(()=>[o(z,{modelValue:e(t).sortNo,"onUpdate:modelValue":a[4]||(a[4]=s=>e(t).sortNo=s),min:0,mode:"button"},null,8,["modelValue"])]),_:1},8,["label"]),o(r,{label:l.$t("pages.growthBadge.status"),field:"status"},{default:n(()=>[o(F,{modelValue:e(t).status,"onUpdate:modelValue":a[5]||(a[5]=s=>e(t).status=s)},{default:n(()=>[o(f,{value:0,label:l.$t("pages.growthBadge.statusOk")},null,8,["label"]),o(f,{value:1,label:l.$t("pages.growthBadge.statusDeleted")},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title","size"])}}});export{me as _};
