import{v as w,a as r,C as y,h as C}from"./index.4abcea7d.js";/* empty css              */import{j as d,b6 as v,aV as I,aX as S,ba as $,u as a,aE as U,aH as n,aF as k,C as N,aI as s,aK as B,aL as F,b7 as j,b8 as E}from"./arco.4903a8b5.js";import"./chart.b84bc7b2.js";import"./vue.655af03a.js";const T={__name:"SmtpSettings",setup(H){const{t:f}=w.exports.useI18n(),m=d(!1),e=d(null),i=async()=>{const t=await r.get("/api/admin/sys-config/configs");e.value=t.smtpConfig||{host:"",port:"",username:"",password:"",ssl:!1}};i();const g=async()=>{m.value=!0;try{await r.post("/api/admin/sys-config/save",{smtpConfig:e.value}),await i(),y(f("pages.settings.smtp.message.submitSuccess"))}catch(t){C(t)}finally{m.value=!1}};return(t,o)=>{const p=v,u=j,c=E,_=I,b=S,V=$;return a(e)?(N(),U(V,{key:0,model:a(e),"auto-label-width":""},{default:n(()=>[s(u,{label:t.$t("pages.settings.smtp.host")},{default:n(()=>[s(p,{modelValue:a(e).host,"onUpdate:modelValue":o[0]||(o[0]=l=>a(e).host=l)},null,8,["modelValue"])]),_:1},8,["label"]),s(u,{label:t.$t("pages.settings.smtp.port")},{default:n(()=>[s(p,{modelValue:a(e).port,"onUpdate:modelValue":o[1]||(o[1]=l=>a(e).port=l)},null,8,["modelValue"])]),_:1},8,["label"]),s(u,{label:t.$t("pages.settings.smtp.username")},{default:n(()=>[s(p,{modelValue:a(e).username,"onUpdate:modelValue":o[2]||(o[2]=l=>a(e).username=l)},null,8,["modelValue"])]),_:1},8,["label"]),s(u,{label:t.$t("pages.settings.smtp.password")},{default:n(()=>[s(c,{modelValue:a(e).password,"onUpdate:modelValue":o[3]||(o[3]=l=>a(e).password=l),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["label"]),s(u,{label:t.$t("pages.settings.smtp.ssl")},{default:n(()=>[s(_,{modelValue:a(e).ssl,"onUpdate:modelValue":o[4]||(o[4]=l=>a(e).ssl=l)},null,8,["modelValue"])]),_:1},8,["label"]),s(u,null,{default:n(()=>[s(b,{type:"primary",loading:a(m),onClick:g},{default:n(()=>[B(F(t.$t("pages.settings.smtp.submit")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])):k("",!0)}}};export{T as default};
