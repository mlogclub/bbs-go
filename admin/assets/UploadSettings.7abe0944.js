import{_ as k,v as I,a as $,C as A,h as M}from"./index.080c3c87.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css                *//* empty css                */import{j as S,bT as D,bN as P,b6 as T,bV as B,aX as N,ba as L,u as s,aE as g,aH as d,aF as y,C as c,aI as l,aK as p,aL as i,bU as _,b7 as F,bW as R,b8 as j}from"./arco.fe08071c.js";import"./chart.a7740a30.js";import"./vue.ce9ec506.js";const E={__name:"UploadSettings",setup(H){const{t:h}=I.exports.useI18n(),b=S(!1),a=S(null),V=async()=>{const e=await $.get("/api/admin/sys-config/configs");a.value=e.uploadConfig||{enableUploadMethod:"Local",aliyunOss:{host:"",bucket:"",endpoint:"",accessKeyId:"",accessKeySecret:"",styleSplitter:"@",styleAvatar:"",stylePreview:"",styleSmall:"",styleDetail:""},tencentCos:{bucket:"",region:"",secretId:"",secretKey:""},awsS3:{region:"",bucket:"",accessKeyId:"",accessKeySecret:""}}};V();const O=async()=>{b.value=!0;try{await $.post("/api/admin/sys-config/save",{uploadConfig:a.value}),await V(),A(h("pages.settings.upload.message.submitSuccess"))}catch(e){M(e)}finally{b.value=!1}};return(e,t)=>{const m=D,w=_,n=F,r=P,U=R,u=T,f=j,K=B,v=N,C=L;return s(a)?(c(),g(C,{key:0,model:s(a),"auto-label-width":""},{default:d(()=>[l(r,{title:e.$t("pages.settings.upload.uploadConfig"),class:"upload-settings-card"},{default:d(()=>[l(n,{field:"enableUploadMethod",label:e.$t("pages.settings.upload.enableUploadMethod")},{default:d(()=>[l(w,{modelValue:s(a).enableUploadMethod,"onUpdate:modelValue":t[0]||(t[0]=o=>s(a).enableUploadMethod=o)},{default:d(()=>[l(m,{value:"Local"},{default:d(()=>[p(i(e.$t("pages.settings.upload.local")),1)]),_:1}),l(m,{value:"AliyunOss"},{default:d(()=>[p(i(e.$t("pages.settings.upload.aliyunOss")),1)]),_:1}),l(m,{value:"TencentCos"},{default:d(()=>[p(i(e.$t("pages.settings.upload.tencentCos")),1)]),_:1}),l(m,{value:"AwsS3"},{default:d(()=>[p(i(e.$t("pages.settings.upload.awsS3")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["title"]),s(a).enableUploadMethod==="Local"?(c(),g(r,{key:0,title:e.$t("pages.settings.upload.local"),class:"upload-settings-card"},{default:d(()=>[l(U,{type:"secondary"},{default:d(()=>[p(i(e.$t("pages.settings.upload.localTip")),1)]),_:1})]),_:1},8,["title"])):y("",!0),s(a).enableUploadMethod==="AliyunOss"?(c(),g(r,{key:1,title:e.$t("pages.settings.upload.aliyunOss"),class:"upload-settings-card"},{default:d(()=>[l(n,{field:"aliyunOss.host",label:e.$t("pages.settings.upload.host")},{default:d(()=>[l(u,{modelValue:s(a).aliyunOss.host,"onUpdate:modelValue":t[1]||(t[1]=o=>s(a).aliyunOss.host=o),placeholder:e.$t("pages.settings.upload.placeholder.host")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"aliyunOss.bucket",label:e.$t("pages.settings.upload.bucket")},{default:d(()=>[l(u,{modelValue:s(a).aliyunOss.bucket,"onUpdate:modelValue":t[2]||(t[2]=o=>s(a).aliyunOss.bucket=o),placeholder:e.$t("pages.settings.upload.placeholder.bucket")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"aliyunOss.endpoint",label:e.$t("pages.settings.upload.endpoint")},{default:d(()=>[l(u,{modelValue:s(a).aliyunOss.endpoint,"onUpdate:modelValue":t[3]||(t[3]=o=>s(a).aliyunOss.endpoint=o),placeholder:e.$t("pages.settings.upload.placeholder.endpoint")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"aliyunOss.accessKeyId",label:e.$t("pages.settings.upload.accessKeyId")},{default:d(()=>[l(u,{modelValue:s(a).aliyunOss.accessKeyId,"onUpdate:modelValue":t[4]||(t[4]=o=>s(a).aliyunOss.accessKeyId=o),placeholder:e.$t("pages.settings.upload.placeholder.accessKeyId")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"aliyunOss.accessKeySecret",label:e.$t("pages.settings.upload.accessKeySecret")},{default:d(()=>[l(f,{modelValue:s(a).aliyunOss.accessKeySecret,"onUpdate:modelValue":t[5]||(t[5]=o=>s(a).aliyunOss.accessKeySecret=o),placeholder:e.$t("pages.settings.upload.placeholder.accessKeySecret")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(K,null,{default:d(()=>[p(i(e.$t("pages.settings.upload.imageStyleConfig")),1)]),_:1}),l(n,{field:"aliyunOss.styleSplitter",label:e.$t("pages.settings.upload.styleSplitter")},{default:d(()=>[l(u,{modelValue:s(a).aliyunOss.styleSplitter,"onUpdate:modelValue":t[6]||(t[6]=o=>s(a).aliyunOss.styleSplitter=o),placeholder:e.$t("pages.settings.upload.placeholder.styleSplitter")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"aliyunOss.styleAvatar",label:e.$t("pages.settings.upload.styleAvatar")},{default:d(()=>[l(u,{modelValue:s(a).aliyunOss.styleAvatar,"onUpdate:modelValue":t[7]||(t[7]=o=>s(a).aliyunOss.styleAvatar=o),placeholder:e.$t("pages.settings.upload.placeholder.styleAvatar")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"aliyunOss.stylePreview",label:e.$t("pages.settings.upload.stylePreview")},{default:d(()=>[l(u,{modelValue:s(a).aliyunOss.stylePreview,"onUpdate:modelValue":t[8]||(t[8]=o=>s(a).aliyunOss.stylePreview=o),placeholder:e.$t("pages.settings.upload.placeholder.stylePreview")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"aliyunOss.styleSmall",label:e.$t("pages.settings.upload.styleSmall")},{default:d(()=>[l(u,{modelValue:s(a).aliyunOss.styleSmall,"onUpdate:modelValue":t[9]||(t[9]=o=>s(a).aliyunOss.styleSmall=o),placeholder:e.$t("pages.settings.upload.placeholder.styleSmall")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"aliyunOss.styleDetail",label:e.$t("pages.settings.upload.styleDetail")},{default:d(()=>[l(u,{modelValue:s(a).aliyunOss.styleDetail,"onUpdate:modelValue":t[10]||(t[10]=o=>s(a).aliyunOss.styleDetail=o),placeholder:e.$t("pages.settings.upload.placeholder.styleDetail")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["title"])):y("",!0),s(a).enableUploadMethod==="TencentCos"?(c(),g(r,{key:2,title:e.$t("pages.settings.upload.tencentCos"),class:"upload-settings-card"},{default:d(()=>[l(n,{field:"tencentCos.bucket",label:e.$t("pages.settings.upload.bucket")},{default:d(()=>[l(u,{modelValue:s(a).tencentCos.bucket,"onUpdate:modelValue":t[11]||(t[11]=o=>s(a).tencentCos.bucket=o),placeholder:e.$t("pages.settings.upload.placeholder.tencentBucket")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"tencentCos.region",label:e.$t("pages.settings.upload.region")},{default:d(()=>[l(u,{modelValue:s(a).tencentCos.region,"onUpdate:modelValue":t[12]||(t[12]=o=>s(a).tencentCos.region=o),placeholder:e.$t("pages.settings.upload.placeholder.region")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"tencentCos.secretId",label:e.$t("pages.settings.upload.secretId")},{default:d(()=>[l(u,{modelValue:s(a).tencentCos.secretId,"onUpdate:modelValue":t[13]||(t[13]=o=>s(a).tencentCos.secretId=o),placeholder:e.$t("pages.settings.upload.placeholder.secretId")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"tencentCos.secretKey",label:e.$t("pages.settings.upload.secretKey")},{default:d(()=>[l(f,{modelValue:s(a).tencentCos.secretKey,"onUpdate:modelValue":t[14]||(t[14]=o=>s(a).tencentCos.secretKey=o),placeholder:e.$t("pages.settings.upload.placeholder.secretKey")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["title"])):y("",!0),s(a).enableUploadMethod==="AwsS3"?(c(),g(r,{key:3,title:e.$t("pages.settings.upload.awsS3"),class:"upload-settings-card"},{default:d(()=>[l(n,{field:"awsS3.region",label:e.$t("pages.settings.upload.region")},{default:d(()=>[l(u,{modelValue:s(a).awsS3.region,"onUpdate:modelValue":t[15]||(t[15]=o=>s(a).awsS3.region=o),placeholder:e.$t("pages.settings.upload.placeholder.awsRegion")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"awsS3.bucket",label:e.$t("pages.settings.upload.bucket")},{default:d(()=>[l(u,{modelValue:s(a).awsS3.bucket,"onUpdate:modelValue":t[16]||(t[16]=o=>s(a).awsS3.bucket=o),placeholder:e.$t("pages.settings.upload.placeholder.awsBucket")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"awsS3.accessKeyId",label:e.$t("pages.settings.upload.accessKeyId")},{default:d(()=>[l(u,{modelValue:s(a).awsS3.accessKeyId,"onUpdate:modelValue":t[17]||(t[17]=o=>s(a).awsS3.accessKeyId=o),placeholder:e.$t("pages.settings.upload.placeholder.awsAccessKeyId")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"awsS3.accessKeySecret",label:e.$t("pages.settings.upload.accessKeySecret")},{default:d(()=>[l(f,{modelValue:s(a).awsS3.accessKeySecret,"onUpdate:modelValue":t[18]||(t[18]=o=>s(a).awsS3.accessKeySecret=o),placeholder:e.$t("pages.settings.upload.placeholder.awsSecretAccessKey")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["title"])):y("",!0),l(n,null,{default:d(()=>[l(v,{type:"primary",loading:s(b),onClick:O},{default:d(()=>[p(i(e.$t("pages.settings.upload.submit")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])):y("",!0)}}},ae=k(E,[["__scopeId","data-v-5293dd9c"]]);export{ae as default};
