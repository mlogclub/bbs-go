import{_ as I,f as P,F as k,a as B,B as F}from"./index.4abcea7d.js";/* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css              */import{j as T,r as h,c as D,o as E,b6 as N,bE as U,ac as j,aX as H,ba as J,bD as L,bF as A,D as b,E as c,aI as e,aH as l,u as t,aE as G,C as _,aK as K,aL as M,b7 as O,bG as X}from"./arco.4903a8b5.js";import Y from"./TopicList.73f2b1d8.js";import"./chart.b84bc7b2.js";import"./vue.655af03a.js";/* empty css                *//* empty css                *//* empty css               */import"./TopicVoteCard.7845a4ab.js";const q={class:"container"},x={class:"container-header"},Q={class:"container-main"},R={key:0,class:"topic-container"},W={class:"container-footer"},Z={__name:"index",setup(ee){const V=P(),g=T(!1),o=h({limit:20,page:1}),i=h({page:{page:1,limit:20,total:0},results:[]}),p=D(()=>({total:i.page.total,current:i.page.page,pageSize:i.page.limit,showTotal:!0,showJumper:!0,showPageSize:!0}));E(()=>{k()});const r=async()=>{g.value=!0;try{const a=await B.postForm("/api/admin/topic/list",F(o));i.page=a.page,i.results=a.results}finally{g.value=!1}};r();const v=a=>{o.page=a,r()},w=a=>{o.limit=a,r()};return(a,s)=>{const d=N,u=O,m=X,f=U,y=j,z=H,S=J,$=L,C=A;return _(),b("div",q,[c("div",x,[e(S,{model:t(o),layout:"inline",size:t(V).table.size},{default:l(()=>[e(u,null,{default:l(()=>[e(d,{modelValue:t(o).id,"onUpdate:modelValue":s[0]||(s[0]=n=>t(o).id=n),placeholder:a.$t("pages.topic.filter.id")},null,8,["modelValue","placeholder"])]),_:1}),e(u,null,{default:l(()=>[e(d,{modelValue:t(o).userId,"onUpdate:modelValue":s[1]||(s[1]=n=>t(o).userId=n),placeholder:a.$t("pages.topic.filter.userId")},null,8,["modelValue","placeholder"])]),_:1}),e(u,null,{default:l(()=>[e(f,{modelValue:t(o).status,"onUpdate:modelValue":s[2]||(s[2]=n=>t(o).status=n),placeholder:a.$t("pages.topic.filter.status"),"allow-clear":"",onChange:r},{default:l(()=>[e(m,{value:0,label:a.$t("pages.topic.filter.statusNormal")},null,8,["label"]),e(m,{value:1,label:a.$t("pages.topic.filter.statusDeleted")},null,8,["label"]),e(m,{value:2,label:a.$t("pages.topic.filter.statusPending")},null,8,["label"])]),_:1},8,["modelValue","placeholder"])]),_:1}),e(u,null,{default:l(()=>[e(f,{modelValue:t(o).recommend,"onUpdate:modelValue":s[3]||(s[3]=n=>t(o).recommend=n),placeholder:a.$t("pages.topic.filter.recommend"),"allow-clear":"",onChange:r},{default:l(()=>[e(m,{value:1,label:a.$t("pages.topic.filter.recommendYes")},null,8,["label"]),e(m,{value:0,label:a.$t("pages.topic.filter.recommendNo")},null,8,["label"])]),_:1},8,["modelValue","placeholder"])]),_:1}),e(u,null,{default:l(()=>[e(d,{modelValue:t(o).title,"onUpdate:modelValue":s[4]||(s[4]=n=>t(o).title=n),placeholder:a.$t("pages.topic.filter.title")},null,8,["modelValue","placeholder"])]),_:1}),e(u,null,{default:l(()=>[e(z,{type:"primary","html-type":"submit",onClick:r},{icon:l(()=>[e(y)]),default:l(()=>[K(" "+M(a.$t("pages.topic.filter.search")),1)]),_:1})]),_:1})]),_:1},8,["model","size"])]),c("div",Q,[t(i)&&t(i).results?(_(),b("div",R,[e(Y,{results:t(i).results,onChange:r},null,8,["results"])])):(_(),G($,{key:1}))]),c("div",W,[e(C,{style:{margin:"10px"},total:t(p).total,current:t(p).current,"page-size":t(p).pageSize,"show-total":t(p).showTotal,"show-jumper":t(p).showJumper,"show-page-size":t(p).showPageSize,onChange:v,onPageSizeChange:w},null,8,["total","current","page-size","show-total","show-jumper","show-page-size"])])])}}},be=I(Z,[["__scopeId","data-v-2011c2a2"]]);export{be as default};
