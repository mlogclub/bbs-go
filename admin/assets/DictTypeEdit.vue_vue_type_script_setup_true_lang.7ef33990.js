import{v as B,f as S,a as c,h as f,B as U,C as j}from"./index.080c3c87.js";/* empty css              *//* empty css                *//* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               */import{d as q,j as b,r as x,b6 as z,bE as H,bH as N,ba as O,aE as D,aH as r,u as t,b1 as R,C as A,aI as s,b7 as G,bG as M}from"./arco.fe08071c.js";const te=q({__name:"DictTypeEdit",emits:["ok"],setup(h,{expose:_,emit:v}){const{t:d}=B.exports.useI18n(),y=v,g=S(),p=b(),o=x({visible:!1,isCreate:!1,title:""}),a=b({}),T={name:[{required:!0,message:d("pages.dictType.pleaseInputName")}],code:[{required:!0,message:d("pages.dictType.pleaseInputCode")}],status:[{required:!0}]},V=()=>{a.value={status:0},p.value.resetFields(),o.isCreate=!0,o.title=d("pages.dictType.add"),o.visible=!0},k=async l=>{p.value.resetFields(),o.isCreate=!1,o.title=d("pages.dictType.edit");try{a.value=await c.get(`/api/admin/dict-type/${l}`)}catch(e){f(e)}o.visible=!0},C=()=>{p.value.resetFields()},E=async l=>{if(await p.value.validate()){l(!1);return}try{const n=o.isCreate?"/api/admin/dict-type/create":"/api/admin/dict-type/update";await c.postForm(n,U(a.value)),j(d("pages.dictType.submitSuccess")),y("ok"),l(!0)}catch(n){f(n),l(!1)}};return _({show:V,showEdit:k}),(l,e)=>{const n=z,u=G,m=M,F=H,I=N,$=O,w=R;return A(),D(w,{visible:t(o).visible,"onUpdate:visible":e[4]||(e[4]=i=>t(o).visible=i),title:t(o).title,size:t(g).table.size,onCancel:C,onBeforeOk:E},{default:r(()=>[s($,{ref_key:"formRef",ref:p,model:t(a),rules:T},{default:r(()=>[s(u,{label:l.$t("pages.dictType.name"),field:"name"},{default:r(()=>[s(n,{modelValue:t(a).name,"onUpdate:modelValue":e[0]||(e[0]=i=>t(a).name=i)},null,8,["modelValue"])]),_:1},8,["label"]),s(u,{label:l.$t("pages.dictType.code"),field:"code"},{default:r(()=>[s(n,{modelValue:t(a).code,"onUpdate:modelValue":e[1]||(e[1]=i=>t(a).code=i)},null,8,["modelValue"])]),_:1},8,["label"]),s(u,{label:l.$t("pages.dictType.status"),field:"status"},{default:r(()=>[s(F,{modelValue:t(a).status,"onUpdate:modelValue":e[2]||(e[2]=i=>t(a).status=i)},{default:r(()=>[s(m,{value:0,label:l.$t("pages.dictType.enabled")},null,8,["label"]),s(m,{value:1,label:l.$t("pages.dictType.disabled")},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),s(u,{label:l.$t("pages.dictType.remark"),field:"remark"},{default:r(()=>[s(I,{modelValue:t(a).remark,"onUpdate:modelValue":e[3]||(e[3]=i=>t(a).remark=i),"max-length":128},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title","size"])}}});export{te as _};
