import{f as j,F as H,a as $,B as y,p as M,A as G}from"./index.e2988b1b.js";import{d as J,j as z,r as k,c as K,o as X,b6 as q,bE as Q,ac as W,aX as Y,ba as Z,a6 as x,bB as ee,bC as te,b9 as ae,bL as oe,D as v,E as w,aI as t,aH as a,u as o,C as b,aK as u,aL as m,aE as se,b7 as le,bG as ie,bM as ne}from"./arco.b0f81cee.js";/* empty css                *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css              */import{_ as de}from"./Edit.vue_vue_type_script_setup_true_lang.332ab7a4.js";import"./chart.37105098.js";import"./vue.76373e4c.js";/* empty css                */import"./ImageUpload.82323391.js";const re={class:"container"},pe={class:"container-header"},ue={class:"action-btns"},me={class:"container-main"},ge={key:1},Le=J({__name:"index",setup(ce){const d=j(),h=z(!1),_=z(),l=k({limit:20,page:1,name:"",title:"",status:0}),r=k({page:{page:1,limit:20,total:0},results:[]}),S=K(()=>({total:r.page.total,current:r.page.page,pageSize:r.page.limit,showTotal:!0,showJumper:!0,showPageSize:!0,pageSizeOptions:[20,50,100,200,300,500]}));X(()=>{H()});const n=async()=>{h.value=!0;try{const e=await $.postForm("/api/admin/badge/list",y(l));r.page=e.page,r.results=e.results}finally{h.value=!1}};n();const C=()=>{_.value.show()},V=e=>{_.value.showEdit(e)},D=async e=>{await $.postForm("/api/admin/badge/delete",y({ids:[e]})),await n()},F=e=>{l.page=e,n()},T=e=>{l.limit=e,n()};return(e,p)=>{const f=q,g=le,B=ie,O=Q,E=W,c=Y,I=Z,U=x,i=ne,L=ee,N=te,P=ae,A=oe;return b(),v("div",re,[w("div",pe,[t(I,{model:o(l),layout:"inline",size:o(d).table.size},{default:a(()=>[t(g,null,{default:a(()=>[t(f,{modelValue:o(l).name,"onUpdate:modelValue":p[0]||(p[0]=s=>o(l).name=s),placeholder:e.$t("pages.growthBadge.name")},null,8,["modelValue","placeholder"])]),_:1}),t(g,null,{default:a(()=>[t(f,{modelValue:o(l).title,"onUpdate:modelValue":p[1]||(p[1]=s=>o(l).title=s),placeholder:e.$t("pages.growthBadge.title")},null,8,["modelValue","placeholder"])]),_:1}),t(g,null,{default:a(()=>[t(O,{modelValue:o(l).status,"onUpdate:modelValue":p[2]||(p[2]=s=>o(l).status=s),placeholder:e.$t("pages.growthBadge.status"),"allow-clear":"",style:{width:"140px"},onChange:n},{default:a(()=>[t(B,{value:0,label:e.$t("pages.growthBadge.statusOk")},null,8,["label"]),t(B,{value:1,label:e.$t("pages.growthBadge.statusDeleted")},null,8,["label"])]),_:1},8,["modelValue","placeholder"])]),_:1}),t(g,null,{default:a(()=>[t(c,{type:"primary","html-type":"submit",onClick:n},{icon:a(()=>[t(E)]),default:a(()=>[u(" "+m(e.$t("pages.growthBadge.search")),1)]),_:1})]),_:1})]),_:1},8,["model","size"]),w("div",ue,[t(c,{type:"primary",size:o(d).table.size,onClick:C},{icon:a(()=>[t(U)]),default:a(()=>[u(" "+m(e.$t("pages.growthBadge.add")),1)]),_:1},8,["size"])])]),w("div",me,[t(A,{loading:o(h),data:o(r).results,size:o(d).table.size,bordered:o(d).table.bordered,pagination:o(S),"sticky-header":!0,style:{height:"100%"},"column-resizable":"","row-key":"id",onPageChange:F,onPageSizeChange:T},{columns:a(()=>[t(i,{title:e.$t("pages.growthBadge.id"),"data-index":"id"},null,8,["title"]),t(i,{title:e.$t("pages.growthBadge.name"),"data-index":"name"},null,8,["title"]),t(i,{title:e.$t("pages.growthBadge.title"),"data-index":"title"},null,8,["title"]),t(i,{title:e.$t("pages.growthBadge.description"),"data-index":"description"},null,8,["title"]),t(i,{title:e.$t("pages.growthBadge.icon"),"data-index":"icon"},{cell:a(({record:s})=>[s.icon?(b(),se(L,{key:0,src:("useSiteURL"in e?e.useSiteURL:o(M))(s.icon),width:32,height:32,fit:"contain",preview:!0},null,8,["src"])):(b(),v("span",ge,"-"))]),_:1},8,["title"]),t(i,{title:e.$t("pages.growthBadge.sortNo"),"data-index":"sortNo"},null,8,["title"]),t(i,{title:e.$t("pages.growthBadge.status"),"data-index":"status"},{cell:a(({record:s})=>[u(m(s.status===0?e.$t("pages.growthBadge.statusOk"):e.$t("pages.growthBadge.statusDeleted")),1)]),_:1},8,["title"]),t(i,{title:e.$t("pages.growthBadge.updateTime"),"data-index":"updateTime"},{cell:a(({record:s})=>[u(m(("useFormatDate"in e?e.useFormatDate:o(G))(s.updateTime)),1)]),_:1},8,["title"]),t(i,{title:e.$t("pages.growthBadge.actions")},{cell:a(({record:s})=>[t(P,null,{default:a(()=>[t(c,{type:"primary",size:o(d).table.size,onClick:R=>V(s.id)},{default:a(()=>[u(m(e.$t("pages.growthBadge.edit")),1)]),_:2},1032,["size","onClick"]),t(N,{content:e.$t("pages.growthBadge.confirmDelete"),onOk:R=>D(s.id)},{default:a(()=>[t(c,{type:"primary",status:"danger",size:o(d).table.size,disabled:s.status===1},{default:a(()=>[u(m(e.$t("pages.growthBadge.delete")),1)]),_:2},1032,["size","disabled"])]),_:2},1032,["content","onOk"])]),_:2},1024)]),_:1},8,["title"])]),_:1},8,["loading","data","size","bordered","pagination"])]),t(de,{ref_key:"edit",ref:_,onOk:n},null,512)])}}});export{Le as default};
