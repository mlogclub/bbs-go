import{v as _,a as g,C as v,h as H}from"./index.080c3c87.js";/* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css                *//* empty css                *//* empty css               *//* empty css                */import{d as D,j as y,r as K,b6 as k,bH as S,bE as h,bO as B,aV as E,bl as F,aX as j,ba as z,aE as T,aH as n,u as l,C as c,aI as a,D as O,aJ as G,aM as J,aK as d,aL as m,b7 as M,bG as X}from"./arco.fe08071c.js";import{I as q}from"./ImageUpload.8b5cdc17.js";const ne=D({__name:"CommonSettings",setup(A){const{t:R}=_.exports.useI18n(),u=y(!1),e=K({siteTitle:"",siteLogo:"",siteDescription:"",baseURL:"",siteKeywords:[],siteNotification:"",recommendTags:[],defaultNodeId:void 0,urlRedirect:!1,enableHideContent:!1,modules:{tweet:!1,topic:!1,article:!1}}),f=y([]),b=async()=>{const t=await g.get("/api/admin/sys-config/configs");e.siteTitle=t.siteTitle,e.siteLogo=t.siteLogo,e.siteDescription=t.siteDescription,e.baseURL=t.baseURL,e.siteKeywords=t.siteKeywords,e.siteNotification=t.siteNotification,e.recommendTags=t.recommendTags,e.defaultNodeId=t.defaultNodeId,e.urlRedirect=t.urlRedirect,e.enableHideContent=t.enableHideContent,e.modules=t.modules,f.value=await g.get("/api/admin/topic-node/nodes")};b();const N=async()=>{u.value=!0;try{await g.post("/api/admin/sys-config/save",e),await b(),v(R("pages.settings.common.message.submitSuccess"))}catch(t){H(t)}finally{u.value=!1}};return(t,s)=>{const V=k,i=M,w=S,p=h,C=X,r=B,$=E,U=F,L=j,I=z;return c(),T(I,{model:l(e),"auto-label-width":""},{default:n(()=>[a(i,{label:t.$t("pages.settings.common.siteTitle")},{default:n(()=>[a(V,{modelValue:l(e).siteTitle,"onUpdate:modelValue":s[0]||(s[0]=o=>l(e).siteTitle=o),type:"text",placeholder:t.$t("pages.settings.common.placeholder.siteTitle")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(i,{label:t.$t("pages.settings.common.siteLogo")},{default:n(()=>[a(q,{modelValue:l(e).siteLogo,"onUpdate:modelValue":s[1]||(s[1]=o=>l(e).siteLogo=o)},null,8,["modelValue"])]),_:1},8,["label"]),a(i,{label:t.$t("pages.settings.common.siteDescription")},{default:n(()=>[a(w,{modelValue:l(e).siteDescription,"onUpdate:modelValue":s[2]||(s[2]=o=>l(e).siteDescription=o),"auto-size":{minRows:2,maxRows:5},placeholder:t.$t("pages.settings.common.placeholder.siteDescription")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(i,{label:t.$t("pages.settings.common.baseURL")},{default:n(()=>[a(V,{modelValue:l(e).baseURL,"onUpdate:modelValue":s[3]||(s[3]=o=>l(e).baseURL=o),type:"text",placeholder:t.$t("pages.settings.common.placeholder.baseURL")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(i,{label:t.$t("pages.settings.common.siteKeywords")},{default:n(()=>[a(p,{modelValue:l(e).siteKeywords,"onUpdate:modelValue":s[4]||(s[4]=o=>l(e).siteKeywords=o),multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:t.$t("pages.settings.common.placeholder.siteKeywords")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(i,{label:t.$t("pages.settings.common.siteNotification")},{default:n(()=>[a(w,{modelValue:l(e).siteNotification,"onUpdate:modelValue":s[5]||(s[5]=o=>l(e).siteNotification=o),"auto-size":{minRows:2,maxRows:5},placeholder:t.$t("pages.settings.common.placeholder.siteNotification")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(i,{label:t.$t("pages.settings.common.recommendTags")},{default:n(()=>[a(p,{modelValue:l(e).recommendTags,"onUpdate:modelValue":s[6]||(s[6]=o=>l(e).recommendTags=o),multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:t.$t("pages.settings.common.placeholder.recommendTags")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(i,{label:t.$t("pages.settings.common.defaultNodeId")},{default:n(()=>[a(p,{modelValue:l(e).defaultNodeId,"onUpdate:modelValue":s[7]||(s[7]=o=>l(e).defaultNodeId=o),placeholder:t.$t("pages.settings.common.placeholder.defaultNodeId")},{default:n(()=>[(c(!0),O(J,null,G(l(f),o=>(c(),T(C,{key:o.id,label:o.name,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),a(i,{label:t.$t("pages.settings.common.modules")},{default:n(()=>[a(r,{modelValue:l(e).modules.tweet,"onUpdate:modelValue":s[8]||(s[8]=o=>l(e).modules.tweet=o),border:""},{default:n(()=>[d(m(t.$t("pages.settings.common.tweet")),1)]),_:1},8,["modelValue"]),a(r,{modelValue:l(e).modules.topic,"onUpdate:modelValue":s[9]||(s[9]=o=>l(e).modules.topic=o),border:""},{default:n(()=>[d(m(t.$t("pages.settings.common.topic")),1)]),_:1},8,["modelValue"]),a(r,{modelValue:l(e).modules.article,"onUpdate:modelValue":s[10]||(s[10]=o=>l(e).modules.article=o),border:""},{default:n(()=>[d(m(t.$t("pages.settings.common.article")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),a(i,{label:t.$t("pages.settings.common.urlRedirect")},{default:n(()=>[a(U,{content:t.$t("pages.settings.common.urlRedirectTooltip"),placement:"top"},{default:n(()=>[a($,{modelValue:l(e).urlRedirect,"onUpdate:modelValue":s[11]||(s[11]=o=>l(e).urlRedirect=o)},null,8,["modelValue"])]),_:1},8,["content"])]),_:1},8,["label"]),a(i,{label:t.$t("pages.settings.common.enableHideContent")},{default:n(()=>[a(U,{content:t.$t("pages.settings.common.enableHideContentTooltip"),placement:"top"},{default:n(()=>[a($,{modelValue:l(e).enableHideContent,"onUpdate:modelValue":s[12]||(s[12]=o=>l(e).enableHideContent=o)},null,8,["modelValue"])]),_:1},8,["content"])]),_:1},8,["label"]),a(i,null,{default:n(()=>[a(L,{type:"primary",loading:l(u),onClick:N},{default:n(()=>[d(m(t.$t("pages.settings.common.submit")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])}}});export{ne as _};
