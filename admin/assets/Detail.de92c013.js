import{v as E,a as H,h as S,A as j,_ as B}from"./index.4abcea7d.js";import{d as N,j as m,bA as V,bX as R,ae as U,aX as A,bH as K,bT as P,bb as X,aE as b,aH as a,u as t,e as v,b1 as W,C as f,aI as o,aK as i,aL as c,aF as Y,E as y,aW as L,bY as q,bU as x}from"./arco.4903a8b5.js";/* empty css              *//* empty css                *//* empty css                *//* empty css                */import"./chart.b84bc7b2.js";import"./vue.655af03a.js";const G=["innerHTML"],J={class:"content-actions"},O=N({__name:"Detail",setup(Q,{expose:T}){const{t:d}=E.exports.useI18n(),p=m(!1),_=m(!1),u=m("preview"),s=m(null),w=async e=>{p.value=!0,_.value=!0,u.value="preview",s.value=null;try{s.value=await H.get(`/api/admin/email-log/${e}`)}catch(l){S(l),p.value=!1}finally{_.value=!1}},$=()=>{var l;const e=((l=s.value)==null?void 0:l.content)||"";navigator.clipboard.writeText(e).then(()=>L.success(d("pages.emailLog.copySuccess"))).catch(()=>L.error(d("pages.emailLog.copyFailed")))};return T({show:w}),(e,l)=>{const r=q,k=V,D=R,g=x,C=U,h=A,M=K,z=P,F=X,I=W;return f(),b(I,{visible:t(p),"onUpdate:visible":l[1]||(l[1]=n=>v(p)?p.value=n:null),title:e.$t("pages.emailLog.contentModalTitle"),width:880,footer:!1,"mask-closable":!0},{default:a(()=>[o(F,{loading:t(_),style:{width:"100%"}},{default:a(()=>[t(s)?(f(),b(D,{key:0,column:2,layout:"inline-vertical",size:"small",bordered:""},{default:a(()=>[o(r,{label:e.$t("pages.emailLog.toEmail")},{default:a(()=>[i(c(t(s).toEmail),1)]),_:1},8,["label"]),o(r,{label:e.$t("pages.emailLog.bizType")},{default:a(()=>[i(c(t(s).bizType),1)]),_:1},8,["label"]),o(r,{label:e.$t("pages.emailLog.status")},{default:a(()=>[o(k,{color:t(s).status===0?"green":"red"},{default:a(()=>[i(c(t(s).status===0?e.$t("pages.emailLog.statusSuccess"):e.$t("pages.emailLog.statusFailed")),1)]),_:1},8,["color"])]),_:1},8,["label"]),o(r,{label:e.$t("pages.emailLog.createTime")},{default:a(()=>[i(c(("useFormatDate"in e?e.useFormatDate:t(j))(t(s).createTime)),1)]),_:1},8,["label"]),o(r,{label:e.$t("pages.emailLog.subject")},{default:a(()=>[i(c(t(s).subject),1)]),_:1},8,["label"]),o(r,{label:e.$t("pages.emailLog.errorMsg")},{default:a(()=>[i(c(t(s).errorMsg||"-"),1)]),_:1},8,["label"])]),_:1})):Y("",!0),o(z,{"active-key":t(u),"onUpdate:activeKey":l[0]||(l[0]=n=>v(u)?u.value=n:null),size:"small"},{default:a(()=>[o(g,{key:"preview",title:e.$t("pages.emailLog.contentPreview")},{default:a(()=>{var n;return[y("div",{class:"email-content-preview",innerHTML:((n=t(s))==null?void 0:n.content)||""},null,8,G)]}),_:1},8,["title"]),o(g,{key:"source",title:e.$t("pages.emailLog.contentSource")},{default:a(()=>{var n;return[y("div",J,[o(h,{type:"outline",size:"small",onClick:$},{icon:a(()=>[o(C)]),default:a(()=>[i(" "+c(e.$t("pages.emailLog.copyContent")),1)]),_:1})]),o(M,{"model-value":((n=t(s))==null?void 0:n.content)||"","auto-size":{minRows:12,maxRows:18},readonly:""},null,8,["model-value"])]}),_:1},8,["title"])]),_:1},8,["active-key"])]),_:1},8,["loading"])]),_:1},8,["visible","title"])}}});const ie=B(O,[["__scopeId","data-v-4282291c"]]);export{ie as default};
