import{v as B,f as U,a as f,h as c,B as j,C as q}from"./index.4abcea7d.js";/* empty css              *//* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               */import{d as z,j as b,r as D,b6 as O,bE as T,ba as H,aE as R,aH as i,u as a,b1 as x,C as A,aI as o,aK as v,aL as _,b7 as G,bG as K}from"./arco.4903a8b5.js";const ee=z({__name:"Edit",emits:["ok"],setup(L,{expose:g,emit:V}){const{t:u}=B.exports.useI18n(),k=V,C=U(),m=b(),l=D({visible:!1,isCreate:!1,title:""}),s=b({name:void 0,code:void 0,sortNo:0,remark:void 0,status:0}),S={name:[{required:!0,message:u("pages.role.pleaseInputName")}],code:[{required:!0,message:u("pages.role.pleaseInputCode")}],status:[{required:!0,message:u("pages.role.pleaseSelectStatus")}]},w=()=>{m.value.resetFields(),l.isCreate=!0,l.title=u("pages.role.new"),l.visible=!0},E=async t=>{m.value.resetFields(),l.isCreate=!1,l.title=u("pages.role.editTitle");try{s.value=await f.get(`/api/admin/role/${t}`)}catch(e){c(e)}l.visible=!0},F=()=>{m.value.resetFields()},I=async t=>{if(await m.value.validate()){t(!1);return}try{const n=l.isCreate?"/api/admin/role/create":"/api/admin/role/update";await f.postForm(n,j(s.value)),q(u("role.submitSuccess")),k("ok"),t(!0)}catch(n){c(n),t(!1)}};return g({show:w,showEdit:E}),(t,e)=>{const n=O,d=G,p=K,$=T,y=H,N=x;return A(),R(N,{visible:a(l).visible,"onUpdate:visible":e[4]||(e[4]=r=>a(l).visible=r),title:a(l).title,size:a(C).table.size,onCancel:F,onBeforeOk:I},{default:i(()=>[o(y,{ref_key:"formRef",ref:m,model:a(s),rules:S},{default:i(()=>[o(d,{label:t.$t("pages.role.name"),field:"name"},{default:i(()=>[o(n,{modelValue:a(s).name,"onUpdate:modelValue":e[0]||(e[0]=r=>a(s).name=r)},null,8,["modelValue"])]),_:1},8,["label"]),o(d,{label:t.$t("pages.role.code"),field:"code"},{default:i(()=>[o(n,{modelValue:a(s).code,"onUpdate:modelValue":e[1]||(e[1]=r=>a(s).code=r)},null,8,["modelValue"])]),_:1},8,["label"]),o(d,{label:t.$t("pages.role.remark"),field:"remark"},{default:i(()=>[o(n,{modelValue:a(s).remark,"onUpdate:modelValue":e[2]||(e[2]=r=>a(s).remark=r)},null,8,["modelValue"])]),_:1},8,["label"]),o(d,{label:t.$t("pages.role.status"),field:"status"},{default:i(()=>[o($,{modelValue:a(s).status,"onUpdate:modelValue":e[3]||(e[3]=r=>a(s).status=r)},{default:i(()=>[o(p,{value:0},{default:i(()=>[v(_(t.$t("pages.role.statusNormal")),1)]),_:1}),o(p,{value:1},{default:i(()=>[v(_(t.$t("pages.role.statusDisabled")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title","size"])}}});export{ee as _};
