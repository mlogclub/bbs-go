import{f as V,F as E,a as N,B as I,A as S}from"./index.080c3c87.js";import{d as A,j as y,r as $,o as j,b6 as H,ac as L,aX as M,ba as K,a6 as O,bB as P,bL as U,D as X,E as g,aI as t,aH as a,u as o,C as z,aK as d,aL as r,aE as q,aF as G,b7 as J,bM as Q}from"./arco.fe08071c.js";/* empty css                *//* empty css                *//* empty css              *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              */import{_ as R}from"./Edit.vue_vue_type_script_setup_true_lang.83f6f682.js";import"./chart.a7740a30.js";import"./vue.ce9ec506.js";import"./ImageUpload.8b5cdc17.js";const W={class:"container"},Y={class:"container-header"},Z={class:"action-btns"},x={class:"container-main"},$e=A({__name:"index",setup(ee){const l=V(),m=y(!1),u=y(),p=$({name:void 0}),f=$({results:[]});j(()=>{E()});const c=async()=>{m.value=!0;try{const e=await N.postForm("/api/admin/topic-node/list",I(p));f.results=e}finally{m.value=!1}};c();const k=()=>{u.value.show()},v=e=>{u.value.showEdit(e)},w=async e=>{const n=[];e.forEach(_=>{n.push(_.id)}),await N.post("/api/admin/topic-node/update_sort",n),await c()};return(e,n)=>{const _=H,h=J,C=L,b=M,F=K,T=O,s=Q,B=P,D=U;return z(),X("div",W,[g("div",Y,[t(F,{model:o(p),layout:"inline",size:o(l).table.size},{default:a(()=>[t(h,null,{default:a(()=>[t(_,{modelValue:o(p).name,"onUpdate:modelValue":n[0]||(n[0]=i=>o(p).name=i),placeholder:e.$t("pages.topicNode.filter.name")},null,8,["modelValue","placeholder"])]),_:1}),t(h,null,{default:a(()=>[t(b,{type:"primary","html-type":"submit",onClick:c},{icon:a(()=>[t(C)]),default:a(()=>[d(" "+r(e.$t("pages.topicNode.filter.search")),1)]),_:1})]),_:1})]),_:1},8,["model","size"]),g("div",Z,[t(b,{type:"primary",size:o(l).table.size,onClick:k},{icon:a(()=>[t(T)]),default:a(()=>[d(" "+r(e.$t("pages.topicNode.table.add")),1)]),_:1},8,["size"])])]),g("div",x,[t(D,{loading:o(m),data:o(f).results,size:o(l).table.size,bordered:o(l).table.bordered,pagination:!1,"sticky-header":!0,style:{height:"100%"},"column-resizable":"",draggable:{type:"handle",width:40},"row-key":"id",onChange:w},{columns:a(()=>[t(s,{title:e.$t("pages.topicNode.table.id"),"data-index":"id"},null,8,["title"]),t(s,{title:e.$t("pages.topicNode.table.name"),"data-index":"name"},null,8,["title"]),t(s,{title:e.$t("pages.topicNode.table.description"),"data-index":"description"},null,8,["title"]),t(s,{title:e.$t("pages.topicNode.table.logo"),"data-index":"logo"},{cell:a(({record:i})=>[i.logo?(z(),q(B,{key:0,width:"60",height:"60",fit:"cover",src:i.logo},null,8,["src"])):G("",!0)]),_:1},8,["title"]),t(s,{title:e.$t("pages.topicNode.table.sortNo"),"data-index":"sortNo"},null,8,["title"]),t(s,{title:e.$t("pages.topicNode.table.status"),"data-index":"status"},{cell:a(({record:i})=>[d(r(i.status===0?e.$t("pages.topicNode.table.statusNormal"):e.$t("pages.topicNode.table.statusDeleted")),1)]),_:1},8,["title"]),t(s,{title:e.$t("pages.topicNode.table.createTime"),"data-index":"createTime"},{cell:a(({record:i})=>[d(r(("useFormatDate"in e?e.useFormatDate:o(S))(i.createTime)),1)]),_:1},8,["title"]),t(s,{title:e.$t("pages.topicNode.table.action")},{cell:a(({record:i})=>[t(b,{type:"primary",size:o(l).table.size,onClick:te=>v(i.id)},{default:a(()=>[d(r(e.$t("pages.topicNode.table.edit")),1)]),_:2},1032,["size","onClick"])]),_:1},8,["title"])]),_:1},8,["loading","data","size","bordered"])]),t(R,{ref_key:"edit",ref:u,onOk:c},null,512)])}}});export{$e as default};
