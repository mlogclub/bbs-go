import{v as E,a as u,C as S,h as C}from"./index.e2988b1b.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css               */import{d as _,j as $,r as T,aV as I,bl as N,aU as y,bE as h,aX as w,ba as U,aE as A,aH as l,u as i,C as O,aI as a,aK as P,aL as W,b7 as k}from"./arco.b0f81cee.js";const G=_({__name:"SpamSettings",setup(B){const{t:f}=E.exports.useI18n(),r=$(!1),t=T({topicCaptcha:void 0,createTopicEmailVerified:void 0,createArticleEmailVerified:void 0,createCommentEmailVerified:void 0,articlePending:void 0,userObserveSeconds:void 0,emailWhitelist:void 0,emailNoticeIntervalSeconds:void 0}),d=async()=>{const e=await u.get("/api/admin/sys-config/configs");t.topicCaptcha=e.topicCaptcha,t.createTopicEmailVerified=e.createTopicEmailVerified,t.createArticleEmailVerified=e.createArticleEmailVerified,t.createCommentEmailVerified=e.createCommentEmailVerified,t.articlePending=e.articlePending,t.userObserveSeconds=e.userObserveSeconds,t.emailWhitelist=e.emailWhitelist,t.emailNoticeIntervalSeconds=e.emailNoticeIntervalSeconds};d();const g=async()=>{r.value=!0;try{await u.post("/api/admin/sys-config/save",t),await d(),S(f("pages.settings.spam.message.submitSuccess"))}catch(e){C(e)}finally{r.value=!1}};return(e,o)=>{const p=I,m=N,s=k,c=y,V=h,b=w,v=U;return O(),A(v,{model:i(t),"auto-label-width":""},{default:l(()=>[a(s,{label:e.$t("pages.settings.spam.topicCaptcha")},{default:l(()=>[a(m,{content:e.$t("pages.settings.spam.topicCaptchaTooltip"),placement:"top"},{default:l(()=>[a(p,{modelValue:i(t).topicCaptcha,"onUpdate:modelValue":o[0]||(o[0]=n=>i(t).topicCaptcha=n)},null,8,["modelValue"])]),_:1},8,["content"])]),_:1},8,["label"]),a(s,{label:e.$t("pages.settings.spam.createTopicEmailVerified")},{default:l(()=>[a(m,{content:e.$t("pages.settings.spam.createTopicEmailVerifiedTooltip"),placement:"top"},{default:l(()=>[a(p,{modelValue:i(t).createTopicEmailVerified,"onUpdate:modelValue":o[1]||(o[1]=n=>i(t).createTopicEmailVerified=n)},null,8,["modelValue"])]),_:1},8,["content"])]),_:1},8,["label"]),a(s,{label:e.$t("pages.settings.spam.createArticleEmailVerified")},{default:l(()=>[a(m,{content:e.$t("pages.settings.spam.createArticleEmailVerifiedTooltip"),placement:"top"},{default:l(()=>[a(p,{modelValue:i(t).createArticleEmailVerified,"onUpdate:modelValue":o[2]||(o[2]=n=>i(t).createArticleEmailVerified=n)},null,8,["modelValue"])]),_:1},8,["content"])]),_:1},8,["label"]),a(s,{label:e.$t("pages.settings.spam.createCommentEmailVerified")},{default:l(()=>[a(m,{content:e.$t("pages.settings.spam.createCommentEmailVerifiedTooltip"),placement:"top"},{default:l(()=>[a(p,{modelValue:i(t).createCommentEmailVerified,"onUpdate:modelValue":o[3]||(o[3]=n=>i(t).createCommentEmailVerified=n)},null,8,["modelValue"])]),_:1},8,["content"])]),_:1},8,["label"]),a(s,{label:e.$t("pages.settings.spam.articlePending")},{default:l(()=>[a(m,{content:e.$t("pages.settings.spam.articlePendingTooltip"),placement:"top"},{default:l(()=>[a(p,{modelValue:i(t).articlePending,"onUpdate:modelValue":o[4]||(o[4]=n=>i(t).articlePending=n)},null,8,["modelValue"])]),_:1},8,["content"])]),_:1},8,["label"]),a(s,{label:e.$t("pages.settings.spam.userObserveSeconds")},{default:l(()=>[a(m,{content:e.$t("pages.settings.spam.userObserveSecondsTooltip"),placement:"top"},{default:l(()=>[a(c,{modelValue:i(t).userObserveSeconds,"onUpdate:modelValue":o[5]||(o[5]=n=>i(t).userObserveSeconds=n),mode:"button",min:0,max:720},null,8,["modelValue"])]),_:1},8,["content"])]),_:1},8,["label"]),a(s,{label:e.$t("pages.settings.spam.emailWhitelist")},{default:l(()=>[a(V,{modelValue:i(t).emailWhitelist,"onUpdate:modelValue":o[6]||(o[6]=n=>i(t).emailWhitelist=n),style:{width:"100%"},multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:e.$t("pages.settings.spam.placeholder.emailWhitelist")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(s,{label:e.$t("pages.settings.spam.emailNoticeIntervalSeconds")},{default:l(()=>[a(m,{content:e.$t("pages.settings.spam.emailNoticeIntervalSecondsTooltip"),placement:"top"},{default:l(()=>[a(c,{modelValue:i(t).emailNoticeIntervalSeconds,"onUpdate:modelValue":o[7]||(o[7]=n=>i(t).emailNoticeIntervalSeconds=n),mode:"button",min:0},null,8,["modelValue"])]),_:1},8,["content"])]),_:1},8,["label"]),a(s,null,{default:l(()=>[a(b,{type:"primary",loading:i(r),onClick:g},{default:l(()=>[P(W(e.$t("pages.settings.spam.submit")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])}}});export{G as _};
