import{_ as Ze}from"./BlgFWldK.js";import{_ as et}from"./BbEd4hLB.js";import{u as oe,a as he}from"./LGu3flMp.js";import{c as ce}from"./BoQTQDTW.js";import{i as Ie,h as tt}from"./CcFcSr0Z.js";import{u as ot}from"./DzgUkL5_.js";import{u as at,V as lt}from"./D1mR7rmP.js";import{u as ae}from"./CdZrbHmy.js";import{P as nt,a as rt,u as st,b as it}from"./DOxhRshg.js";import{m as ut,a4 as dt,X as k,a5 as be,o as f,h as C,w as p,a6 as I,e,c as V,s as H,F as ne,r as de,a7 as O,n as B,D as M,p as G,b as D,O as pe,d as _,S as ee,a8 as ct,q as J,T as Z,M as pt,a9 as Se,aa as we,ab as ft,f as z,ac as mt,ad as vt,t as W,v as _t,ae as yt,u as gt,g as ht,K as bt,j as De,af as Ve,Q as St,R as wt,J as xt}from"./CJzXP6Za.js";import{u as ke,a as qt,b as U,c as Ct,r as se}from"./2CCwYrQ6.js";import{P as Bt}from"./C7lyS26n.js";import{u as Pt,a as It,F as kt,D as Tt,f as Te,T as Et}from"./Cc_-16Bv.js";import{u as Me}from"./uQ_JlLeb.js";import{c as Ee,u as $t}from"./BT8yo6_0.js";import{P as N}from"./De4aO46H.js";import{c as te}from"./CDN07tui.js";import{g as Fe}from"./FUKBWQwh.js";import{C as Ne,S as Rt}from"./BZa_-PXV.js";import{u as Le}from"./gFIAofDC.js";import{_ as At}from"./DywUBg3v.js";import{_ as Ot}from"./Vj3wXoah.js";import{_ as Dt}from"./cX-kjXYs.js";import{_ as Vt}from"./BCyMzR8T.js";import{_ as Mt,a as Ft,b as Nt}from"./3yq7kVOK.js";import"./B_DlFklR.js";import"./BtcHo0qI.js";import"./CE1w4_aS.js";import"./rzVlTAu0.js";import"./s7J67Cmf.js";import"./CKm_Z6Fs.js";import"./DB1JJAIA.js";import"./DxEaovhs.js";const Lt=ut("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ht=[" ","Enter","ArrowUp","ArrowDown"],zt=[" ","Enter"],F=10;function re(r,a,t){return r===void 0?!1:Array.isArray(r)?r.some(u=>ge(u,a,t)):ge(r,a,t)}function ge(r,a,t){return r===void 0||a===void 0?!1:typeof r=="string"?r===a:typeof t=="function"?t(r,a):typeof t=="string"?r?.[t]===a?.[t]:dt(r,a)}function Kt(r){return r==null||r===""||Array.isArray(r)&&r.length===0}const Wt={key:0,value:""},[j,He]=ce("SelectRoot");var Ut=k({inheritAttrs:!1,__name:"SelectRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1,default:void 0},by:{type:[String,Function],required:!1},dir:{type:String,required:!1},multiple:{type:Boolean,required:!1},autocomplete:{type:String,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","update:open"],setup(r,{emit:a}){const t=r,u=a,{required:l,disabled:n,multiple:c,dir:o}=be(t),s=ke(t,"modelValue",u,{defaultValue:t.defaultValue??(c.value?[]:void 0),passive:t.modelValue===void 0,deep:!0}),d=ke(t,"open",u,{defaultValue:t.defaultOpen,passive:t.open===void 0}),m=B(),g=B(),S=B({x:0,y:0}),h=M(()=>c.value&&Array.isArray(s.value)?s.value?.length===0:Ie(s.value));ae({isProvider:!0});const v=ot(o),$=at(m),T=B(new Set),q=M(()=>Array.from(T.value).map(i=>i.value).join(";"));function P(i){if(c.value){const b=Array.isArray(s.value)?[...s.value]:[],y=b.findIndex(x=>ge(x,i,t.by));y===-1?b.push(i):b.splice(y,1),s.value=[...b]}else s.value=i}function w(i){return Array.from(T.value).find(b=>re(i,b.value,t.by))}return He({triggerElement:m,onTriggerChange:i=>{m.value=i},valueElement:g,onValueElementChange:i=>{g.value=i},contentId:"",modelValue:s,onValueChange:P,by:t.by,open:d,multiple:c,required:l,onOpenChange:i=>{d.value=i},dir:v,triggerPointerDownPosRef:S,disabled:n,isEmptyModelValue:h,optionsSet:T,onOptionAdd:i=>{const b=w(i.value);b&&T.value.delete(b),T.value.add(i)},onOptionRemove:i=>{const b=w(i.value);b&&T.value.delete(b)}}),(i,b)=>(f(),C(e(nt),null,{default:p(()=>[I(i.$slots,"default",{modelValue:e(s),open:e(d)}),e($)?(f(),C(Xt,{key:q.value,"aria-hidden":"true",tabindex:"-1",multiple:e(c),required:e(l),name:i.name,autocomplete:i.autocomplete,disabled:e(n),value:e(s)},{default:p(()=>[e(Ie)(e(s))?(f(),V("option",Wt)):H("v-if",!0),(f(!0),V(ne,null,de(Array.from(T.value),y=>(f(),V("option",O({key:y.value??""},{ref_for:!0},y),null,16))),128))]),_:1},8,["multiple","required","name","autocomplete","disabled","value"])):H("v-if",!0)]),_:3}))}}),jt=Ut,Yt=k({__name:"BubbleSelect",props:{autocomplete:{type:String,required:!1},autofocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},form:{type:String,required:!1},multiple:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},size:{type:Number,required:!1},value:{type:null,required:!1}},setup(r){const a=r,t=B(),u=j();G(()=>a.value,(n,c)=>{const o=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(o,"value").set;if(n!==c&&d&&t.value){const m=new Event("change",{bubbles:!0});d.call(t.value,n),t.value.dispatchEvent(m)}});function l(n){u.onValueChange(n.target.value)}return(n,c)=>(f(),C(e(lt),{"as-child":""},{default:p(()=>[D("select",O({ref_key:"selectElement",ref:t},a,{onInput:l}),[I(n.$slots,"default")],16)]),_:3}))}}),Xt=Yt,Gt=k({__name:"SelectPopperPosition",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1,default:"start"},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1,default:F},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(r){const t=oe(r);return(u,l)=>(f(),C(e(rt),O(e(t),{style:{boxSizing:"border-box","--reka-select-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-select-content-available-width":"var(--reka-popper-available-width)","--reka-select-content-available-height":"var(--reka-popper-available-height)","--reka-select-trigger-width":"var(--reka-popper-anchor-width)","--reka-select-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:p(()=>[I(u.$slots,"default")]),_:3},16))}}),Jt=Gt;const Qt={onViewportChange:()=>{},itemTextRefCallback:()=>{},itemRefCallback:()=>{}},[Q,ze]=ce("SelectContent");var Zt=k({__name:"SelectContentImpl",props:{position:{type:String,required:!1,default:"item-aligned"},bodyLock:{type:Boolean,required:!1,default:!0},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1,default:"start"},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1,default:!0}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(r,{emit:a}){const t=r,u=a,l=j();st(),Pt(t.bodyLock);const{CollectionSlot:n,getItems:c}=ae(),o=B();It(o);const{search:s,handleTypeaheadSearch:d}=Me(),m=B(),g=B(),S=B(),h=B(!1),v=B(!1),$=B(!1);function T(){g.value&&o.value&&Te([g.value,o.value])}G(h,()=>{T()});const{onOpenChange:q,triggerPointerDownPosRef:P}=l;pe(y=>{if(!o.value)return;let x={x:0,y:0};const E=A=>{x={x:Math.abs(Math.round(A.pageX)-(P.value?.x??0)),y:Math.abs(Math.round(A.pageY)-(P.value?.y??0))}},R=A=>{A.pointerType!=="touch"&&(x.x<=10&&x.y<=10?A.preventDefault():o.value?.contains(A.target)||q(!1),document.removeEventListener("pointermove",E),P.value=null)};P.value!==null&&(document.addEventListener("pointermove",E),document.addEventListener("pointerup",R,{capture:!0,once:!0})),y(()=>{document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",R,{capture:!0})})});function w(y){const x=y.ctrlKey||y.altKey||y.metaKey;if(y.key==="Tab"&&y.preventDefault(),!x&&y.key.length===1&&d(y.key,c()),["ArrowUp","ArrowDown","Home","End"].includes(y.key)){let R=[...c().map(A=>A.ref)];if(["ArrowUp","End"].includes(y.key)&&(R=R.slice().reverse()),["ArrowUp","ArrowDown"].includes(y.key)){const A=y.target,le=R.indexOf(A);R=R.slice(le+1)}setTimeout(()=>Te(R)),y.preventDefault()}}const i=M(()=>t.position==="popper"?t:{}),b=oe(i.value);return ze({content:o,viewport:m,onViewportChange:y=>{m.value=y},itemRefCallback:(y,x,E)=>{const R=!v.value&&!E,A=re(l.modelValue.value,x,l.by);if(l.multiple.value){if($.value)return;(A||R)&&(g.value=y,A&&($.value=!0))}else(A||R)&&(g.value=y);R&&(v.value=!0)},selectedItem:g,selectedItemText:S,onItemLeave:()=>{o.value?.focus()},itemTextRefCallback:(y,x,E)=>{const R=!v.value&&!E;(re(l.modelValue.value,x,l.by)||R)&&(S.value=y)},focusSelectedItem:T,position:t.position,isPositioned:h,searchRef:s}),(y,x)=>(f(),C(e(n),null,{default:p(()=>[_(e(kt),{"as-child":"",onMountAutoFocus:x[6]||(x[6]=ee(()=>{},["prevent"])),onUnmountAutoFocus:x[7]||(x[7]=E=>{u("closeAutoFocus",E),!E.defaultPrevented&&(e(l).triggerElement.value?.focus({preventScroll:!0}),E.preventDefault())})},{default:p(()=>[_(e(Tt),{"as-child":"","disable-outside-pointer-events":y.disableOutsidePointerEvents,onFocusOutside:x[2]||(x[2]=ee(()=>{},["prevent"])),onDismiss:x[3]||(x[3]=E=>e(l).onOpenChange(!1)),onEscapeKeyDown:x[4]||(x[4]=E=>u("escapeKeyDown",E)),onPointerDownOutside:x[5]||(x[5]=E=>u("pointerDownOutside",E))},{default:p(()=>[(f(),C(ct(y.position==="popper"?Jt:ao),O({...y.$attrs,...e(b)},{id:e(l).contentId,ref:E=>{const R=e(qt)(E);R?.hasAttribute("data-reka-popper-content-wrapper")?o.value=R.firstElementChild:o.value=R},role:"listbox","data-state":e(l).open.value?"open":"closed",dir:e(l).dir.value,style:{display:"flex",flexDirection:"column",outline:"none"},onContextmenu:x[0]||(x[0]=ee(()=>{},["prevent"])),onPlaced:x[1]||(x[1]=E=>h.value=!0),onKeydown:w}),{default:p(()=>[I(y.$slots,"default")]),_:3},16,["id","data-state","dir","onKeydown"]))]),_:3},8,["disable-outside-pointer-events"])]),_:3})]),_:3}))}}),eo=Zt;const[xe,to]=ce("SelectItemAlignedPosition");var oo=k({inheritAttrs:!1,__name:"SelectItemAlignedPosition",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["placed"],setup(r,{emit:a}){const t=r,u=a,{getItems:l}=ae(),n=j(),c=Q(),o=B(!1),s=B(!0),d=B(),{forwardRef:m,currentElement:g}=U(),{viewport:S,selectedItem:h,selectedItemText:v,focusSelectedItem:$}=c;function T(){if(n.triggerElement.value&&n.valueElement.value&&d.value&&g.value&&S?.value&&h?.value&&v?.value){const w=n.triggerElement.value.getBoundingClientRect(),i=g.value.getBoundingClientRect(),b=n.valueElement.value.getBoundingClientRect(),y=v.value.getBoundingClientRect();if(n.dir.value!=="rtl"){const L=y.left-i.left,K=b.left-L,Y=w.left-K,X=w.width+Y,me=Math.max(X,i.width),ve=window.innerWidth-F,_e=Ee(K,F,Math.max(F,ve-me));d.value.style.minWidth=`${X}px`,d.value.style.left=`${_e}px`}else{const L=i.right-y.right,K=window.innerWidth-b.right-L,Y=window.innerWidth-w.right-K,X=w.width+Y,me=Math.max(X,i.width),ve=window.innerWidth-F,_e=Ee(K,F,Math.max(F,ve-me));d.value.style.minWidth=`${X}px`,d.value.style.right=`${_e}px`}const x=l().map(L=>L.ref),E=window.innerHeight-F*2,R=S.value.scrollHeight,A=window.getComputedStyle(g.value),le=Number.parseInt(A.borderTopWidth,10),qe=Number.parseInt(A.paddingTop,10),Ce=Number.parseInt(A.borderBottomWidth,10),Ue=Number.parseInt(A.paddingBottom,10),Be=le+qe+R+Ue+Ce,je=Math.min(h.value.offsetHeight*5,Be),Pe=window.getComputedStyle(S.value),Ye=Number.parseInt(Pe.paddingTop,10),Xe=Number.parseInt(Pe.paddingBottom,10),ie=w.top+w.height/2-F,Ge=E-ie,fe=h.value.offsetHeight/2,Je=h.value.offsetTop+fe,ue=le+qe+Je,Qe=Be-ue;if(ue<=ie){const L=h.value===x[x.length-1];d.value.style.bottom="0px";const K=g.value.clientHeight-S.value.offsetTop-S.value.offsetHeight,Y=Math.max(Ge,fe+(L?Xe:0)+K+Ce),X=ue+Y;d.value.style.height=`${X}px`}else{const L=h.value===x[0];d.value.style.top="0px";const Y=Math.max(ie,le+S.value.offsetTop+(L?Ye:0)+fe)+Qe;d.value.style.height=`${Y}px`,S.value.scrollTop=ue-ie+S.value.offsetTop}d.value.style.margin=`${F}px 0`,d.value.style.minHeight=`${je}px`,d.value.style.maxHeight=`${E}px`,u("placed"),requestAnimationFrame(()=>o.value=!0)}}const q=B("");J(async()=>{await Z(),T(),g.value&&(q.value=window.getComputedStyle(g.value).zIndex)});function P(w){w&&s.value===!0&&(T(),$?.(),s.value=!1)}return Ct(n.triggerElement,()=>{T()}),to({contentWrapper:d,shouldExpandOnScrollRef:o,onScrollButtonChange:P}),(w,i)=>(f(),V("div",{ref_key:"contentWrapperElement",ref:d,style:pt({display:"flex",flexDirection:"column",position:"fixed",zIndex:q.value})},[_(e(N),O({ref:e(m),style:{boxSizing:"border-box",maxHeight:"100%"}},{...w.$attrs,...t}),{default:p(()=>[I(w.$slots,"default")]),_:3},16)],4))}}),ao=oo,lo=k({inheritAttrs:!1,__name:"SelectProvider",props:{context:{type:Object,required:!0}},setup(r){return He(r.context),ze(Qt),(t,u)=>I(t.$slots,"default")}}),no=lo;const ro={key:1};var so=k({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(r,{emit:a}){const t=r,l=he(t,a),n=j(),c=B();J(()=>{c.value=new DocumentFragment});const o=B(),s=M(()=>t.forceMount||n.open.value),d=B(s.value);return G(s,()=>{setTimeout(()=>d.value=s.value)}),(m,g)=>s.value||d.value||o.value?.present?(f(),C(e(Bt),{key:0,ref_key:"presenceRef",ref:o,present:s.value},{default:p(()=>[_(eo,Se(we({...e(l),...m.$attrs})),{default:p(()=>[I(m.$slots,"default")]),_:3},16)]),_:3},8,["present"])):c.value?(f(),V("div",ro,[(f(),C(ft,{to:c.value},[_(no,{context:e(n)},{default:p(()=>[I(m.$slots,"default")]),_:3},8,["context"])],8,["to"]))])):H("v-if",!0)}}),io=so,uo=k({__name:"SelectIcon",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(r){return(a,t)=>(f(),C(e(N),{"aria-hidden":"true",as:a.as,"as-child":a.asChild},{default:p(()=>[I(a.$slots,"default",{},()=>[t[0]||(t[0]=z("â–¼"))])]),_:3},8,["as","as-child"]))}}),co=uo;const[Ke,po]=ce("SelectItem");var fo=k({__name:"SelectItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(r,{emit:a}){const t=r,u=a,{disabled:l}=be(t),n=j(),c=Q(),{forwardRef:o,currentElement:s}=U(),{CollectionItem:d}=ae(),m=M(()=>re(n.modelValue?.value,t.value,n.by)),g=B(!1),S=B(t.textValue??""),h=Le(void 0,"reka-select-item-text"),v="select.select";async function $(i){if(i.defaultPrevented)return;const b={originalEvent:i,value:t.value};tt(v,T,b)}async function T(i){await Z(),u("select",i),!i.defaultPrevented&&(l.value||(n.onValueChange(t.value),n.multiple.value||n.onOpenChange(!1)))}async function q(i){await Z(),!i.defaultPrevented&&(l.value?c.onItemLeave?.():i.currentTarget?.focus({preventScroll:!0}))}async function P(i){await Z(),!i.defaultPrevented&&i.currentTarget===Fe()&&c.onItemLeave?.()}async function w(i){await Z(),!(i.defaultPrevented||c.searchRef?.value!==""&&i.key===" ")&&(zt.includes(i.key)&&$(i),i.key===" "&&i.preventDefault())}if(t.value==="")throw new Error("A <SelectItem /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return J(()=>{s.value&&c.itemRefCallback(s.value,t.value,t.disabled)}),po({value:t.value,disabled:l,textId:h,isSelected:m,onItemTextChange:i=>{S.value=((S.value||i?.textContent)??"").trim()}}),(i,b)=>(f(),C(e(d),{value:{textValue:S.value}},{default:p(()=>[_(e(N),{ref:e(o),role:"option","aria-labelledby":e(h),"data-highlighted":g.value?"":void 0,"aria-selected":m.value,"data-state":m.value?"checked":"unchecked","aria-disabled":e(l)||void 0,"data-disabled":e(l)?"":void 0,tabindex:e(l)?void 0:-1,as:i.as,"as-child":i.asChild,onFocus:b[0]||(b[0]=y=>g.value=!0),onBlur:b[1]||(b[1]=y=>g.value=!1),onPointerup:$,onPointerdown:b[2]||(b[2]=y=>{y.currentTarget.focus({preventScroll:!0})}),onTouchend:b[3]||(b[3]=ee(()=>{},["prevent","stop"])),onPointermove:q,onPointerleave:P,onKeydown:w},{default:p(()=>[I(i.$slots,"default")]),_:3},8,["aria-labelledby","data-highlighted","aria-selected","data-state","aria-disabled","data-disabled","tabindex","as","as-child"])]),_:3},8,["value"]))}}),mo=fo,vo=k({__name:"SelectItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(r){const a=r,t=Ke();return(u,l)=>e(t).isSelected.value?(f(),C(e(N),O({key:0,"aria-hidden":"true"},a),{default:p(()=>[I(u.$slots,"default")]),_:3},16)):H("v-if",!0)}}),_o=vo,yo=k({inheritAttrs:!1,__name:"SelectItemText",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(r){const a=r,t=j(),u=Q(),l=Ke(),{forwardRef:n,currentElement:c}=U(),o=M(()=>({value:l.value,disabled:l.disabled.value,textContent:c.value?.textContent??l.value?.toString()??""}));return J(()=>{c.value&&(l.onItemTextChange(c.value),u.itemTextRefCallback(c.value,l.value,l.disabled.value),t.onOptionAdd(o.value))}),mt(()=>{t.onOptionRemove(o.value)}),(s,d)=>(f(),C(e(N),O({id:e(l).textId,ref:e(n)},{...a,...s.$attrs}),{default:p(()=>[I(s.$slots,"default")]),_:3},16,["id"]))}}),go=yo,ho=k({__name:"SelectPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(r){const a=r;return(t,u)=>(f(),C(e(Et),Se(we(a)),{default:p(()=>[I(t.$slots,"default")]),_:3},16))}}),bo=ho,So=k({__name:"SelectScrollButtonImpl",emits:["autoScroll"],setup(r,{emit:a}){const t=a,{getItems:u}=ae(),l=Q(),n=B(null);function c(){n.value!==null&&(window.clearInterval(n.value),n.value=null)}pe(()=>{u().map(m=>m.ref).find(m=>m===Fe())?.scrollIntoView({block:"nearest"})});function o(){n.value===null&&(n.value=window.setInterval(()=>{t("autoScroll")},50))}function s(){l.onItemLeave?.(),n.value===null&&(n.value=window.setInterval(()=>{t("autoScroll")},50))}return vt(()=>c()),(d,m)=>(f(),C(e(N),O({"aria-hidden":"true",style:{flexShrink:0}},d.$parent?.$props,{onPointerdown:o,onPointermove:s,onPointerleave:m[0]||(m[0]=()=>{c()})}),{default:p(()=>[I(d.$slots,"default")]),_:3},16))}}),We=So,wo=k({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(r){const a=Q(),t=a.position==="item-aligned"?xe():void 0,{forwardRef:u,currentElement:l}=U(),n=B(!1);return pe(c=>{if(a.viewport?.value&&a.isPositioned?.value){let s=function(){const d=o.scrollHeight-o.clientHeight;n.value=Math.ceil(o.scrollTop)<d};const o=a.viewport.value;s(),o.addEventListener("scroll",s),c(()=>o.removeEventListener("scroll",s))}}),G(l,()=>{l.value&&t?.onScrollButtonChange(l.value)}),(c,o)=>n.value?(f(),C(We,{key:0,ref:e(u),onAutoScroll:o[0]||(o[0]=()=>{const{viewport:s,selectedItem:d}=e(a);s?.value&&d?.value&&(s.value.scrollTop=s.value.scrollTop+d.value.offsetHeight)})},{default:p(()=>[I(c.$slots,"default")]),_:3},512)):H("v-if",!0)}}),xo=wo,qo=k({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(r){const a=Q(),t=a.position==="item-aligned"?xe():void 0,{forwardRef:u,currentElement:l}=U(),n=B(!1);return pe(c=>{if(a.viewport?.value&&a.isPositioned?.value){let s=function(){n.value=o.scrollTop>0};const o=a.viewport.value;s(),o.addEventListener("scroll",s),c(()=>o.removeEventListener("scroll",s))}}),G(l,()=>{l.value&&t?.onScrollButtonChange(l.value)}),(c,o)=>n.value?(f(),C(We,{key:0,ref:e(u),onAutoScroll:o[0]||(o[0]=()=>{const{viewport:s,selectedItem:d}=e(a);s?.value&&d?.value&&(s.value.scrollTop=s.value.scrollTop-d.value.offsetHeight)})},{default:p(()=>[I(c.$slots,"default")]),_:3},512)):H("v-if",!0)}}),Co=qo,Bo=k({__name:"SelectTrigger",props:{disabled:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(r){const a=r,t=j(),{forwardRef:u,currentElement:l}=U(),n=M(()=>t.disabled?.value||a.disabled);t.contentId||=Le(void 0,"reka-select-content"),J(()=>{t.onTriggerChange(l.value)});const{getItems:c}=ae(),{search:o,handleTypeaheadSearch:s,resetTypeahead:d}=Me();function m(){n.value||(t.onOpenChange(!0),d())}function g(S){m(),t.triggerPointerDownPosRef.value={x:Math.round(S.pageX),y:Math.round(S.pageY)}}return(S,h)=>(f(),C(e(it),{"as-child":"",reference:S.reference},{default:p(()=>[_(e(N),{ref:e(u),role:"combobox",type:S.as==="button"?"button":void 0,"aria-controls":e(t).contentId,"aria-expanded":e(t).open.value||!1,"aria-required":e(t).required?.value,"aria-autocomplete":"none",disabled:n.value,dir:e(t)?.dir.value,"data-state":e(t)?.open.value?"open":"closed","data-disabled":n.value?"":void 0,"data-placeholder":e(Kt)(e(t).modelValue?.value)?"":void 0,"as-child":S.asChild,as:S.as,onClick:h[0]||(h[0]=v=>{v?.currentTarget?.focus()}),onPointerdown:h[1]||(h[1]=v=>{if(v.pointerType==="touch")return v.preventDefault();const $=v.target;$.hasPointerCapture(v.pointerId)&&$.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&(g(v),v.preventDefault())}),onPointerup:h[2]||(h[2]=ee(v=>{v.pointerType==="touch"&&g(v)},["prevent"])),onKeydown:h[3]||(h[3]=v=>{const $=e(o)!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&$&&v.key===" "||(e(s)(v.key,e(c)()),e(Ht).includes(v.key)&&(m(),v.preventDefault()))})},{default:p(()=>[I(S.$slots,"default")]),_:3},8,["type","aria-controls","aria-expanded","aria-required","disabled","dir","data-state","data-disabled","data-placeholder","as-child","as"])]),_:3},8,["reference"]))}}),Po=Bo,Io=k({__name:"SelectValue",props:{placeholder:{type:String,required:!1,default:""},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(r){const a=r,{forwardRef:t,currentElement:u}=U(),l=j();J(()=>{l.valueElement=u});const n=M(()=>{let o=[];const s=Array.from(l.optionsSet.value),d=m=>s.find(g=>re(m,g.value,l.by));return Array.isArray(l.modelValue.value)?o=l.modelValue.value.map(m=>d(m)?.textContent??""):o=[d(l.modelValue.value)?.textContent??""],o.filter(Boolean)}),c=M(()=>n.value.length?n.value.join(", "):a.placeholder);return(o,s)=>(f(),C(e(N),{ref:e(t),as:o.as,"as-child":o.asChild,style:{pointerEvents:"none"},"data-placeholder":n.value.length?void 0:a.placeholder},{default:p(()=>[I(o.$slots,"default",{selectedLabel:n.value,modelValue:e(l).modelValue.value},()=>[z(W(c.value),1)])]),_:3},8,["as","as-child","data-placeholder"]))}}),ko=Io,To=k({__name:"SelectViewport",props:{nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(r){const a=r,{nonce:t}=be(a),u=$t(t),l=Q(),n=l.position==="item-aligned"?xe():void 0,{forwardRef:c,currentElement:o}=U();J(()=>{l?.onViewportChange(o.value)});const s=B(0);function d(m){const g=m.currentTarget,{shouldExpandOnScrollRef:S,contentWrapper:h}=n??{};if(S?.value&&h?.value){const v=Math.abs(s.value-g.scrollTop);if(v>0){const $=window.innerHeight-F*2,T=Number.parseFloat(h.value.style.minHeight),q=Number.parseFloat(h.value.style.height),P=Math.max(T,q);if(P<$){const w=P+v,i=Math.min($,w),b=w-i;h.value.style.height=`${i}px`,h.value.style.bottom==="0px"&&(g.scrollTop=b>0?b:0,h.value.style.justifyContent="flex-end")}}}s.value=g.scrollTop}return(m,g)=>(f(),V(ne,null,[_(e(N),O({ref:e(c),"data-reka-select-viewport":"",role:"presentation"},{...m.$attrs,...a},{style:{position:"relative",flex:1,overflow:"hidden auto"},onScroll:d}),{default:p(()=>[I(m.$slots,"default")]),_:3},16),_(e(N),{as:"style",nonce:e(u)},{default:p(()=>g[0]||(g[0]=[z(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-select-viewport] { scrollbar-width:none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } [data-reka-select-viewport]::-webkit-scrollbar { display: none; } ")])),_:1,__:[0]},8,["nonce"])],64))}}),Eo=To;const $e=k({__name:"Select",props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},by:{type:[String,Function]},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(r,{emit:a}){const l=he(r,a);return(n,c)=>(f(),C(e(jt),O({"data-slot":"select"},e(l)),{default:p(o=>[I(n.$slots,"default",Se(we(o)))]),_:3},16))}}),Re=k({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{default:"popper"},bodyLock:{type:Boolean},side:{},sideOffset:{},sideFlip:{type:Boolean},align:{},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},hideShiftedArrow:{type:Boolean},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(r,{emit:a}){const t=r,u=a,l=se(t,"class"),n=he(l,u);return(c,o)=>(f(),C(e(bo),null,{default:p(()=>[_(e(io),O({"data-slot":"select-content"},{...c.$attrs,...e(n)},{class:e(te)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--reka-select-content-available-height) min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r.position==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t.class)}),{default:p(()=>[_(e(Ao)),_(e(Eo),{class:_t(e(te)("p-1",r.position==="popper"&&"h-[var(--reka-select-trigger-height)] w-full min-w-[var(--reka-select-trigger-width)] scroll-my-1"))},{default:p(()=>[I(c.$slots,"default")]),_:3},8,["class"]),_(e(Ro))]),_:3},16,["class"])]),_:3}))}}),$o={class:"absolute right-2 flex size-3.5 items-center justify-center"},ye=k({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(r){const a=r,t=se(a,"class"),u=oe(t);return(l,n)=>(f(),C(e(mo),O({"data-slot":"select-item"},e(u),{class:e(te)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",a.class)}),{default:p(()=>[D("span",$o,[_(e(_o),null,{default:p(()=>[I(l.$slots,"indicator-icon",{},()=>[_(e(yt),{class:"size-4"})])]),_:3})]),_(e(go),null,{default:p(()=>[I(l.$slots,"default")]),_:3})]),_:3},16,["class"]))}}),Ro=k({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const a=r,t=se(a,"class"),u=oe(t);return(l,n)=>(f(),C(e(xo),O({"data-slot":"select-scroll-down-button"},e(u),{class:e(te)("flex cursor-default items-center justify-center py-1",a.class)}),{default:p(()=>[I(l.$slots,"default",{},()=>[_(e(Ne),{class:"size-4"})])]),_:3},16,["class"]))}}),Ao=k({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const a=r,t=se(a,"class"),u=oe(t);return(l,n)=>(f(),C(e(Co),O({"data-slot":"select-scroll-up-button"},e(u),{class:e(te)("flex cursor-default items-center justify-center py-1",a.class)}),{default:p(()=>[I(l.$slots,"default",{},()=>[_(e(Lt),{class:"size-4"})])]),_:3},16,["class"]))}}),Ae=k({__name:"SelectTrigger",props:{disabled:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{},size:{default:"default"}},setup(r){const a=r,t=se(a,"class","size"),u=oe(t);return(l,n)=>(f(),C(e(Po),O({"data-slot":"select-trigger","data-size":r.size},e(u),{class:e(te)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a.class)}),{default:p(()=>[I(l.$slots,"default"),_(e(co),{"as-child":""},{default:p(()=>[_(e(Ne),{class:"size-4 opacity-50"})]),_:1})]),_:3},16,["data-size","class"]))}}),Oe=k({__name:"SelectValue",props:{placeholder:{},asChild:{type:Boolean},as:{}},setup(r){const a=r;return(t,u)=>(f(),C(e(ko),O({"data-slot":"select-value"},a),{default:p(()=>[I(t.$slots,"default")]),_:3},16))}}),Oo={class:"flex items-center gap-1.5"},Do={__name:"SearchTopicsNav",async setup(r){let a,t;const{t:u}=gt(),{data:l}=([a,t]=ht(()=>bt("/api/topic/nodes")),a=await a,t(),a),n=De(),c=Ve(),o=B(0),s=B(0),d=(q,P=0)=>{const w=Array.isArray(q)?q[0]:q,i=Number(w);return Number.isFinite(i)?i:P},m=M(()=>l.value||[]),g=M(()=>o.value>0?o.value:0),S=M(()=>[{value:0,label:u("component.search.timeRange.all")},{value:1,label:u("component.search.timeRange.day")},{value:2,label:u("component.search.timeRange.week")},{value:3,label:u("component.search.timeRange.month")},{value:4,label:u("component.search.timeRange.year")}]);G(()=>n.query,q=>{o.value=Math.max(0,d(q.nodeId,0)),s.value=d(q.timeRange,0)},{immediate:!0});const h=q=>{o.value=q,T("nodeId",q)},v=q=>{const P=d(q,0);h(P)},$=q=>{const P=d(q,0);s.value=P,T("timeRange",P)},T=(q,P)=>{const i={...{...n.query}};Number(P)===0?delete i[q]:i[q]=P,c.push({path:"/search",query:i})};return(q,P)=>(f(),V("div",Oo,[_(e($e),{"model-value":String(e(g)),"onUpdate:modelValue":v},{default:p(()=>[_(e(Ae),{class:"h-9 w-[138px] bg-background px-2.5 text-xs"},{default:p(()=>[_(e(Oe),{placeholder:e(u)("component.search.allNodes")},null,8,["placeholder"])]),_:1}),_(e(Re),null,{default:p(()=>[_(e(ye),{value:"0"},{default:p(()=>[z(W(e(u)("component.search.allNodes")),1)]),_:1}),(f(!0),V(ne,null,de(e(m),w=>(f(),C(e(ye),{key:w.id,value:String(w.id)},{default:p(()=>[z(W(w.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"]),_(e($e),{"model-value":String(e(s)),"onUpdate:modelValue":$},{default:p(()=>[_(e(Ae),{class:"h-9 w-[122px] bg-background px-2.5 text-xs"},{default:p(()=>[_(e(Oe),{placeholder:e(u)("component.search.timeRange.all")},null,8,["placeholder"])]),_:1}),_(e(Re),null,{default:p(()=>[(f(!0),V(ne,null,de(e(S),w=>(f(),C(e(ye),{key:w.value,value:String(w.value)},{default:p(()=>[z(W(w.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"])]))}},Vo={class:"divide-y divide-border"},Mo={class:"min-w-0"},Fo={class:"text-base font-semibold leading-6 text-foreground"},No={class:"mt-2 flex flex-wrap items-center gap-x-2 gap-y-1 text-xs text-muted-foreground/90"},Lo={__name:"SearchTopicList",props:{results:{type:Array,default:()=>[]}},setup(r){const a=r,t=M(()=>a.results||[]);return(u,l)=>{const n=At,c=Ot;return f(),V("div",Vo,[(f(!0),V(ne,null,de(e(t),o=>(f(),V("article",{key:o.id,class:"group px-4 py-4 transition-colors hover:bg-muted/30 sm:px-5"},[D("div",Mo,[D("h3",Fo,[_(n,{to:`/topic/${o.id}`,target:"_blank",class:"transition-colors group-hover:text-primary [&_em]:not-italic [&_em]:bg-yellow-200/80 [&_em]:px-0.5",innerHTML:o.title},null,8,["to","innerHTML"])]),_(n,{to:`/topic/${o.id}`,target:"_blank",class:"mt-2 block text-sm leading-6 text-muted-foreground transition-colors hover:text-foreground [&_em]:not-italic [&_em]:bg-yellow-200/70 [&_em]:px-0.5 [display:-webkit-box] [-webkit-box-orient:vertical] [-webkit-line-clamp:2] overflow-hidden",innerHTML:o.summary},null,8,["to","innerHTML"]),D("div",No,[o.user?(f(),C(c,{key:0,user:o.user,size:20,class:"[&_a]:opacity-70 hover:[&_a]:opacity-100"},null,8,["user"])):H("",!0),o.user?(f(),C(n,{key:1,to:`/user/${o.user.id}`,target:"_blank",class:"text-muted-foreground hover:text-foreground"},{default:p(()=>[z(W(o.user.nickname),1)]),_:2},1032,["to"])):H("",!0),D("span",null,W(("useFormatDate"in u?u.useFormatDate:e(St))(o.createTime)),1),o.node?(f(),C(n,{key:2,to:`/topics/node/${o.node.id}`,target:"_blank",class:"rounded-full border border-border px-2 py-0.5 text-[11px] text-muted-foreground transition-colors hover:bg-accent hover:text-foreground"},{default:p(()=>[z(W(o.node.name),1)]),_:2},1032,["to"])):H("",!0)])])]))),128))])}}},Ho={class:"main"},zo={class:"container main-container left-main side-size-320"},Ko={class:"left-container"},Wo={class:"flex flex-wrap items-center gap-2"},Uo={class:"flex h-10 min-w-[220px] flex-1 items-center rounded-lg bg-muted/50 px-3"},jo={class:"rounded-lg p-2 bg-background/95"},Yo={class:"right-container space-y-4"},ka={__name:"index",setup(r){const a=De(),t=Ve(),u=B(null),l=B(a.query.q||""),n=wt({keyword:a.query.q||"",nodeId:a.query.nodeId||0,timeRange:a.query.timeRange});G(()=>a.query,o=>{n.keyword=o.q||"",n.nodeId=o.nodeId||0,n.timeRange=o.timeRange,l.value=o.q||"",Z(()=>{u.value&&u.value.refresh()})},{immediate:!0});const c=async()=>{const o=l.value.trim(),s={...a.query};o?s.q=o:delete s.q,await t.push({path:"/search",query:s})};return(o,s)=>{const d=Ze,m=et,g=Do,S=Lo,h=Dt,v=Vt,$=Mt,T=Ft,q=Nt;return f(),V("section",Ho,[D("div",zo,[D("div",Ko,[D("form",{class:"mb-4 rounded-lg bg-background/95 p-2",onSubmit:ee(c,["prevent"])},[D("div",Wo,[D("div",Uo,[_(e(Rt),{class:"mr-2 h-4 w-4 text-muted-foreground"}),_(d,{modelValue:e(l),"onUpdate:modelValue":s[0]||(s[0]=P=>xt(l)?l.value=P:null),type:"text",maxlength:"30",placeholder:o.$t("component.searchInput.placeholder"),class:"h-auto border-none bg-transparent px-0 text-base shadow-none focus-visible:ring-0 focus-visible:ring-offset-0",autocomplete:"off"},null,8,["modelValue","placeholder"])]),_(m,{type:"submit",class:"h-10 min-w-24 rounded-lg px-6"},{default:p(()=>[z(W(o.$t("component.searchInput.searchBtn")),1)]),_:1}),_(g)])],32),D("div",jo,[_(h,{ref_key:"loadMore",ref:u,url:"/api/search/topic",params:e(n)},{default:p(({results:P})=>[_(S,{results:P},null,8,["results"])]),_:1},8,["params"])])]),D("div",Yo,[_(v),_($),_(T),_(q)])])])}}};export{ka as default};
