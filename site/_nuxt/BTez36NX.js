import{_ as x}from"./DPyTMBL8.js";import{_ as C}from"./DbgJ7M0v.js";import{ai as L,_ as R,g as S,p as v,q as B,o as n,c as r,d as h,w as N,b as a,F as w,r as U,e as d,s as V,v as b,M as F,t as q,K as D,T as M,n as T}from"./B1RaE-U5.js";const z=""+new URL("new.Y_LlNQf_.png",import.meta.url).href,A=""+new URL("recommend.Cp2cCtfs.png",import.meta.url).href,E=""+new URL("feed.D9ZnIGq5.png",import.meta.url).href,Z=""+new URL("node.BZcvNJx5.png",import.meta.url).href,$=L("env",{state:()=>({currentNodeId:0}),getters:{},actions:{setCurrentNodeId(u){this.currentNodeId=u}}}),G={class:"dock-nav"},J={key:0,class:"nodes-divider","aria-hidden":"true"},K=["data-node-id"],Q={class:"node-name"},Y={__name:"TopicsNav",async setup(u){let o,_;const f=$(),i=T(null),{data:s}=([o,_]=S(()=>D("/api/topic/node_navs")),o=await o,_(),o),m=e=>!!e&&e.id<=0,g=e=>{if(!s.value||e<=0)return!1;const p=s.value[e-1],l=s.value[e];return m(p)&&!m(l)},y=e=>e.logo?e.logo:e.id===0?z:e.id===-1?A:e.id===-2?E:Z,k=e=>{if(e.id>0)return`/topics/node/${e.id}`;if(e.id===0)return"/topics/node/newest";if(e.id===-1)return"/topics/node/recommend";if(e.id===-2)return"/topics/node/feed"},c=async()=>{if(await M(),!i.value)return;const e=i.value.querySelector("li.active");e&&e.scrollIntoView({block:"nearest"})};return v(()=>s.value?.length,()=>{c()}),v(()=>f.currentNodeId,()=>{c()}),B(()=>{c()}),(e,p)=>{const l=x;return n(),r("nav",G,[h(d(C),{class:"topics-scroll-area",as:"div","as-child":!1},{default:N(()=>[a("ul",{ref_key:"listRef",ref:i},[(n(!0),r(w,null,U(d(s),(t,I)=>(n(),r(w,{key:t.id},[g(I)?(n(),r("li",J)):V("",!0),a("li",{class:b({active:d(f).currentNodeId===t.id}),"data-node-id":t.id},[h(l,{to:k(t)},{default:N(()=>[a("i",{class:"node-logo",style:F("background-image: url("+y(t)+")")},null,4),a("div",Q,q(t.name),1)]),_:2},1032,["to"])],10,K)],64))),128))],512)]),_:1})])}}},P=R(Y,[["__scopeId","data-v-ab3428a7"]]);export{P as _,$ as u};
