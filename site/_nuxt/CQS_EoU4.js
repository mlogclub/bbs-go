import{_ as g}from"./BDHYKrLM.js";import{_ as y}from"./qdLMPJJp.js";import{_ as k}from"./BiZjaJT5.js";import{_ as v}from"./Dfyc52rC.js";import{m as w,u as C,a as V,o as t,h as q,w as d,d as a,c as o,F as z,r as B,b as n,f as c,t as r,e as i,I as D,s as l}from"./BqKV1jHe.js";import{u as M}from"./DjqtQ0rA.js";import{C as I}from"./8kSMhTPi.js";import{B as N}from"./H_-WXbio.js";import"./C7TzAs_Y.js";import"./BMShvsNX.js";import"./DyiL-6dj.js";import"./CDN07tui.js";import"./DM7nVvhd.js";import"./Bvrs3omH.js";import"./Lz5MK4XN.js";import"./B_DlFklR.js";import"./BMdI75oG.js";const S=w("message-square-quote",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 12a2 2 0 0 0 2-2V8H8",key:"1jfesj"}],["path",{d:"M14 12a2 2 0 0 0 2-2V8h-2",key:"1dq9mh"}]]),U={class:"flex items-center gap-2"},H={key:0,class:"flex w-full list-none flex-col gap-3"},L={class:"flex min-w-0 flex-wrap items-center gap-x-2 gap-y-1"},P={key:0,class:"text-sm font-semibold text-primary"},T={key:1,class:"text-sm font-semibold text-primary"},W={class:"whitespace-nowrap text-xs text-muted-foreground"},$={key:2,class:"max-w-full break-all rounded-full border border-border bg-muted px-2 py-0.5 text-[11px] font-medium leading-4 text-muted-foreground"},j={class:"mt-2 space-y-2"},F={key:0,class:"break-words whitespace-pre-line text-sm leading-6 text-foreground"},A={key:1,class:"relative rounded-md border border-border/70 bg-muted/40 px-3 py-2 pr-8"},E={class:"break-words text-xs leading-5 text-muted-foreground"},Q={key:2},R=["href"],G={key:1,class:"rounded-xl border border-dashed border-border bg-muted px-4 py-9 text-center text-sm text-muted-foreground"},ce={__name:"messages",setup(J){const{t:p}=C();V({title:M(p("user.messages.title"))});const _=s=>s?.endsWith("/user/messages")||s?.endsWith("/user/messages/");return(s,m)=>{const f=g,x=y,h=k,b=v;return t(),q(b,null,{title:d(()=>[n("div",U,[a(i(N),{size:18}),n("span",null,r(s.$t("user.messages.title")),1)])]),default:d(()=>[a(h,{url:"/api/user/messages"},{default:d(({results:u})=>[u&&u.length?(t(),o("ul",H,[(t(!0),o(z,null,B(u,e=>(t(),o("li",{key:e.messageId,class:"w-full box-border rounded-lg border border-border bg-background p-3 sm:p-3.5"},[n("div",L,[a(f,{user:e.from,size:36},null,8,["user"]),e.from.id?(t(),o("span",P,[a(x,{to:"/user/"+e.from.id,target:"_blank",class:"hover:underline underline-offset-2"},{default:d(()=>[c(r(e.from.nickname),1)]),_:2},1032,["to"])])):(t(),o("span",T,r(e.from.nickname),1)),m[0]||(m[0]=n("span",{class:"text-xs leading-none text-muted-foreground"},"Â·",-1)),n("span",W,r(("usePrettyDate"in s?s.usePrettyDate:i(D))(e.createTime)),1),e.title?(t(),o("span",$,r(e.title),1)):l("",!0)]),n("div",j,[e.content?(t(),o("div",F,r(e.content),1)):l("",!0),e.quoteContent?(t(),o("div",A,[a(i(S),{size:12,class:"absolute right-2 top-2 text-muted-foreground/70"}),n("div",E,r(e.quoteContent),1)])):l("",!0),e.detailUrl&&!_(e.detailUrl)?(t(),o("div",Q,[n("a",{href:e.detailUrl,target:"_blank",class:"inline-flex items-center gap-0.5 text-xs font-medium text-muted-foreground transition-colors hover:text-primary"},[c(r(s.$t("user.messages.viewDetails"))+" ",1),a(i(I),{size:12})],8,R)])):l("",!0)])]))),128))])):(t(),o("div",G,r(s.$t("common.noData")),1))]),_:1})]),_:1})}}};export{ce as default};
