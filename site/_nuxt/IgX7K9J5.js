import{_ as Pe}from"./5InM8hYO.js";import{_ as Ie}from"./BWHUeAHN.js";import{_ as Ae}from"./D6APqVBK.js";import{_ as Ee}from"./AkHlHB4i.js";import{a as Me,_ as ze}from"./yNVI9v3X.js";import{m as H,X as K,a5 as ve,o as m,h as g,w as r,a6 as J,e,s as S,a7 as Q,S as ge,D as j,d as l,$ as Ue,a4 as De,n as q,b as s,_ as Fe,u as je,p as Z,g as Ge,af as Le,c as I,t as o,F as ee,r as de,v as U,ae as Ne,f as p,J as Te,x as He,a0 as Ke,K as Oe,z as ue}from"./Ck7AnVGd.js";import{_ as We}from"./ChviGFow.js";import{a as be}from"./DBLrLi5j.js";import{c as he}from"./CQscZoJ2.js";import{u as Je}from"./QWf4sm8l.js";import{u as ye}from"./D349dkPz.js";import{u as _e,b as se,e as pe,r as we}from"./Bu1jJY3G.js";import{P as oe}from"./BNCqmzak.js";import{R as Qe}from"./BP3Ij_Ab.js";import{V as ke}from"./B4HuUGiP.js";import{c as xe}from"./CDN07tui.js";import{R as Xe}from"./Cm3kVkk9.js";import{h as Ye}from"./CcFcSr0Z.js";import{P as Ze}from"./CTBG9hF4.js";import{s as es}from"./ChU0qIJR.js";import{L as ae}from"./GUYZfzNJ.js";import{C as te}from"./0crEKJaj.js";import{C as le}from"./Cnv1WGAR.js";import{S as ss}from"./GcC8ejFI.js";import"./B_DlFklR.js";import"./Q2d2X_pu.js";import"./JWKf8_z1.js";import"./FUKBWQwh.js";import"./CSbzbSNw.js";const W=H("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const ce=H("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const as=H("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const ts=H("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);const ls=H("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const os=H("shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]),is="radio.select";function rs(V,y,c){Ye(is,c,{originalEvent:V,value:y})}var ns=K({__name:"Radio",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},checked:{type:Boolean,required:!1,default:void 0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:checked","select"],setup(V,{emit:y}){const c=V,n=y,x=_e(c,"checked",n,{passive:c.checked===void 0}),{value:C}=ve(c),{forwardRef:h,currentElement:f}=se(),_=ye(f),i=j(()=>c.id&&f.value?document.querySelector(`[for="${c.id}"]`)?.innerText??c.value:void 0);function w(u){c.disabled||rs(u,c.value,$=>{n("select",$),!$?.defaultPrevented&&(x.value=!0,_.value&&$.stopPropagation())})}return(u,$)=>(m(),g(e(oe),Q(u.$attrs,{id:u.id,ref:e(h),role:"radio",type:u.as==="button"?"button":void 0,as:u.as,"aria-checked":e(x),"aria-label":i.value,"as-child":u.asChild,disabled:u.disabled?"":void 0,"data-state":e(x)?"checked":"unchecked","data-disabled":u.disabled?"":void 0,value:e(C),required:u.required,name:u.name,onClick:ge(w,["stop"])}),{default:r(()=>[J(u.$slots,"default",{checked:e(x)}),e(_)&&u.name?(m(),g(e(ke),{key:0,type:"radio",tabindex:"-1",value:e(C),checked:!!e(x),name:u.name,disabled:u.disabled,required:u.required},null,8,["value","checked","name","disabled","required"])):S("v-if",!0)]),_:3},16,["id","type","as","aria-checked","aria-label","as-child","disabled","data-state","data-disabled","value","required","name"]))}}),ds=ns;const[us,ps]=he("RadioGroupRoot");var cs=K({__name:"RadioGroupRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(V,{emit:y}){const c=V,n=y,{forwardRef:x,currentElement:C}=se(),h=_e(c,"modelValue",n,{defaultValue:c.defaultValue,passive:c.modelValue===void 0}),{disabled:f,loop:_,orientation:i,name:w,required:u,dir:$}=ve(c),R=Je($),P=ye(C);return ps({modelValue:h,changeModelValue:k=>{h.value=k},disabled:f,loop:_,orientation:i,name:w?.value,required:u}),(k,D)=>(m(),g(e(Qe),{"as-child":"",orientation:e(i),dir:e(R),loop:e(_)},{default:r(()=>[l(e(oe),{ref:e(x),role:"radiogroup","data-disabled":e(f)?"":void 0,"as-child":k.asChild,as:k.as,"aria-orientation":e(i),"aria-required":e(u),dir:e(R)},{default:r(()=>[J(k.$slots,"default",{modelValue:e(h)}),e(P)&&e(w)?(m(),g(e(ke),{key:0,required:e(u),disabled:e(f),value:e(h),name:e(w)},null,8,["required","disabled","value","name"])):S("v-if",!0)]),_:3},8,["data-disabled","as-child","as","aria-orientation","aria-required","dir"])]),_:3},8,["orientation","dir","loop"]))}}),ms=cs;const[fs,vs]=he("RadioGroupItem");var gs=K({inheritAttrs:!1,__name:"RadioGroupItem",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["select"],setup(V,{emit:y}){const c=V,n=y,{forwardRef:x,currentElement:C}=se(),h=us(),f=j(()=>h.disabled.value||c.disabled),_=j(()=>h.required.value||c.required),i=j(()=>De(h.modelValue?.value,c.value));vs({disabled:f,checked:i});const w=q(!1),u=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];pe("keydown",R=>{u.includes(R.key)&&(w.value=!0)}),pe("keyup",()=>{w.value=!1});function $(){setTimeout(()=>{w.value&&C.value?.click()},0)}return(R,P)=>(m(),g(e(Xe),{checked:i.value,disabled:f.value,"as-child":"",focusable:!f.value,active:i.value},{default:r(()=>[l(ds,Q({...R.$attrs,...c},{ref:e(x),checked:i.value,required:_.value,disabled:f.value,"onUpdate:checked":P[0]||(P[0]=k=>e(h).changeModelValue(R.value)),onSelect:P[1]||(P[1]=k=>n("select",k)),onKeydown:P[2]||(P[2]=Ue(ge(()=>{},["prevent"]),["enter"])),onFocus:$}),{default:r(()=>[J(R.$slots,"default",{checked:i.value,required:_.value,disabled:f.value})]),_:3},16,["checked","required","disabled"])]),_:3},8,["checked","disabled","focusable","active"]))}}),bs=gs,hs=K({__name:"RadioGroupIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(V){const{forwardRef:y}=se(),c=fs();return(n,x)=>(m(),g(e(Ze),{present:n.forceMount||e(c).checked.value},{default:r(()=>[l(e(oe),Q({ref:e(y),"data-state":e(c).checked.value?"checked":"unchecked","data-disabled":e(c).disabled.value?"":void 0,"as-child":n.asChild,as:n.as},n.$attrs),{default:r(()=>[J(n.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),ys=hs;const _s=K({__name:"RadioGroup",props:{modelValue:{},defaultValue:{},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(V,{emit:y}){const c=V,n=y,x=we(c,"class"),C=be(x,n);return(h,f)=>(m(),g(e(ms),Q({"data-slot":"radio-group"},e(C),{class:e(xe)("grid gap-2",c.class)}),{default:r(()=>[J(h.$slots,"default")]),_:3},16,["class"]))}}),me=K({__name:"RadioGroupItem",props:{id:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["select"],setup(V,{emit:y}){const c=V,n=y,x=we(c,"class"),C=be(x,n);return(h,f)=>(m(),g(e(bs),Q({"data-slot":"radio-group-item"},e(C),{class:e(xe)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",c.class)}),{default:r(()=>[l(e(ys),{class:"flex items-center justify-center"},{default:r(()=>[...f[0]||(f[0]=[s("span",{class:"h-2.5 w-2.5 rounded-full bg-primary"},null,-1)])]),_:1})]),_:1},16,["class"]))}}),ws={class:"min-h-screen flex justify-center items-start p-4 pt-10 bg-slate-50 page-glow"},ks={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm"},xs={class:"flex items-center space-x-3 text-white text-sm font-medium"},$s={class:"w-full max-w-5xl"},qs={class:"text-center mb-5"},Cs={class:"text-3xl font-bold text-gray-900 mb-2"},Vs={class:"flex justify-center mb-6"},Rs={class:"flex items-start"},Ss={class:"flex flex-col items-center text-center w-20"},Bs={key:1},Ps={class:"mt-2 text-xs font-medium text-gray-600 leading-tight"},Is={class:"space-y-3"},As={class:"text-center"},Es={class:"text-2xl font-semibold text-gray-900 mb-3"},Ms={class:"text-gray-600 mb-4"},zs={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},Us={class:"font-medium text-blue-900 mb-2.5"},Ds={class:"space-y-2 text-blue-800"},Fs={class:"flex items-center"},js={class:"flex items-center"},Gs={class:"flex items-center"},Ls={class:"bg-gray-50 border border-gray-200 rounded-lg p-4"},Ns={class:"font-medium text-gray-900 mb-2.5"},Ts={class:"text-gray-600 mb-3"},Hs={class:"text-gray-800 font-medium"},Ks={class:"text-gray-800 font-medium"},Os={class:"flex justify-end"},Ws={class:"space-y-3"},Js={class:"text-center"},Qs={class:"text-2xl font-semibold text-gray-900 mb-3"},Xs={class:"text-gray-600"},Ys={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Zs={class:"space-y-2 md:col-span-2"},ea={class:"flex items-center space-x-3"},sa={class:"space-y-2"},aa={class:"text-xs text-gray-500"},ta={class:"space-y-2"},la={class:"space-y-2"},oa={class:"space-y-2"},ia={class:"space-y-2 md:col-span-2"},ra={key:1,class:"space-y-3 md:col-span-2"},na={class:"text-sm text-gray-600"},da={class:"min-h-[48px] space-y-2"},ua={class:"flex justify-between"},pa={class:"flex space-x-3"},ca={class:"space-y-3"},ma={class:"text-center"},fa={class:"text-2xl font-semibold text-gray-900 mb-3"},va={class:"text-gray-600"},ga={class:"space-y-3"},ba={class:"space-y-2"},ha={class:"space-y-2"},ya=["placeholder"],_a={class:"min-h-[48px]"},wa={class:"flex justify-between"},ka={class:"space-y-3"},xa={class:"text-center"},$a={class:"text-2xl font-semibold text-gray-900 mb-3"},qa={class:"text-gray-600"},Ca={class:"space-y-3"},Va={class:"space-y-2"},Ra={class:"space-y-2"},Sa={class:"space-y-2"},Ba={class:"space-y-2"},Pa={class:"flex items-center justify-between"},Ia={class:"flex items-center gap-3"},Aa={class:"h-16 w-16 rounded-full overflow-hidden border-2 border-primary/60 shadow-sm"},Ea=["src"],Ma={class:"text-sm text-gray-600"},za={class:"grid grid-cols-8 sm:grid-cols-10 gap-2 max-h-56 overflow-y-auto p-3 border rounded-xl bg-gray-50"},Ua=["onClick"],Da=["src","alt"],Fa={class:"min-h-[48px]"},ja={class:"flex justify-between"},Ga={class:"space-y-3"},La={class:"text-center"},Na={class:"text-2xl font-semibold text-gray-900 mb-3"},Ta={class:"text-gray-600"},Ha={class:"space-y-3"},Ka={class:"text-center"},Oa={class:"text-sm font-medium text-gray-700"},Wa={class:"space-y-3 text-center"},Ja={class:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center"},Qa={class:"text-2xl font-semibold text-gray-900 mb-4"},Xa={class:"text-gray-600 mb-6"},Ya={class:"text-gray-600"},Za={class:"flex justify-center space-x-4"},et={href:"/"},st={href:"/admin"},fe=128,at="/res/images/avatars",tt={__name:"index",async setup(V){let y,c;const{t:n,setLocale:x}=je(),C=[{key:"welcome",title:n("pages.install.step.welcome")},{key:"database",title:n("pages.install.step.database")},{key:"site",title:n("pages.install.step.site")},{key:"admin",title:n("pages.install.step.admin")},{key:"install",title:n("pages.install.step.install")},{key:"complete",title:n("pages.install.step.complete")}],h=j(()=>C.findIndex(a=>a.key===f.value)),f=q("welcome"),_=q("en-US");Z(_,async a=>{await x(a)});const i=q({type:"mysql",host:"localhost",port:"3306",database:"",username:"",password:""}),w=q(""),u=q(!1),$=q(""),R=j(()=>i.value.type==="sqlite"?!0:i.value.host&&i.value.port&&i.value.database&&i.value.username),P=()=>R.value?!0:(w.value=n("pages.install.database.validationError"),$.value="",!1);Z([()=>i.value.type,()=>i.value.host,()=>i.value.port,()=>i.value.database,()=>i.value.username],()=>{R.value&&(w.value="")});const k=q({title:"",description:""}),D=q(""),ie=()=>k.value.title?(D.value="",!0):(D.value=n("pages.install.site.validationError"),!1);Z(()=>k.value.title,a=>{a&&(D.value="")});const v=q({username:"",password:"",passwordConfirm:""}),re=Array.from({length:fe},(a,t)=>`${at}/${t}.png`),ne=()=>re[Math.floor(Math.random()*fe)],O=q(ne()),$e=a=>{O.value=a},qe=()=>{O.value=ne()},E=q(""),X=()=>v.value.username?v.value.password?v.value.passwordConfirm?v.value.password!==v.value.passwordConfirm?(E.value=n("pages.install.admin.passwordMismatchError"),!1):(E.value="",!0):(E.value=n("pages.install.admin.confirmPasswordError"),!1):(E.value=n("pages.install.admin.passwordError"),!1):(E.value=n("pages.install.admin.usernameError"),!1);Z([()=>v.value.username,()=>v.value.password,()=>v.value.passwordConfirm],()=>{v.value.username&&v.value.password&&v.value.passwordConfirm&&v.value.password===v.value.passwordConfirm&&(E.value="")});const M=q(0),z=q({message:n("pages.install.install.preparing"),type:"is-info"}),Y=q(!1),Ce=j(()=>u.value||Y.value),{data:Ve}=([y,c]=Ge(()=>Oe("/api/install/status")),y=await y,c(),y);Ve.value.installed&&Le().push("/");const G=async a=>{if(a==="site"&&f.value==="database"){if(!P())return;w.value="",$.value="",u.value=!0;try{await ue("/api/install/test_db_connection",{type:i.value.type,host:i.value.host,port:i.value.port,database:i.value.database,username:i.value.username,password:i.value.password,path:i.value.path,inMemory:i.value.inMemory}),$.value=n("pages.install.database.connectSuccess"),u.value=!1,f.value=a}catch(t){w.value=t.message?n("pages.install.database.connectFailed")+": "+t.message:n("pages.install.database.connectFailed"),u.value=!1;return}return}if(a==="admin"&&f.value==="site"){if(!ie())return;D.value=""}f.value=a},Re=async()=>{if(P()){w.value="",$.value="",u.value=!0;try{await ue("/api/install/test_db_connection",{type:i.value.type,host:i.value.host,port:i.value.port,database:i.value.database,username:i.value.username,password:i.value.password}),$.value=n("pages.install.database.connectSuccess")}catch(a){w.value=a.message?n("pages.install.database.connectFailed")+": "+a.message:n("pages.install.database.connectFailed")}finally{u.value=!1}}},Se=()=>{if(!X())return;Y.value=!0,f.value="install";const a={siteTitle:k.value.title,siteDescription:k.value.description,dbConfig:{type:i.value.type,host:i.value.host,port:i.value.port,database:i.value.database,username:i.value.username,password:i.value.password},username:v.value.username,password:v.value.password,avatar:O.value,language:_.value};M.value=10,z.value={message:n("pages.install.install.connecting"),type:"is-info"};const t=es(()=>{M.value<90&&(M.value+=5)},500);fetch("/api/install/install",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(b=>b.json()).then(b=>{clearInterval(t),b.success?(M.value=100,z.value={message:n("pages.install.install.completed"),type:"is-info"},setTimeout(()=>{f.value="complete"},1e3)):(M.value=100,z.value={message:n("pages.install.install.failed")+": "+(b.message||n("pages.install.install.unknown")),type:"is-danger"}),Y.value=!1}).catch(b=>{clearInterval(t),M.value=100,z.value={message:n("pages.install.install.requestFailed")+": "+b,type:"is-danger"},Y.value=!1})};return(a,t)=>{const b=Pe,L=Ie,B=Ae,A=Ee,N=ze,T=Me,Be=We;return m(),I("div",ws,[e(Ce)?(m(),I("div",ks,[s("div",xs,[l(e(ae),{class:"w-5 h-5 animate-spin"}),s("span",null,o(e(u)?a.$t("pages.install.database.testing"):a.$t("pages.install.install.installing")),1)])])):S("",!0),s("div",$s,[s("div",qs,[s("h1",Cs,o(a.$t("pages.install.title")),1),t[21]||(t[21]=s("div",{class:"w-32 h-1.5 bg-primary mx-auto rounded-full"},null,-1))]),s("div",Vs,[s("div",Rs,[(m(),I(ee,null,de(C,(d,F)=>(m(),I(ee,{key:d.key},[s("div",Ss,[s("div",{class:U(["w-10 h-10 rounded-full flex items-center justify-center text-base font-semibold transition-all duration-300 ease-in-out",{"bg-primary text-primary-foreground scale-110 shadow-lg ring-4 ring-primary/20 pulse-glow":e(f)===d.key,"bg-green-500 text-white":F<e(h),"bg-gray-200 text-gray-600":F>e(h)}])},[F<e(h)?(m(),g(e(Ne),{key:0,class:"w-6 h-6"})):(m(),I("span",Bs,o(F+1),1))],2),s("div",Ps,o(d.title),1)]),F<C.length-1?(m(),I("div",{key:0,class:U(["w-12 h-1 mt-4 mx-2 rounded-full transition-all duration-300 ease-in-out",F<e(h)?"bg-green-500":"bg-gray-200"])},null,2)):S("",!0)],64))),64))])]),e(f)==="welcome"?(m(),g(L,{key:0,class:"p-4 md:p-5 bg-white/80 backdrop-blur-md shadow-lg rounded-2xl border card-animate"},{default:r(()=>[s("div",Is,[s("div",As,[s("h2",Es,o(a.$t("pages.install.step.welcome")),1),s("p",Ms,o(a.$t("pages.install.welcome.description")),1)]),s("div",zs,[s("h3",Us,o(a.$t("pages.install.welcome.requirements.title")),1),s("ul",Ds,[s("li",Fs,[t[22]||(t[22]=s("div",{class:"w-2 h-2 bg-blue-500 rounded-full mr-3"},null,-1)),p(" "+o(a.$t("pages.install.welcome.requirements.mysql")),1)]),s("li",js,[t[23]||(t[23]=s("div",{class:"w-2 h-2 bg-blue-500 rounded-full mr-3"},null,-1)),p(" "+o(a.$t("pages.install.welcome.requirements.site")),1)]),s("li",Gs,[t[24]||(t[24]=s("div",{class:"w-2 h-2 bg-blue-500 rounded-full mr-3"},null,-1)),p(" "+o(a.$t("pages.install.welcome.requirements.admin")),1)])])]),s("div",Ls,[s("h3",Ns,o(a.$t("pages.install.language.title")),1),s("p",Ts,o(a.$t("pages.install.language.description")),1),l(e(_s),{modelValue:e(_),"onUpdate:modelValue":t[2]||(t[2]=d=>Te(_)?_.value=d:null),class:"space-y-2","aria-label":"install language"},{default:r(()=>[s("div",{class:U(["flex items-center space-x-4 cursor-pointer p-3 rounded-lg border transition-colors hover:bg-gray-100/50",{"bg-primary/10 border-primary/50":e(_)==="en-US"}]),onClick:t[0]||(t[0]=d=>_.value="en-US")},[l(e(me),{value:"en-US","aria-label":"English"}),s("span",Hs,o(a.$t("pages.install.language.english")),1)],2),s("div",{class:U(["flex items-center space-x-4 cursor-pointer p-3 rounded-lg border transition-colors hover:bg-gray-100/50",{"bg-primary/10 border-primary/50":e(_)==="zh-CN"}]),onClick:t[1]||(t[1]=d=>_.value="zh-CN")},[l(e(me),{value:"zh-CN","aria-label":"中文"}),s("span",Ks,o(a.$t("pages.install.language.chinese")),1)],2)]),_:1},8,["modelValue"])]),s("div",Os,[l(b,{size:"lg",onClick:t[3]||(t[3]=d=>G("database"))},{default:r(()=>[p(o(a.$t("pages.install.buttons.next"))+" ",1),l(e(te),{class:"w-4 h-4"})]),_:1})])])]),_:1})):S("",!0),e(f)==="database"?(m(),g(L,{key:1,class:"p-4 md:p-5 bg-white/80 backdrop-blur-md shadow-lg rounded-2xl border card-animate"},{default:r(()=>[s("div",Ws,[s("div",Js,[s("h2",Qs,o(a.$t("pages.install.step.database")),1),s("p",Xs,o(a.$t("pages.install.database.description")),1)]),s("div",Ys,[s("div",Zs,[l(B,{class:"text-sm font-medium"},{default:r(()=>[p(o(a.$t("pages.install.database.type"))+" ",1),t[25]||(t[25]=s("span",{class:"text-red-500"},"*",-1))]),_:1}),s("div",ea,[l(b,{size:"sm",variant:"outline",class:U(e(i).type==="mysql"?"bg-primary text-white":""),onClick:t[4]||(t[4]=d=>e(i).type="mysql")},{default:r(()=>[...t[26]||(t[26]=[p(" MySQL ",-1)])]),_:1},8,["class"]),l(b,{size:"sm",variant:"outline",class:U(e(i).type==="sqlite"?"bg-primary text-white":""),onClick:t[5]||(t[5]=d=>e(i).type="sqlite")},{default:r(()=>[...t[27]||(t[27]=[p(" SQLite ",-1)])]),_:1},8,["class"])])]),e(i).type==="mysql"?(m(),I(ee,{key:0},[s("div",sa,[l(B,{for:"db-host",class:"text-sm font-medium"},{default:r(()=>[p(o(a.$t("pages.install.database.host"))+" ",1),t[28]||(t[28]=s("span",{class:"text-red-500"},"*",-1))]),_:1}),l(A,{id:"db-host",modelValue:e(i).host,"onUpdate:modelValue":t[6]||(t[6]=d=>e(i).host=d),placeholder:a.$t("pages.install.database.hostPlaceholder"),required:""},null,8,["modelValue","placeholder"]),s("p",aa,o(a.$t("pages.install.database.hostHelp")),1)]),s("div",ta,[l(B,{for:"db-port",class:"text-sm font-medium"},{default:r(()=>[p(o(a.$t("pages.install.database.port"))+" ",1),t[29]||(t[29]=s("span",{class:"text-red-500"},"*",-1))]),_:1}),l(A,{id:"db-port",modelValue:e(i).port,"onUpdate:modelValue":t[7]||(t[7]=d=>e(i).port=d),placeholder:a.$t("pages.install.database.portPlaceholder"),required:""},null,8,["modelValue","placeholder"])]),s("div",la,[l(B,{for:"db-name",class:"text-sm font-medium"},{default:r(()=>[p(o(a.$t("pages.install.database.name"))+" ",1),t[30]||(t[30]=s("span",{class:"text-red-500"},"*",-1))]),_:1}),l(A,{id:"db-name",modelValue:e(i).database,"onUpdate:modelValue":t[8]||(t[8]=d=>e(i).database=d),placeholder:a.$t("pages.install.database.namePlaceholder"),required:""},null,8,["modelValue","placeholder"])]),s("div",oa,[l(B,{for:"db-user",class:"text-sm font-medium"},{default:r(()=>[p(o(a.$t("pages.install.database.username"))+" ",1),t[31]||(t[31]=s("span",{class:"text-red-500"},"*",-1))]),_:1}),l(A,{id:"db-user",modelValue:e(i).username,"onUpdate:modelValue":t[9]||(t[9]=d=>e(i).username=d),placeholder:a.$t("pages.install.database.usernamePlaceholder"),required:""},null,8,["modelValue","placeholder"])]),s("div",ia,[l(B,{for:"db-password",class:"text-sm font-medium"},{default:r(()=>[p(o(a.$t("pages.install.database.password")),1)]),_:1}),l(A,{id:"db-password",modelValue:e(i).password,"onUpdate:modelValue":t[10]||(t[10]=d=>e(i).password=d),type:"password",placeholder:a.$t("pages.install.database.passwordPlaceholder")},null,8,["modelValue","placeholder"])])],64)):(m(),I("div",ra,[l(T,{variant:"destructive",class:"border-amber-200 bg-amber-50 text-amber-900"},{default:r(()=>[l(e(W),{class:"h-4 w-4"}),l(N,null,{default:r(()=>[p(o(a.$t("pages.install.database.sqliteWarning")),1)]),_:1})]),_:1}),s("p",na,o(a.$t("pages.install.database.sqliteAutoPath")),1)]))]),s("div",da,[e(w)?(m(),g(T,{key:0,variant:"destructive"},{default:r(()=>[l(e(W),{class:"h-4 w-4"}),l(N,null,{default:r(()=>[p(o(e(w)),1)]),_:1})]),_:1})):e($)?(m(),g(T,{key:1,variant:"default",class:"border-green-200 bg-green-50"},{default:r(()=>[l(e(ce),{class:"h-4 w-4 text-green-600"}),l(N,{class:"text-green-800"},{default:r(()=>[p(o(e($)),1)]),_:1})]),_:1})):S("",!0)]),s("div",ua,[l(b,{variant:"outline",size:"lg",onClick:t[11]||(t[11]=d=>G("welcome"))},{default:r(()=>[l(e(le),{class:"w-4 h-4 mr-2"}),p(" "+o(a.$t("pages.install.buttons.previous")),1)]),_:1}),s("div",pa,[l(b,{variant:"secondary",disabled:e(u)||!e(R),size:"lg",onClick:Re},{default:r(()=>[e(u)?(m(),g(e(ae),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):(m(),g(e(as),{key:1,class:"w-4 h-4 mr-2"})),p(" "+o(e(u)?a.$t("pages.install.database.testing"):a.$t("pages.install.database.testConnection")),1)]),_:1},8,["disabled"]),l(b,{disabled:e(u)||!e(R),size:"lg",onClick:t[12]||(t[12]=d=>G("site"))},{default:r(()=>[p(o(a.$t("pages.install.buttons.next"))+" ",1),l(e(te),{class:"w-4 h-4 ml-2"})]),_:1},8,["disabled"])])])])]),_:1})):S("",!0),e(f)==="site"?(m(),g(L,{key:2,class:"p-4 md:p-5 bg-white/80 backdrop-blur-md shadow-lg rounded-2xl border card-animate"},{default:r(()=>[s("div",ca,[s("div",ma,[s("h2",fa,o(a.$t("pages.install.step.site")),1),s("p",va,o(a.$t("pages.install.site.description")),1)]),s("div",ga,[s("div",ba,[l(B,{for:"site-name",class:"text-sm font-medium"},{default:r(()=>[p(o(a.$t("pages.install.site.title"))+" ",1),t[32]||(t[32]=s("span",{class:"text-red-500"},"*",-1))]),_:1}),l(A,{id:"site-name",modelValue:e(k).title,"onUpdate:modelValue":t[13]||(t[13]=d=>e(k).title=d),placeholder:a.$t("pages.install.site.titlePlaceholder"),required:"",onBlur:ie},null,8,["modelValue","placeholder"])]),s("div",ha,[l(B,{for:"site-desc",class:"text-sm font-medium"},{default:r(()=>[p(o(a.$t("pages.install.site.siteDescription")),1)]),_:1}),He(s("textarea",{id:"site-desc","onUpdate:modelValue":t[14]||(t[14]=d=>e(k).description=d),rows:"3",placeholder:a.$t("pages.install.site.descriptionPlaceholder"),class:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},null,8,ya),[[Ke,e(k).description]])])]),s("div",_a,[e(D)?(m(),g(T,{key:0,variant:"destructive"},{default:r(()=>[l(e(W),{class:"h-4 w-4"}),l(N,null,{default:r(()=>[p(o(e(D)),1)]),_:1})]),_:1})):S("",!0)]),s("div",wa,[l(b,{variant:"outline",size:"lg",onClick:t[15]||(t[15]=d=>G("database"))},{default:r(()=>[l(e(le),{class:"w-4 h-4 mr-2"}),p(" "+o(a.$t("pages.install.buttons.previous")),1)]),_:1}),l(b,{disabled:!e(k).title,size:"lg",onClick:t[16]||(t[16]=d=>G("admin"))},{default:r(()=>[p(o(a.$t("pages.install.buttons.next"))+" ",1),l(e(te),{class:"w-4 h-4 ml-2"})]),_:1},8,["disabled"])])])]),_:1})):S("",!0),e(f)==="admin"?(m(),g(L,{key:3,class:"p-4 md:p-5 bg-white/80 backdrop-blur-md shadow-lg rounded-2xl border card-animate"},{default:r(()=>[s("div",ka,[s("div",xa,[s("h2",$a,o(a.$t("pages.install.step.admin")),1),s("p",qa,o(a.$t("pages.install.admin.description")),1)]),s("div",Ca,[s("div",Va,[l(B,{for:"admin-username",class:"text-sm font-medium"},{default:r(()=>[p(o(a.$t("pages.install.admin.username"))+" ",1),t[33]||(t[33]=s("span",{class:"text-red-500"},"*",-1))]),_:1}),l(A,{id:"admin-username",modelValue:e(v).username,"onUpdate:modelValue":t[17]||(t[17]=d=>e(v).username=d),placeholder:a.$t("pages.install.admin.usernamePlaceholder"),required:"",onBlur:X},null,8,["modelValue","placeholder"])]),s("div",Ra,[l(B,{for:"admin-password",class:"text-sm font-medium"},{default:r(()=>[p(o(a.$t("pages.install.admin.password"))+" ",1),t[34]||(t[34]=s("span",{class:"text-red-500"},"*",-1))]),_:1}),l(A,{id:"admin-password",modelValue:e(v).password,"onUpdate:modelValue":t[18]||(t[18]=d=>e(v).password=d),type:"password",placeholder:a.$t("pages.install.admin.passwordPlaceholder"),required:"",onBlur:X},null,8,["modelValue","placeholder"])]),s("div",Sa,[l(B,{for:"admin-password-confirm",class:"text-sm font-medium"},{default:r(()=>[p(o(a.$t("pages.install.admin.confirmPassword"))+" ",1),t[35]||(t[35]=s("span",{class:"text-red-500"},"*",-1))]),_:1}),l(A,{id:"admin-password-confirm",modelValue:e(v).passwordConfirm,"onUpdate:modelValue":t[19]||(t[19]=d=>e(v).passwordConfirm=d),type:"password",placeholder:a.$t("pages.install.admin.confirmPasswordPlaceholder"),required:"",onBlur:X},null,8,["modelValue","placeholder"])]),s("div",Ba,[s("div",Pa,[l(B,{class:"text-sm font-medium"},{default:r(()=>[p(o(a.$t("pages.install.admin.avatar")),1)]),_:1}),l(b,{size:"sm",variant:"outline",onClick:qe},{default:r(()=>[l(e(os),{class:"w-4 h-4 mr-1"}),p(" "+o(a.$t("pages.install.admin.randomAvatar")),1)]),_:1})]),s("div",Ia,[s("div",Aa,[s("img",{src:e(O),alt:"selected avatar",class:"h-full w-full object-cover"},null,8,Ea)]),s("p",Ma,o(a.$t("pages.install.admin.avatarDescription")),1)]),s("div",za,[(m(!0),I(ee,null,de(e(re),d=>(m(),I("button",{key:d,type:"button",class:U(["relative h-12 w-12 aspect-square rounded-full overflow-hidden ring-2 transition hover:ring-primary/60 focus:outline-none flex items-center justify-center",[e(O)===d?"ring-2 ring-primary shadow-md bg-primary/15":"ring-gray-200 bg-white"]]),onClick:F=>$e(d)},[s("img",{src:d,alt:d,class:"h-full w-full object-cover"},null,8,Da)],10,Ua))),128))])])]),s("div",Fa,[e(E)?(m(),g(T,{key:0,variant:"destructive"},{default:r(()=>[l(e(W),{class:"h-4 w-4"}),l(N,null,{default:r(()=>[p(o(e(E)),1)]),_:1})]),_:1})):S("",!0)]),s("div",ja,[l(b,{variant:"outline",size:"lg",onClick:t[20]||(t[20]=d=>G("site"))},{default:r(()=>[l(e(le),{class:"w-4 h-4 mr-2"}),p(" "+o(a.$t("pages.install.buttons.previous")),1)]),_:1}),l(b,{disabled:!e(v).username||!e(v).password||!e(v).passwordConfirm||e(v).password!==e(v).passwordConfirm,size:"lg",onClick:Se},{default:r(()=>[l(e(ts),{class:"w-4 h-4 mr-2"}),p(" "+o(a.$t("pages.install.buttons.install")),1)]),_:1},8,["disabled"])])])]),_:1})):S("",!0),e(f)==="install"?(m(),g(L,{key:4,class:"p-4 md:p-5 bg-white/80 backdrop-blur-md shadow-lg rounded-2xl border card-animate"},{default:r(()=>[s("div",Ga,[s("div",La,[s("h2",Na,o(a.$t("pages.install.step.install")),1),s("p",Ta,o(a.$t("pages.install.install.description")),1)]),s("div",Ha,[l(Be,{"model-value":e(M),class:"w-full"},null,8,["model-value"]),s("div",Ka,[s("span",Oa,o(e(M))+"% ",1)])]),l(T,{variant:e(z).type==="is-danger"?"destructive":"default",class:"border-blue-200 bg-blue-50"},{default:r(()=>[e(z).type==="is-info"?(m(),g(e(ae),{key:0,class:"h-4 w-4 animate-spin"})):(m(),g(e(W),{key:1,class:"h-4 w-4"})),l(N,{class:U(e(z).type==="is-danger"?"text-red-800":"text-blue-800")},{default:r(()=>[p(o(e(z).message),1)]),_:1},8,["class"])]),_:1},8,["variant"])])]),_:1})):S("",!0),e(f)==="complete"?(m(),g(L,{key:5,class:"p-4 md:p-5 bg-white/80 backdrop-blur-md shadow-lg rounded-2xl border card-animate"},{default:r(()=>[s("div",Wa,[s("div",Ja,[l(e(ce),{class:"w-8 h-8 text-green-600"})]),s("div",null,[s("h2",Qa,o(a.$t("pages.install.step.complete")),1),s("p",Xa,o(a.$t("pages.install.complete.congratulations")),1),s("p",Ya,o(a.$t("pages.install.complete.description")),1)]),s("div",Za,[l(b,{variant:"outline",size:"lg","as-child":""},{default:r(()=>[s("a",et,[l(e(ls),{class:"w-4 h-4 mr-2"}),p(" "+o(a.$t("pages.install.complete.enterSite")),1)])]),_:1}),l(b,{size:"lg","as-child":""},{default:r(()=>[s("a",st,[l(e(ss),{class:"w-4 h-4 mr-2"}),p(" "+o(a.$t("pages.install.complete.enterAdmin")),1)])]),_:1})])])]),_:1})):S("",!0)])])}}},At=Fe(tt,[["__scopeId","data-v-f7b886b6"]]);export{At as default};
