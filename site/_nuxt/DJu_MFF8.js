import{S as v}from"./DO12yAhD.js";import{a as R}from"./BUQ0YbzQ.js";import{D as m,n as u,ak as h,X as p,O as k,bb as $,W as d,p as b,am as w}from"./B1RaE-U5.js";function E(){const n=u(),c=m(()=>["#text","#comment"].includes(n.value?.$el.nodeName)?n.value?.$el.nextElementSibling:R(n));return{primitiveElement:n,currentElement:c}}const A="data-reka-collection-item";function P(n={}){const{key:c="",isProvider:M=!1}=n,f=`${c}CollectionProvider`;let e;if(M){const l=u(new Map);e={collectionRef:u(),itemMap:l},w(f,e)}else e=h(f);const y=(l=!1)=>{const o=e.collectionRef.value;if(!o)return[];const r=Array.from(o.querySelectorAll(`[${A}]`)),t=Array.from(e.itemMap.value.values()).sort((a,s)=>r.indexOf(a.ref)-r.indexOf(s.ref));return l?t:t.filter(a=>a.ref.dataset.disabled!=="")},C=p({name:"CollectionSlot",inheritAttrs:!1,setup(l,{slots:o,attrs:r}){const{primitiveElement:i,currentElement:t}=E();return b(t,()=>{e.collectionRef.value=t.value}),()=>d(v,{ref:i,...r},o)}}),S=p({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(l,{slots:o,attrs:r}){const{primitiveElement:i,currentElement:t}=E();return k(a=>{if(t.value){const s=$(t.value);e.itemMap.value.set(s,{ref:t.value,value:l.value}),a(()=>e.itemMap.value.delete(s))}}),()=>d(v,{...r,[A]:"",ref:i},o)}}),x=m(()=>Array.from(e.itemMap.value.values())),I=m(()=>e.itemMap.value.size);return{getItems:y,reactiveItems:x,itemMapSize:I,CollectionSlot:C,CollectionItem:S}}export{E as a,P as u};
