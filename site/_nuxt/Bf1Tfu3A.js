import{_ as Ze}from"./nHyB59Vm.js";import{_ as et}from"./HzVF1qNI.js";import{u as oe,a as he}from"./CWBW37gM.js";import{c as ce}from"./Dy4Z_VQo.js";import{i as Ie,h as tt}from"./CcFcSr0Z.js";import{u as ot}from"./Cop6u61-.js";import{u as at}from"./CSh7zoJM.js";import{u as ae}from"./mWIteSzr.js";import{P as lt,a as nt,u as rt,b as st}from"./Cxw1WQmr.js";import{V as it}from"./dnDFdY6A.js";import{m as ut,a5 as dt,W as k,a6 as be,o as f,h as C,w as p,a7 as P,e,c as V,s as H,F as ne,r as de,a8 as O,n as B,D as M,p as X,b as D,M as pe,d as m,R as ee,a9 as ct,q as J,S as Z,N as pt,aa as Se,ab as we,ac as ft,f as z,ad as mt,ae as vt,t as W,af as te,v as _t,ag as yt,u as gt,g as ht,K as bt,j as De,ah as Ve,P as St,Q as wt,J as xt}from"./IMHBmAvM.js";import{u as ke,a as qt,b as U,c as Ct}from"./DWG3xSCv.js";import{P as Bt}from"./CboA2NrW.js";import{u as Pt,a as It,F as kt,D as Tt,f as Te,T as Et}from"./BFULNkRl.js";import{u as Me}from"./D-pAyiJO.js";import{c as Ee,u as $t}from"./DkgBUR2o.js";import{P as N}from"./DmwfaKwn.js";import{g as Fe}from"./FUKBWQwh.js";import{C as Ne,S as Rt}from"./BsvQ-vJI.js";import{r as se}from"./BZY-t1L7.js";import{u as Le}from"./DDHZDh0S.js";import{_ as At}from"./UwGaH15d.js";import{_ as Ot}from"./BptVNsbJ.js";import{_ as Dt}from"./eDnzarN5.js";import{_ as Vt}from"./B2yB216K.js";import{_ as Mt}from"./BsCzhM_a.js";import{_ as Ft,a as Nt,b as Lt}from"./BiXg0neq.js";import"./iGIsgRmF.js";import"./B1wiTl2V.js";import"./Dj53LeHM.js";import"./Doo5uwP7.js";import"./BOEcqi2e.js";import"./BXIDeL47.js";import"./DYGa34Qb.js";import"./DfOSfl-H.js";const Ht=ut("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),zt=[" ","Enter","ArrowUp","ArrowDown"],Kt=[" ","Enter"],F=10;function re(r,a,t){return r===void 0?!1:Array.isArray(r)?r.some(u=>ge(u,a,t)):ge(r,a,t)}function ge(r,a,t){return r===void 0||a===void 0?!1:typeof r=="string"?r===a:typeof t=="function"?t(r,a):typeof t=="string"?r?.[t]===a?.[t]:dt(r,a)}function Wt(r){return r==null||r===""||Array.isArray(r)&&r.length===0}const Ut={key:0,value:""},[j,He]=ce("SelectRoot");var jt=k({inheritAttrs:!1,__name:"SelectRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1,default:void 0},by:{type:[String,Function],required:!1},dir:{type:String,required:!1},multiple:{type:Boolean,required:!1},autocomplete:{type:String,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","update:open"],setup(r,{emit:a}){const t=r,u=a,{required:l,disabled:n,multiple:c,dir:o}=be(t),s=ke(t,"modelValue",u,{defaultValue:t.defaultValue??(c.value?[]:void 0),passive:t.modelValue===void 0,deep:!0}),d=ke(t,"open",u,{defaultValue:t.defaultOpen,passive:t.open===void 0}),v=B(),g=B(),w=B({x:0,y:0}),b=M(()=>c.value&&Array.isArray(s.value)?s.value?.length===0:Ie(s.value));ae({isProvider:!0});const _=ot(o),$=at(v),T=B(new Set),q=M(()=>Array.from(T.value).map(i=>i.value).join(";"));function I(i){if(c.value){const S=Array.isArray(s.value)?[...s.value]:[],y=S.findIndex(x=>ge(x,i,t.by));y===-1?S.push(i):S.splice(y,1),s.value=[...S]}else s.value=i}function h(i){return Array.from(T.value).find(S=>re(i,S.value,t.by))}return He({triggerElement:v,onTriggerChange:i=>{v.value=i},valueElement:g,onValueElementChange:i=>{g.value=i},contentId:"",modelValue:s,onValueChange:I,by:t.by,open:d,multiple:c,required:l,onOpenChange:i=>{d.value=i},dir:_,triggerPointerDownPosRef:w,disabled:n,isEmptyModelValue:b,optionsSet:T,onOptionAdd:i=>{const S=h(i.value);S&&T.value.delete(S),T.value.add(i)},onOptionRemove:i=>{const S=h(i.value);S&&T.value.delete(S)}}),(i,S)=>(f(),C(e(lt),null,{default:p(()=>[P(i.$slots,"default",{modelValue:e(s),open:e(d)}),e($)?(f(),C(Xt,{key:q.value,"aria-hidden":"true",tabindex:"-1",multiple:e(c),required:e(l),name:i.name,autocomplete:i.autocomplete,disabled:e(n),value:e(s)},{default:p(()=>[e(Ie)(e(s))?(f(),V("option",Ut)):H("v-if",!0),(f(!0),V(ne,null,de(Array.from(T.value),y=>(f(),V("option",O({key:y.value??""},{ref_for:!0},y),null,16))),128))]),_:1},8,["multiple","required","name","autocomplete","disabled","value"])):H("v-if",!0)]),_:3}))}}),Yt=jt,Gt=k({__name:"BubbleSelect",props:{autocomplete:{type:String,required:!1},autofocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},form:{type:String,required:!1},multiple:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},size:{type:Number,required:!1},value:{type:null,required:!1}},setup(r){const a=r,t=B(),u=j();X(()=>a.value,(n,c)=>{const o=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(o,"value").set;if(n!==c&&d&&t.value){const v=new Event("change",{bubbles:!0});d.call(t.value,n),t.value.dispatchEvent(v)}});function l(n){u.onValueChange(n.target.value)}return(n,c)=>(f(),C(e(it),{"as-child":""},{default:p(()=>[D("select",O({ref_key:"selectElement",ref:t},a,{onInput:l}),[P(n.$slots,"default")],16)]),_:3}))}}),Xt=Gt,Jt=k({__name:"SelectPopperPosition",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1,default:"start"},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1,default:F},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(r){const t=oe(r);return(u,l)=>(f(),C(e(nt),O(e(t),{style:{boxSizing:"border-box","--reka-select-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-select-content-available-width":"var(--reka-popper-available-width)","--reka-select-content-available-height":"var(--reka-popper-available-height)","--reka-select-trigger-width":"var(--reka-popper-anchor-width)","--reka-select-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:p(()=>[P(u.$slots,"default")]),_:3},16))}}),Qt=Jt;const Zt={onViewportChange:()=>{},itemTextRefCallback:()=>{},itemRefCallback:()=>{}},[Q,ze]=ce("SelectContent");var eo=k({__name:"SelectContentImpl",props:{position:{type:String,required:!1,default:"item-aligned"},bodyLock:{type:Boolean,required:!1,default:!0},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1,default:"start"},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1,default:!0}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(r,{emit:a}){const t=r,u=a,l=j();rt(),Pt(t.bodyLock);const{CollectionSlot:n,getItems:c}=ae(),o=B();It(o);const{search:s,handleTypeaheadSearch:d}=Me(),v=B(),g=B(),w=B(),b=B(!1),_=B(!1),$=B(!1);function T(){g.value&&o.value&&Te([g.value,o.value])}X(b,()=>{T()});const{onOpenChange:q,triggerPointerDownPosRef:I}=l;pe(y=>{if(!o.value)return;let x={x:0,y:0};const E=A=>{x={x:Math.abs(Math.round(A.pageX)-(I.value?.x??0)),y:Math.abs(Math.round(A.pageY)-(I.value?.y??0))}},R=A=>{A.pointerType!=="touch"&&(x.x<=10&&x.y<=10?A.preventDefault():o.value?.contains(A.target)||q(!1),document.removeEventListener("pointermove",E),I.value=null)};I.value!==null&&(document.addEventListener("pointermove",E),document.addEventListener("pointerup",R,{capture:!0,once:!0})),y(()=>{document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",R,{capture:!0})})});function h(y){const x=y.ctrlKey||y.altKey||y.metaKey;if(y.key==="Tab"&&y.preventDefault(),!x&&y.key.length===1&&d(y.key,c()),["ArrowUp","ArrowDown","Home","End"].includes(y.key)){let R=[...c().map(A=>A.ref)];if(["ArrowUp","End"].includes(y.key)&&(R=R.slice().reverse()),["ArrowUp","ArrowDown"].includes(y.key)){const A=y.target,le=R.indexOf(A);R=R.slice(le+1)}setTimeout(()=>Te(R)),y.preventDefault()}}const i=M(()=>t.position==="popper"?t:{}),S=oe(i.value);return ze({content:o,viewport:v,onViewportChange:y=>{v.value=y},itemRefCallback:(y,x,E)=>{const R=!_.value&&!E,A=re(l.modelValue.value,x,l.by);if(l.multiple.value){if($.value)return;(A||R)&&(g.value=y,A&&($.value=!0))}else(A||R)&&(g.value=y);R&&(_.value=!0)},selectedItem:g,selectedItemText:w,onItemLeave:()=>{o.value?.focus()},itemTextRefCallback:(y,x,E)=>{const R=!_.value&&!E;(re(l.modelValue.value,x,l.by)||R)&&(w.value=y)},focusSelectedItem:T,position:t.position,isPositioned:b,searchRef:s}),(y,x)=>(f(),C(e(n),null,{default:p(()=>[m(e(kt),{"as-child":"",onMountAutoFocus:x[6]||(x[6]=ee(()=>{},["prevent"])),onUnmountAutoFocus:x[7]||(x[7]=E=>{u("closeAutoFocus",E),!E.defaultPrevented&&(e(l).triggerElement.value?.focus({preventScroll:!0}),E.preventDefault())})},{default:p(()=>[m(e(Tt),{"as-child":"","disable-outside-pointer-events":y.disableOutsidePointerEvents,onFocusOutside:x[2]||(x[2]=ee(()=>{},["prevent"])),onDismiss:x[3]||(x[3]=E=>e(l).onOpenChange(!1)),onEscapeKeyDown:x[4]||(x[4]=E=>u("escapeKeyDown",E)),onPointerDownOutside:x[5]||(x[5]=E=>u("pointerDownOutside",E))},{default:p(()=>[(f(),C(ct(y.position==="popper"?Qt:lo),O({...y.$attrs,...e(S)},{id:e(l).contentId,ref:E=>{const R=e(qt)(E);R?.hasAttribute("data-reka-popper-content-wrapper")?o.value=R.firstElementChild:o.value=R},role:"listbox","data-state":e(l).open.value?"open":"closed",dir:e(l).dir.value,style:{display:"flex",flexDirection:"column",outline:"none"},onContextmenu:x[0]||(x[0]=ee(()=>{},["prevent"])),onPlaced:x[1]||(x[1]=E=>b.value=!0),onKeydown:h}),{default:p(()=>[P(y.$slots,"default")]),_:3},16,["id","data-state","dir","onKeydown"]))]),_:3},8,["disable-outside-pointer-events"])]),_:3})]),_:3}))}}),to=eo;const[xe,oo]=ce("SelectItemAlignedPosition");var ao=k({inheritAttrs:!1,__name:"SelectItemAlignedPosition",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["placed"],setup(r,{emit:a}){const t=r,u=a,{getItems:l}=ae(),n=j(),c=Q(),o=B(!1),s=B(!0),d=B(),{forwardRef:v,currentElement:g}=U(),{viewport:w,selectedItem:b,selectedItemText:_,focusSelectedItem:$}=c;function T(){if(n.triggerElement.value&&n.valueElement.value&&d.value&&g.value&&w?.value&&b?.value&&_?.value){const h=n.triggerElement.value.getBoundingClientRect(),i=g.value.getBoundingClientRect(),S=n.valueElement.value.getBoundingClientRect(),y=_.value.getBoundingClientRect();if(n.dir.value!=="rtl"){const L=y.left-i.left,K=S.left-L,Y=h.left-K,G=h.width+Y,me=Math.max(G,i.width),ve=window.innerWidth-F,_e=Ee(K,F,Math.max(F,ve-me));d.value.style.minWidth=`${G}px`,d.value.style.left=`${_e}px`}else{const L=i.right-y.right,K=window.innerWidth-S.right-L,Y=window.innerWidth-h.right-K,G=h.width+Y,me=Math.max(G,i.width),ve=window.innerWidth-F,_e=Ee(K,F,Math.max(F,ve-me));d.value.style.minWidth=`${G}px`,d.value.style.right=`${_e}px`}const x=l().map(L=>L.ref),E=window.innerHeight-F*2,R=w.value.scrollHeight,A=window.getComputedStyle(g.value),le=Number.parseInt(A.borderTopWidth,10),qe=Number.parseInt(A.paddingTop,10),Ce=Number.parseInt(A.borderBottomWidth,10),Ue=Number.parseInt(A.paddingBottom,10),Be=le+qe+R+Ue+Ce,je=Math.min(b.value.offsetHeight*5,Be),Pe=window.getComputedStyle(w.value),Ye=Number.parseInt(Pe.paddingTop,10),Ge=Number.parseInt(Pe.paddingBottom,10),ie=h.top+h.height/2-F,Xe=E-ie,fe=b.value.offsetHeight/2,Je=b.value.offsetTop+fe,ue=le+qe+Je,Qe=Be-ue;if(ue<=ie){const L=b.value===x[x.length-1];d.value.style.bottom="0px";const K=g.value.clientHeight-w.value.offsetTop-w.value.offsetHeight,Y=Math.max(Xe,fe+(L?Ge:0)+K+Ce),G=ue+Y;d.value.style.height=`${G}px`}else{const L=b.value===x[0];d.value.style.top="0px";const Y=Math.max(ie,le+w.value.offsetTop+(L?Ye:0)+fe)+Qe;d.value.style.height=`${Y}px`,w.value.scrollTop=ue-ie+w.value.offsetTop}d.value.style.margin=`${F}px 0`,d.value.style.minHeight=`${je}px`,d.value.style.maxHeight=`${E}px`,u("placed"),requestAnimationFrame(()=>o.value=!0)}}const q=B("");J(async()=>{await Z(),T(),g.value&&(q.value=window.getComputedStyle(g.value).zIndex)});function I(h){h&&s.value===!0&&(T(),$?.(),s.value=!1)}return Ct(n.triggerElement,()=>{T()}),oo({contentWrapper:d,shouldExpandOnScrollRef:o,onScrollButtonChange:I}),(h,i)=>(f(),V("div",{ref_key:"contentWrapperElement",ref:d,style:pt({display:"flex",flexDirection:"column",position:"fixed",zIndex:q.value})},[m(e(N),O({ref:e(v),style:{boxSizing:"border-box",maxHeight:"100%"}},{...h.$attrs,...t}),{default:p(()=>[P(h.$slots,"default")]),_:3},16)],4))}}),lo=ao,no=k({inheritAttrs:!1,__name:"SelectProvider",props:{context:{type:Object,required:!0}},setup(r){return He(r.context),ze(Zt),(t,u)=>P(t.$slots,"default")}}),ro=no;const so={key:1};var io=k({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(r,{emit:a}){const t=r,l=he(t,a),n=j(),c=B();J(()=>{c.value=new DocumentFragment});const o=B(),s=M(()=>t.forceMount||n.open.value),d=B(s.value);return X(s,()=>{setTimeout(()=>d.value=s.value)}),(v,g)=>s.value||d.value||o.value?.present?(f(),C(e(Bt),{key:0,ref_key:"presenceRef",ref:o,present:s.value},{default:p(()=>[m(to,Se(we({...e(l),...v.$attrs})),{default:p(()=>[P(v.$slots,"default")]),_:3},16)]),_:3},8,["present"])):c.value?(f(),V("div",so,[(f(),C(ft,{to:c.value},[m(ro,{context:e(n)},{default:p(()=>[P(v.$slots,"default")]),_:3},8,["context"])],8,["to"]))])):H("v-if",!0)}}),uo=io,co=k({__name:"SelectIcon",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(r){return(a,t)=>(f(),C(e(N),{"aria-hidden":"true",as:a.as,"as-child":a.asChild},{default:p(()=>[P(a.$slots,"default",{},()=>[t[0]||(t[0]=z("â–¼"))])]),_:3},8,["as","as-child"]))}}),po=co;const[Ke,fo]=ce("SelectItem");var mo=k({__name:"SelectItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(r,{emit:a}){const t=r,u=a,{disabled:l}=be(t),n=j(),c=Q(),{forwardRef:o,currentElement:s}=U(),{CollectionItem:d}=ae(),v=M(()=>re(n.modelValue?.value,t.value,n.by)),g=B(!1),w=B(t.textValue??""),b=Le(void 0,"reka-select-item-text"),_="select.select";async function $(i){if(i.defaultPrevented)return;const S={originalEvent:i,value:t.value};tt(_,T,S)}async function T(i){await Z(),u("select",i),!i.defaultPrevented&&(l.value||(n.onValueChange(t.value),n.multiple.value||n.onOpenChange(!1)))}async function q(i){await Z(),!i.defaultPrevented&&(l.value?c.onItemLeave?.():i.currentTarget?.focus({preventScroll:!0}))}async function I(i){await Z(),!i.defaultPrevented&&i.currentTarget===Fe()&&c.onItemLeave?.()}async function h(i){await Z(),!(i.defaultPrevented||c.searchRef?.value!==""&&i.key===" ")&&(Kt.includes(i.key)&&$(i),i.key===" "&&i.preventDefault())}if(t.value==="")throw new Error("A <SelectItem /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return J(()=>{s.value&&c.itemRefCallback(s.value,t.value,t.disabled)}),fo({value:t.value,disabled:l,textId:b,isSelected:v,onItemTextChange:i=>{w.value=((w.value||i?.textContent)??"").trim()}}),(i,S)=>(f(),C(e(d),{value:{textValue:w.value}},{default:p(()=>[m(e(N),{ref:e(o),role:"option","aria-labelledby":e(b),"data-highlighted":g.value?"":void 0,"aria-selected":v.value,"data-state":v.value?"checked":"unchecked","aria-disabled":e(l)||void 0,"data-disabled":e(l)?"":void 0,tabindex:e(l)?void 0:-1,as:i.as,"as-child":i.asChild,onFocus:S[0]||(S[0]=y=>g.value=!0),onBlur:S[1]||(S[1]=y=>g.value=!1),onPointerup:$,onPointerdown:S[2]||(S[2]=y=>{y.currentTarget.focus({preventScroll:!0})}),onTouchend:S[3]||(S[3]=ee(()=>{},["prevent","stop"])),onPointermove:q,onPointerleave:I,onKeydown:h},{default:p(()=>[P(i.$slots,"default")]),_:3},8,["aria-labelledby","data-highlighted","aria-selected","data-state","aria-disabled","data-disabled","tabindex","as","as-child"])]),_:3},8,["value"]))}}),vo=mo,_o=k({__name:"SelectItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(r){const a=r,t=Ke();return(u,l)=>e(t).isSelected.value?(f(),C(e(N),O({key:0,"aria-hidden":"true"},a),{default:p(()=>[P(u.$slots,"default")]),_:3},16)):H("v-if",!0)}}),yo=_o,go=k({inheritAttrs:!1,__name:"SelectItemText",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(r){const a=r,t=j(),u=Q(),l=Ke(),{forwardRef:n,currentElement:c}=U(),o=M(()=>({value:l.value,disabled:l.disabled.value,textContent:c.value?.textContent??l.value?.toString()??""}));return J(()=>{c.value&&(l.onItemTextChange(c.value),u.itemTextRefCallback(c.value,l.value,l.disabled.value),t.onOptionAdd(o.value))}),mt(()=>{t.onOptionRemove(o.value)}),(s,d)=>(f(),C(e(N),O({id:e(l).textId,ref:e(n)},{...a,...s.$attrs}),{default:p(()=>[P(s.$slots,"default")]),_:3},16,["id"]))}}),ho=go,bo=k({__name:"SelectPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(r){const a=r;return(t,u)=>(f(),C(e(Et),Se(we(a)),{default:p(()=>[P(t.$slots,"default")]),_:3},16))}}),So=bo,wo=k({__name:"SelectScrollButtonImpl",emits:["autoScroll"],setup(r,{emit:a}){const t=a,{getItems:u}=ae(),l=Q(),n=B(null);function c(){n.value!==null&&(window.clearInterval(n.value),n.value=null)}pe(()=>{u().map(v=>v.ref).find(v=>v===Fe())?.scrollIntoView({block:"nearest"})});function o(){n.value===null&&(n.value=window.setInterval(()=>{t("autoScroll")},50))}function s(){l.onItemLeave?.(),n.value===null&&(n.value=window.setInterval(()=>{t("autoScroll")},50))}return vt(()=>c()),(d,v)=>(f(),C(e(N),O({"aria-hidden":"true",style:{flexShrink:0}},d.$parent?.$props,{onPointerdown:o,onPointermove:s,onPointerleave:v[0]||(v[0]=()=>{c()})}),{default:p(()=>[P(d.$slots,"default")]),_:3},16))}}),We=wo,xo=k({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(r){const a=Q(),t=a.position==="item-aligned"?xe():void 0,{forwardRef:u,currentElement:l}=U(),n=B(!1);return pe(c=>{if(a.viewport?.value&&a.isPositioned?.value){let s=function(){const d=o.scrollHeight-o.clientHeight;n.value=Math.ceil(o.scrollTop)<d};const o=a.viewport.value;s(),o.addEventListener("scroll",s),c(()=>o.removeEventListener("scroll",s))}}),X(l,()=>{l.value&&t?.onScrollButtonChange(l.value)}),(c,o)=>n.value?(f(),C(We,{key:0,ref:e(u),onAutoScroll:o[0]||(o[0]=()=>{const{viewport:s,selectedItem:d}=e(a);s?.value&&d?.value&&(s.value.scrollTop=s.value.scrollTop+d.value.offsetHeight)})},{default:p(()=>[P(c.$slots,"default")]),_:3},512)):H("v-if",!0)}}),qo=xo,Co=k({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(r){const a=Q(),t=a.position==="item-aligned"?xe():void 0,{forwardRef:u,currentElement:l}=U(),n=B(!1);return pe(c=>{if(a.viewport?.value&&a.isPositioned?.value){let s=function(){n.value=o.scrollTop>0};const o=a.viewport.value;s(),o.addEventListener("scroll",s),c(()=>o.removeEventListener("scroll",s))}}),X(l,()=>{l.value&&t?.onScrollButtonChange(l.value)}),(c,o)=>n.value?(f(),C(We,{key:0,ref:e(u),onAutoScroll:o[0]||(o[0]=()=>{const{viewport:s,selectedItem:d}=e(a);s?.value&&d?.value&&(s.value.scrollTop=s.value.scrollTop-d.value.offsetHeight)})},{default:p(()=>[P(c.$slots,"default")]),_:3},512)):H("v-if",!0)}}),Bo=Co,Po=k({__name:"SelectTrigger",props:{disabled:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(r){const a=r,t=j(),{forwardRef:u,currentElement:l}=U(),n=M(()=>t.disabled?.value||a.disabled);t.contentId||=Le(void 0,"reka-select-content"),J(()=>{t.onTriggerChange(l.value)});const{getItems:c}=ae(),{search:o,handleTypeaheadSearch:s,resetTypeahead:d}=Me();function v(){n.value||(t.onOpenChange(!0),d())}function g(w){v(),t.triggerPointerDownPosRef.value={x:Math.round(w.pageX),y:Math.round(w.pageY)}}return(w,b)=>(f(),C(e(st),{"as-child":"",reference:w.reference},{default:p(()=>[m(e(N),{ref:e(u),role:"combobox",type:w.as==="button"?"button":void 0,"aria-controls":e(t).contentId,"aria-expanded":e(t).open.value||!1,"aria-required":e(t).required?.value,"aria-autocomplete":"none",disabled:n.value,dir:e(t)?.dir.value,"data-state":e(t)?.open.value?"open":"closed","data-disabled":n.value?"":void 0,"data-placeholder":e(Wt)(e(t).modelValue?.value)?"":void 0,"as-child":w.asChild,as:w.as,onClick:b[0]||(b[0]=_=>{_?.currentTarget?.focus()}),onPointerdown:b[1]||(b[1]=_=>{if(_.pointerType==="touch")return _.preventDefault();const $=_.target;$.hasPointerCapture(_.pointerId)&&$.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&(g(_),_.preventDefault())}),onPointerup:b[2]||(b[2]=ee(_=>{_.pointerType==="touch"&&g(_)},["prevent"])),onKeydown:b[3]||(b[3]=_=>{const $=e(o)!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&$&&_.key===" "||(e(s)(_.key,e(c)()),e(zt).includes(_.key)&&(v(),_.preventDefault()))})},{default:p(()=>[P(w.$slots,"default")]),_:3},8,["type","aria-controls","aria-expanded","aria-required","disabled","dir","data-state","data-disabled","data-placeholder","as-child","as"])]),_:3},8,["reference"]))}}),Io=Po,ko=k({__name:"SelectValue",props:{placeholder:{type:String,required:!1,default:""},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(r){const a=r,{forwardRef:t,currentElement:u}=U(),l=j();J(()=>{l.valueElement=u});const n=M(()=>{let o=[];const s=Array.from(l.optionsSet.value),d=v=>s.find(g=>re(v,g.value,l.by));return Array.isArray(l.modelValue.value)?o=l.modelValue.value.map(v=>d(v)?.textContent??""):o=[d(l.modelValue.value)?.textContent??""],o.filter(Boolean)}),c=M(()=>n.value.length?n.value.join(", "):a.placeholder);return(o,s)=>(f(),C(e(N),{ref:e(t),as:o.as,"as-child":o.asChild,style:{pointerEvents:"none"},"data-placeholder":n.value.length?void 0:a.placeholder},{default:p(()=>[P(o.$slots,"default",{selectedLabel:n.value,modelValue:e(l).modelValue.value},()=>[z(W(c.value),1)])]),_:3},8,["as","as-child","data-placeholder"]))}}),To=ko,Eo=k({__name:"SelectViewport",props:{nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(r){const a=r,{nonce:t}=be(a),u=$t(t),l=Q(),n=l.position==="item-aligned"?xe():void 0,{forwardRef:c,currentElement:o}=U();J(()=>{l?.onViewportChange(o.value)});const s=B(0);function d(v){const g=v.currentTarget,{shouldExpandOnScrollRef:w,contentWrapper:b}=n??{};if(w?.value&&b?.value){const _=Math.abs(s.value-g.scrollTop);if(_>0){const $=window.innerHeight-F*2,T=Number.parseFloat(b.value.style.minHeight),q=Number.parseFloat(b.value.style.height),I=Math.max(T,q);if(I<$){const h=I+_,i=Math.min($,h),S=h-i;b.value.style.height=`${i}px`,b.value.style.bottom==="0px"&&(g.scrollTop=S>0?S:0,b.value.style.justifyContent="flex-end")}}}s.value=g.scrollTop}return(v,g)=>(f(),V(ne,null,[m(e(N),O({ref:e(c),"data-reka-select-viewport":"",role:"presentation"},{...v.$attrs,...a},{style:{position:"relative",flex:1,overflow:"hidden auto"},onScroll:d}),{default:p(()=>[P(v.$slots,"default")]),_:3},16),m(e(N),{as:"style",nonce:e(u)},{default:p(()=>g[0]||(g[0]=[z(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-select-viewport] { scrollbar-width:none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } [data-reka-select-viewport]::-webkit-scrollbar { display: none; } ")])),_:1,__:[0]},8,["nonce"])],64))}}),$o=Eo;const $e=k({__name:"Select",props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},by:{type:[String,Function]},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(r,{emit:a}){const l=he(r,a);return(n,c)=>(f(),C(e(Yt),O({"data-slot":"select"},e(l)),{default:p(o=>[P(n.$slots,"default",Se(we(o)))]),_:3},16))}}),Re=k({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{default:"popper"},bodyLock:{type:Boolean},side:{},sideOffset:{},sideFlip:{type:Boolean},align:{},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},hideShiftedArrow:{type:Boolean},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(r,{emit:a}){const t=r,u=a,l=se(t,"class"),n=he(l,u);return(c,o)=>(f(),C(e(So),null,{default:p(()=>[m(e(uo),O({"data-slot":"select-content"},{...c.$attrs,...e(n)},{class:e(te)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--reka-select-content-available-height) min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r.position==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t.class)}),{default:p(()=>[m(e(Oo)),m(e($o),{class:_t(e(te)("p-1",r.position==="popper"&&"h-[var(--reka-select-trigger-height)] w-full min-w-[var(--reka-select-trigger-width)] scroll-my-1"))},{default:p(()=>[P(c.$slots,"default")]),_:3},8,["class"]),m(e(Ao))]),_:3},16,["class"])]),_:3}))}}),Ro={class:"absolute right-2 flex size-3.5 items-center justify-center"},ye=k({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(r){const a=r,t=se(a,"class"),u=oe(t);return(l,n)=>(f(),C(e(vo),O({"data-slot":"select-item"},e(u),{class:e(te)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",a.class)}),{default:p(()=>[D("span",Ro,[m(e(yo),null,{default:p(()=>[P(l.$slots,"indicator-icon",{},()=>[m(e(yt),{class:"size-4"})])]),_:3})]),m(e(ho),null,{default:p(()=>[P(l.$slots,"default")]),_:3})]),_:3},16,["class"]))}}),Ao=k({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const a=r,t=se(a,"class"),u=oe(t);return(l,n)=>(f(),C(e(qo),O({"data-slot":"select-scroll-down-button"},e(u),{class:e(te)("flex cursor-default items-center justify-center py-1",a.class)}),{default:p(()=>[P(l.$slots,"default",{},()=>[m(e(Ne),{class:"size-4"})])]),_:3},16,["class"]))}}),Oo=k({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const a=r,t=se(a,"class"),u=oe(t);return(l,n)=>(f(),C(e(Bo),O({"data-slot":"select-scroll-up-button"},e(u),{class:e(te)("flex cursor-default items-center justify-center py-1",a.class)}),{default:p(()=>[P(l.$slots,"default",{},()=>[m(e(Ht),{class:"size-4"})])]),_:3},16,["class"]))}}),Ae=k({__name:"SelectTrigger",props:{disabled:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{},size:{default:"default"}},setup(r){const a=r,t=se(a,"class","size"),u=oe(t);return(l,n)=>(f(),C(e(Io),O({"data-slot":"select-trigger","data-size":r.size},e(u),{class:e(te)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a.class)}),{default:p(()=>[P(l.$slots,"default"),m(e(po),{"as-child":""},{default:p(()=>[m(e(Ne),{class:"size-4 opacity-50"})]),_:1})]),_:3},16,["data-size","class"]))}}),Oe=k({__name:"SelectValue",props:{placeholder:{},asChild:{type:Boolean},as:{}},setup(r){const a=r;return(t,u)=>(f(),C(e(To),O({"data-slot":"select-value"},a),{default:p(()=>[P(t.$slots,"default")]),_:3},16))}}),Do={class:"flex items-center gap-1.5"},Vo={__name:"SearchTopicsNav",async setup(r){let a,t;const{t:u}=gt(),{data:l}=([a,t]=ht(()=>bt("/api/topic/nodes")),a=await a,t(),a),n=De(),c=Ve(),o=B(0),s=B(0),d=(q,I=0)=>{const h=Array.isArray(q)?q[0]:q,i=Number(h);return Number.isFinite(i)?i:I},v=M(()=>l.value||[]),g=M(()=>o.value>0?o.value:0),w=M(()=>[{value:0,label:u("component.search.timeRange.all")},{value:1,label:u("component.search.timeRange.day")},{value:2,label:u("component.search.timeRange.week")},{value:3,label:u("component.search.timeRange.month")},{value:4,label:u("component.search.timeRange.year")}]);X(()=>n.query,q=>{o.value=Math.max(0,d(q.nodeId,0)),s.value=d(q.timeRange,0)},{immediate:!0});const b=q=>{o.value=q,T("nodeId",q)},_=q=>{const I=d(q,0);b(I)},$=q=>{const I=d(q,0);s.value=I,T("timeRange",I)},T=(q,I)=>{const i={...{...n.query}};Number(I)===0?delete i[q]:i[q]=I,c.push({path:"/search",query:i})};return(q,I)=>(f(),V("div",Do,[m(e($e),{"model-value":String(e(g)),"onUpdate:modelValue":_},{default:p(()=>[m(e(Ae),{class:"h-9 w-[138px] bg-background px-2.5 text-xs"},{default:p(()=>[m(e(Oe),{placeholder:e(u)("component.search.allNodes")},null,8,["placeholder"])]),_:1}),m(e(Re),null,{default:p(()=>[m(e(ye),{value:"0"},{default:p(()=>[z(W(e(u)("component.search.allNodes")),1)]),_:1}),(f(!0),V(ne,null,de(e(v),h=>(f(),C(e(ye),{key:h.id,value:String(h.id)},{default:p(()=>[z(W(h.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"]),m(e($e),{"model-value":String(e(s)),"onUpdate:modelValue":$},{default:p(()=>[m(e(Ae),{class:"h-9 w-[122px] bg-background px-2.5 text-xs"},{default:p(()=>[m(e(Oe),{placeholder:e(u)("component.search.timeRange.all")},null,8,["placeholder"])]),_:1}),m(e(Re),null,{default:p(()=>[(f(!0),V(ne,null,de(e(w),h=>(f(),C(e(ye),{key:h.value,value:String(h.value)},{default:p(()=>[z(W(h.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"])]))}},Mo={class:"divide-y divide-border"},Fo={class:"min-w-0"},No={class:"text-base font-semibold leading-6 text-foreground"},Lo={class:"mt-2 flex flex-wrap items-center gap-x-2 gap-y-1 text-xs text-muted-foreground/90"},Ho={__name:"SearchTopicList",props:{results:{type:Array,default:()=>[]}},setup(r){const a=r,t=M(()=>a.results||[]);return(u,l)=>{const n=At,c=Ot;return f(),V("div",Mo,[(f(!0),V(ne,null,de(e(t),o=>(f(),V("article",{key:o.id,class:"group px-4 py-4 transition-colors hover:bg-muted/30 sm:px-5"},[D("div",Fo,[D("h3",No,[m(n,{to:`/topic/${o.id}`,target:"_blank",class:"transition-colors group-hover:text-primary [&_em]:not-italic [&_em]:bg-yellow-200/80 [&_em]:px-0.5",innerHTML:o.title},null,8,["to","innerHTML"])]),m(n,{to:`/topic/${o.id}`,target:"_blank",class:"mt-2 block text-sm leading-6 text-muted-foreground transition-colors hover:text-foreground [&_em]:not-italic [&_em]:bg-yellow-200/70 [&_em]:px-0.5 [display:-webkit-box] [-webkit-box-orient:vertical] [-webkit-line-clamp:2] overflow-hidden",innerHTML:o.summary},null,8,["to","innerHTML"]),D("div",Lo,[o.user?(f(),C(c,{key:0,user:o.user,size:20,class:"[&_a]:opacity-70 hover:[&_a]:opacity-100"},null,8,["user"])):H("",!0),o.user?(f(),C(n,{key:1,to:`/user/${o.user.id}`,target:"_blank",class:"text-muted-foreground hover:text-foreground"},{default:p(()=>[z(W(o.user.nickname),1)]),_:2},1032,["to"])):H("",!0),D("span",null,W(("useFormatDate"in u?u.useFormatDate:e(St))(o.createTime)),1),o.node?(f(),C(n,{key:2,to:`/topics/node/${o.node.id}`,target:"_blank",class:"rounded-full border border-border px-2 py-0.5 text-[11px] text-muted-foreground transition-colors hover:bg-accent hover:text-foreground"},{default:p(()=>[z(W(o.node.name),1)]),_:2},1032,["to"])):H("",!0)])])]))),128))])}}},zo={class:"main"},Ko={class:"container main-container left-main side-size-320"},Wo={class:"left-container"},Uo={class:"flex flex-wrap items-center gap-2"},jo={class:"flex h-10 min-w-[220px] flex-1 items-center rounded-lg bg-muted/50 px-3"},Yo={class:"rounded-lg p-2 bg-background/95"},Go={class:"right-container space-y-4"},$a={__name:"index",setup(r){const a=De(),t=Ve(),u=B(null),l=B(a.query.q||""),n=wt({keyword:a.query.q||"",nodeId:a.query.nodeId||0,timeRange:a.query.timeRange});X(()=>a.query,o=>{n.keyword=o.q||"",n.nodeId=o.nodeId||0,n.timeRange=o.timeRange,l.value=o.q||"",Z(()=>{u.value&&u.value.refresh()})},{immediate:!0});const c=async()=>{const o=l.value.trim(),s={...a.query};o?s.q=o:delete s.q,await t.push({path:"/search",query:s})};return(o,s)=>{const d=Ze,v=et,g=Vo,w=Ho,b=Dt,_=Vt,$=Mt,T=Ft,q=Nt,I=Lt;return f(),V("section",zo,[D("div",Ko,[D("div",Wo,[D("form",{class:"mb-4 rounded-lg bg-background/95 p-2",onSubmit:ee(c,["prevent"])},[D("div",Uo,[D("div",jo,[m(e(Rt),{class:"mr-2 h-4 w-4 text-muted-foreground"}),m(d,{modelValue:e(l),"onUpdate:modelValue":s[0]||(s[0]=h=>xt(l)?l.value=h:null),type:"text",maxlength:"30",placeholder:o.$t("component.searchInput.placeholder"),class:"h-auto border-none bg-transparent px-0 text-base shadow-none focus-visible:ring-0 focus-visible:ring-offset-0",autocomplete:"off"},null,8,["modelValue","placeholder"])]),m(v,{type:"submit",class:"h-10 min-w-24 rounded-lg px-6"},{default:p(()=>[z(W(o.$t("component.searchInput.searchBtn")),1)]),_:1}),m(g)])],32),D("div",Yo,[m(b,{ref_key:"loadMore",ref:u,url:"/api/search/topic",params:e(n)},{default:p(({results:h})=>[m(w,{results:h},null,8,["results"])]),_:1},8,["params"])])]),D("div",Go,[m(_),m($),m(T),m(q),m(I)])])])}}};export{$a as default};
