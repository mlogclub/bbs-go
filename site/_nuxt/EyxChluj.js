import{m as ce,U as fe,V as R,n as $,W as ve,o as c,c as p,N as _e,v as N,D as Y,_ as P,X as ge,u as te,p as X,S as ke,Y as be,x as G,b as t,Z as oe,R as le,e as r,$ as we,d as w,J as ee,y as xe,a0 as Ce,w as z,f as M,t as u,a1 as $e,a2 as Ie,s as T,H as ae,z as D,A as H,B as re,a3 as Q,F as E,r as J,I as ue,h as K,L as W,O as de,i as Le,C as ne,Q as Te,k as Se,a4 as qe}from"./IMHBmAvM.js";import{_ as Z}from"./UwGaH15d.js";import{_ as Me}from"./9rp5OSjE.js";import{_ as Re}from"./HzVF1qNI.js";import{_ as se}from"./BptVNsbJ.js";import{M as me}from"./WZu4RPZE.js";import{C as Ue}from"./BOEcqi2e.js";import{_ as Ee}from"./eDnzarN5.js";const on=ce("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const pe=ce("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);function Ve(e,a={}){const{initialIndex:l=0,onOpenChange:d=null}=a;return{previewImages:(x=l)=>{const y=$(!0),f=$(x);let C=null,s=null;const k=()=>{C&&(C.unmount(),C=null),s&&s.parentNode&&(s.parentNode.removeChild(s),s=null)},I=()=>{y.value=!1,k(),d&&d(!1)},L=()=>{f.value=f.value>0?f.value-1:e.length-1},i=()=>{f.value=f.value<e.length-1?f.value+1:0},b=g=>{switch(g.key){case"Escape":I();break;case"ArrowLeft":L();break;case"ArrowRight":i();break}};let _=0,o=0;const v=g=>{g.touches&&g.touches.length>0&&g.touches[0]&&(_=g.touches[0].clientX,o=g.touches[0].clientY)},j=g=>{if(!(!_||!o)){if(g.changedTouches&&g.changedTouches.length>0&&g.changedTouches[0]){const A=g.changedTouches[0].clientX,O=g.changedTouches[0].clientY,V=_-A,n=o-O;Math.abs(V)>Math.abs(n)&&Math.abs(V)>50&&(V>0?i():L())}_=0,o=0}},U=()=>{const g=e[f.value];return g?typeof g=="string"?{src:g,preview:g}:{src:g.src,preview:g.preview||g.src}:{src:"",preview:""}},F={setup(){return document.addEventListener("keydown",b),()=>R("div",{class:"fixed inset-0 z-50 flex items-center justify-center",style:{display:y.value?"flex":"none"}},[R("div",{class:"fixed inset-0 bg-black/80",onClick:I}),R("button",{class:"fixed right-4 top-4 z-[60] rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-white/50 bg-white/20 text-white w-10 h-10 flex items-center justify-center cursor-pointer hover:cursor-pointer",onClick:I},"✕"),R("div",{class:"relative flex items-center justify-center w-full h-full min-h-[50vh] z-10 touch-pan-y",style:{touchAction:"pan-y"},onTouchstart:v,onTouchend:j},[e.length>1&&R("button",{class:"absolute left-4 top-1/2 -translate-y-1/2 z-10 bg-white/20 text-white rounded-full p-3 hover:bg-white/30 transition-colors focus:outline-none focus:ring-2 focus:ring-white/50 hidden md:flex items-center justify-center",onClick:L},"‹"),R("img",{src:U().src,class:"max-w-full max-h-full object-contain select-none",style:"max-height: 90vh; max-width: 90vw; user-select: none; -webkit-user-select: none;",onClick:g=>g.stopPropagation(),draggable:!1}),e.length>1&&R("button",{class:"absolute right-4 top-1/2 -translate-y-1/2 z-10 bg-white/20 text-white rounded-full p-3 hover:bg-white/30 transition-colors focus:outline-none focus:ring-2 focus:ring-white/50 hidden md:flex items-center justify-center",onClick:i},"›")]),e.length>1&&R("div",{class:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-white/20 text-white px-3 py-1 rounded text-sm z-10"},`${f.value+1} / ${e.length}`),e.length>1&&R("div",{class:"fixed top-4 left-1/2 -translate-x-1/2 bg-white/20 text-white px-3 py-1 rounded text-xs z-10 md:hidden opacity-70"},"← 滑动切换 →")])},beforeUnmount(){document.removeEventListener("keydown",b)}};s=document.createElement("div"),document.body.appendChild(s),C=fe(F),C.mount(s)}}}const De=["src"],He=ve({__name:"MyImage",props:{src:{},previewSrcList:{default:()=>[]},initialIndex:{default:0},class:{default:""},style:{default:""},fit:{default:"cover"}},emits:["click","load","error"],setup(e,{emit:a}){const l=e,d=a,h=Y(()=>{const s="cursor-pointer transition-transform hover:scale-105";return l.class?`${s} ${l.class}`:s}),x=Y(()=>{const s=` object-fit: ${l.fit};`;return typeof l.style=="string"?l.style?`${s} ${l.style}`:s:typeof l.style=="object"?{objectFit:l.fit,...l.style}:s}),y=s=>{d("click",s);const k=l.previewSrcList.length>0?l.previewSrcList:[l.src],{previewImages:I}=Ve(k);I(l.initialIndex)},f=s=>{d("load",s)},C=s=>{d("error",s)};return(s,k)=>(c(),p("img",{src:e.src,class:N(h.value),style:_e(x.value),onClick:y,onError:C,onLoad:f},null,46,De))}}),he=Object.assign(He,{__name:"MyImage"}),Ne=["placeholder","onKeydown"],ze={class:"text-editor-bar"},Pe={class:"text-editor-actions"},je={class:"text-editor-btn"},Fe={__name:"TextEditor",props:{height:{type:Number,default:80},focusHeight:{type:Number,default:0},content:{type:String,default:""},imageList:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1}},emits:["submit","update:content","update:imageList"],setup(e,{expose:a,emit:l}){ge(n=>({v1a1befb9:r(i)+"px",v189ca50a:r(b)+"px"}));const{t:d}=te(),h=e,x=l,y=$({content:h.content,imageList:h.imageList}),f=$(!1),C=$(null),s=$(!1),k=$(null),I=$(null),L=$(!1),i=$(h.height),b=$(h.focusHeight);X(()=>h.content,(n,m)=>{y.value.content=h.content}),X(()=>h.imageList,(n,m)=>{y.value.imageList=h.imageList||[]}),X(()=>s.value,(n,m)=>{O()}),X(()=>y.value.content,(n,m)=>{x("update:content",y.value.content)}),X(()=>y.value.imageList,(n,m)=>{x("update:imageList",y.value.imageList)});const _=()=>{if(L.value===!0){$e(d("component.textEditor.pleaseWait"));return}x("submit")},o=n=>{const m=n.clipboardData&&n.clipboardData.items;if(!m||!m.length)return;let S=null;for(let q=0;q<m.length;q++)m[q].type.includes("image")&&(S=m[q].getAsFile());S&&(n.preventDefault(),s.value=!0,k.value.addFiles([S]),U())},v=n=>{n.stopPropagation(),n.preventDefault();const m=n.dataTransfer.items;if(!m||!m.length)return;const S=[];for(let q=0;q<m.length;q++)m[q].type.includes("image")&&S.push(m[q].getAsFile());S&&S.length&&(s.value=!0,k.value.addFiles(S),U())},j=()=>{s.value||(k.value.onClick(),U()),s.value=!s.value},U=()=>{C.value.focus()},F=()=>{f.value=!0,y.value.imageList&&y.value.imageList.length&&(s.value=!0)},g=()=>{f.value=!1,s.value=!1},A=()=>{f.value=!1,s.value=!1},O=()=>{ke(()=>{const n=I.value.offsetHeight;s.value?(i.value=h.height+n,b.value=h.focusHeight+n):(i.value=h.height,b.value=h.focusHeight)})},V=()=>{y.value.content&&(f.value=!0)};return a({reset:A,focus:U}),(n,m)=>{const S=Me,q=Re,ye=be("click-outside");return G((c(),p("div",{class:N(["text-editor",{"has-editor-focus":e.focusHeight>0,"is-focus":r(f)}])},[G(t("textarea",{ref_key:"textarea",ref:C,"onUpdate:modelValue":m[0]||(m[0]=B=>r(y).content=B),placeholder:n.$t("component.textEditor.placeholder"),onPaste:o,onDrop:v,onKeydown:[oe(le(_,["ctrl"]),["enter"]),oe(le(_,["meta"]),["enter"])],onFocus:F,onInput:V},null,40,Ne),[[we,r(y).content]]),G(t("div",{ref_key:"imageUploaderContainer",ref:I,class:"text-editor-image-uploader"},[w(S,{ref_key:"imageUploader",ref:k,modelValue:r(y).imageList,"onUpdate:modelValue":m[1]||(m[1]=B=>r(y).imageList=B),"on-upload":r(L),"onUpdate:onUpload":m[2]||(m[2]=B=>ee(L)?L.value=B:null),size:"60px"},null,8,["modelValue","on-upload"])],512),[[xe,r(s)]]),t("div",ze,[t("div",Pe,[t("div",{class:N(["text-editor-action-item",{active:r(s)}]),onClick:j},[w(r(Ce),{class:"action-icon h-5 w-5"})],2)]),t("div",je,[w(q,{class:"h-6",disabled:e.disabled,onClick:_},{default:z(()=>[M(u(n.$t("component.textEditor.publish")),1)]),_:1},8,["disabled"])])])],2)),[[ye,g]])}}},ie=P(Fe,[["__scopeId","data-v-d4c98c8c"]]),Ae={class:"comment-form"},Oe={class:"comment-create"},Be={key:0,class:"comment-quote-info"},Xe=["textContent"],Je={__name:"CommentInput",props:{entityType:{type:String,required:!0},entityId:{type:String,required:!0}},emits:["created"],setup(e,{emit:a}){const{t:l}=te(),d=e,h=a,x=$(null),y=$(""),f=$(null),C=$(!1),s=$(null),k=$(null);let I=0;async function L(){const b=Date.now();if(!(b-I<500)){if(I=b,!y.value){ae(l("component.comment.input.pleaseInput"));return}if(!C.value){C.value=!0;try{const _=await D("/api/comment/create",H({contentType:d.contentType,entityType:d.entityType,entityId:d.entityId,content:y.value,imageList:f.value&&f.value.length?JSON.stringify(f.value):"",quoteId:s.value?s.value.id:""}));h("created",_),x.value.reset(),y.value="",f.value=[],s.value=null,re(l("component.comment.input.publishSuccess"))}catch(_){console.error(_),ae(_.message||_)}finally{C.value=!1}}}}function i(){s.value=null}return(b,_)=>{const o=ie;return c(),p("div",Ae,[t("div",Oe,[t("div",{ref_key:"commentEditor",ref:k,class:"comment-input-wrapper"},[r(s)?(c(),p("div",Be,[M(u(r(l)("component.comment.input.replyTo"))+" ",1),t("label",{textContent:u(r(s).user.nickname)},null,8,Xe),w(r(Ie),{class:"comment-quote-close h-3 w-3","aria-label":r(l)("component.comment.input.cancelReply"),onClick:i},null,8,["aria-label"])])):T("",!0),w(o,{ref_key:"textEditorRef",ref:x,content:r(y),"onUpdate:content":_[0]||(_[0]=v=>ee(y)?y.value=v:null),"image-list":r(f),"onUpdate:imageList":_[1]||(_[1]=v=>ee(f)?f.value=v:null),height:90,"focus-height":120,disabled:r(C),onSubmit:L},null,8,["content","image-list","disabled"])],512)])])}}},Ye=P(Je,[["__scopeId","data-v-79536a67"]]),Ke={components:{ChevronRight:Ue,MessageCircle:me,ThumbsUp:pe},props:{commentId:{type:Number,required:!0},data:{type:Object,required:!0}},data(){return{replies:this.data,reply:{quoteId:0,value:{content:"",imageList:[]}}}},computed:{user(){return ne().user}},methods:{async loadMore(){const e=await Le("/api/comment/replies",{params:{commentId:this.commentId,cursor:this.replies.cursor}});this.replies.cursor=e.cursor,this.replies.hasMore=e.hasMore,this.replies.results.push(...e.results)},async like(e){try{e.liked?(await D("/api/like/unlike",H({entityType:"comment",entityId:e.id})),e.liked=!1,e.likeCount=e.likeCount>0?e.likeCount-1:0):(await D("/api/like/like",H({entityType:"comment",entityId:e.id})),e.liked=!0,e.likeCount=e.likeCount+1)}catch(a){W(a)}},switchShowReply(e){if(!this.user){de();return}this.reply.quoteId===e.id?this.hideReply(e):(this.reply.quoteId=e.id,setTimeout(()=>{const a=this.$refs[`editor${e.id}`];a&&a.length>0&&a[0].focus()},100))},hideReply(e){this.reply.quoteId=0,this.reply.value.content="",this.reply.value.imageList=[]},async submitReply(e){try{const a=await D("/api/comment/create",H({entityType:"comment",entityId:this.commentId,quoteId:this.reply.quoteId,content:this.reply.value.content,imageList:this.reply.value.imageList&&this.reply.value.imageList.length?JSON.stringify(this.reply.value.imageList):""}));this.hideReply(e),this.$emit("reply",a)}catch(a){W(a)}},getImageUrls(e){return!e||!e.length?[]:e.map(a=>a.url)}}},We={class:"replies"},Ze={class:"comment-item-left"},Ge={class:"comment-item-main"},Qe={class:"comment-meta"},et={class:"comment-time"},tt={class:"comment-content-wrapper"},nt={key:0,class:"comment-content content"},st=["textContent"],it={key:1,class:"comment-image-list"},ot={key:2,class:"comment-quote"},lt=["innerHTML"],at={key:0,class:"comment-quote-image-list"},ct=["src"],rt={class:"comment-actions"},ut=["onClick"],dt={key:0},mt=["onClick"],pt={key:0,class:"comment-reply-form"},ht={key:0,class:"comment-more"};function yt(e,a,l,d,h,x){const y=se,f=Z,C=he,s=Q("ThumbsUp"),k=Q("MessageCircle"),I=ie,L=Q("ChevronRight");return c(),p("div",We,[(c(!0),p(E,null,J(h.replies.results,i=>(c(),p("div",{key:i.id,class:"comment"},[t("div",Ze,[w(y,{user:i.user,size:24},null,8,["user"])]),t("div",Ge,[t("div",Qe,[t("div",null,[w(f,{to:`/user/${i.user.id}`,class:"comment-nickname"},{default:z(()=>[M(u(i.user.nickname),1)]),_:2},1032,["to"]),i.quote?(c(),p(E,{key:0},[a[3]||(a[3]=M("  ",-1)),t("span",null,u(e.$t("component.comment.subList.replyTo")),1),a[4]||(a[4]=M("  ",-1)),w(f,{to:`/user/${i.quote.user.id}`,class:"comment-nickname"},{default:z(()=>[M(u(i.quote.user.nickname),1)]),_:2},1032,["to"])],64)):T("",!0)]),t("time",et,u(("usePrettyDate"in e?e.usePrettyDate:r(ue))(i.createTime)),1)]),t("div",tt,[i.content?(c(),p("div",nt,[t("div",{textContent:u(i.content)},null,8,st)])):T("",!0),i.imageList&&i.imageList.length?(c(),p("div",it,[(c(!0),p(E,null,J(i.imageList,(b,_)=>(c(),K(C,{key:_,src:b.url,"initial-index":_,"preview-src-list":x.getImageUrls(i.imageList)},null,8,["src","initial-index","preview-src-list"]))),128))])):T("",!0),i.quote?(c(),p("div",ot,[t("div",{class:"comment-quote-content content",innerHTML:i.quote.content},null,8,lt),i.quote.imageList&&i.quote.imageList.length?(c(),p("div",at,[(c(!0),p(E,null,J(i.imageList,(b,_)=>(c(),p("img",{key:_,src:b.url},null,8,ct))),128))])):T("",!0)])):T("",!0)]),t("div",rt,[t("div",{class:N(["comment-action-item",{active:i.liked}]),onClick:b=>x.like(i)},[w(s,{class:"h-[11px] w-[11px]"}),t("span",null,u(i.liked?e.$t("component.comment.subList.liked"):e.$t("component.comment.subList.like")),1),i.likeCount>0?(c(),p("span",dt,u(i.likeCount),1)):T("",!0)],10,ut),t("div",{class:N(["comment-action-item",{active:h.reply.quoteId===i.id}]),onClick:b=>x.switchShowReply(i)},[w(k,{class:"h-[11px] w-[11px]"}),t("span",null,u(h.reply.quoteId===i.id?e.$t("component.comment.subList.cancelReply"):e.$t("component.comment.subList.reply")),1)],10,mt)]),h.reply.quoteId===i.id?(c(),p("div",pt,[w(I,{ref_for:!0,ref:`editor${i.id}`,content:h.reply.value.content,"onUpdate:content":a[0]||(a[0]=b=>h.reply.value.content=b),"image-list":h.reply.value.imageList,"onUpdate:imageList":a[1]||(a[1]=b=>h.reply.value.imageList=b),height:80,onSubmit:b=>x.submitReply(i)},null,8,["content","image-list","onSubmit"])])):T("",!0)])]))),128)),h.replies.hasMore===!0?(c(),p("div",ht,[t("a",{onClick:a[2]||(a[2]=(...i)=>x.loadMore&&x.loadMore(...i))},[t("span",null,u(e.$t("component.comment.subList.loadMore")),1),w(L,{class:"more-icon h-[13px] w-[13px]"})])])):T("",!0)])}const ft=Object.assign(P(Ke,[["render",yt],["__scopeId","data-v-230de3f8"]]),{__name:"CommentSubList"}),vt={class:"comments"},_t={class:"comment-item-left"},gt={class:"comment-item-main"},kt={class:"comment-meta"},bt={class:"comment-meta-right"},wt={class:"comment-time"},xt={key:0,class:"comment-ip-area"},Ct={class:"comment-content-wrapper"},$t=["textContent"],It=["innerHTML"],Lt={key:1,class:"comment-image-list"},Tt={class:"comment-actions"},St=["onClick"],qt={key:0},Mt=["onClick"],Rt={key:0,class:"comment-reply-form"},Ut={__name:"CommentList",props:{entityType:{type:String,required:!0},entityId:{type:String,required:!0}},setup(e,{expose:a}){const{t:l}=te(),d=Te({commentId:0,value:{content:"",imageList:[]}}),h=$({}),x=ne(),y=$(null),f=o=>{y.value&&y.value.refresh()},C=async o=>{try{o.liked?(await D("/api/like/unlike",H({entityType:"comment",entityId:o.id})),o.liked=!1,o.likeCount=o.likeCount>0?o.likeCount-1:0):(await D("/api/like/like",H({entityType:"comment",entityId:o.id})),o.liked=!0,o.likeCount=o.likeCount+1)}catch(v){W(v)}},s=o=>{if(!x.user){de();return}d.commentId===o.id?I():(d.commentId=o.id,setTimeout(()=>{const v=h.value[`editor${o.id}`];v&&typeof v.focus=="function"?v.focus():console.warn(`Editor with id editor${o.id} not found.`)},100))},k=o=>v=>{v&&(h.value[`editor${o}`]=v)},I=o=>{d.commentId=0,d.value.content="",d.value.imageList=[]},L=async o=>{try{const v=await D("/api/comment/create",H({entityType:"comment",entityId:o.id,content:d.value.content,imageList:d.value.imageList&&d.value.imageList.length?JSON.stringify(d.value.imageList):""}));I(),b(o,v),re(l("component.comment.list.publishSuccess"))}catch(v){W(v)}},i=(o,v)=>{b(o,v)},b=(o,v)=>{o.replies&&o.replies.results?o.replies.results.push(v):o.replies={results:[v]}},_=o=>!o||!o.length?[]:o.map(v=>v.url);return a({append:f}),(o,v)=>{const j=se,U=Z,F=he,g=ie,A=ft,O=Ee;return c(),p("div",vt,[w(O,{ref_key:"loadMore",ref:y,params:{entityType:e.entityType,entityId:e.entityId},url:"/api/comment/comments"},{default:z(({results:V})=>[(c(!0),p(E,null,J(V,n=>(c(),p("div",{key:n.id,class:"comment"},[t("div",_t,[w(j,{user:n.user,size:30},null,8,["user"])]),t("div",gt,[t("div",kt,[w(U,{to:`/user/${n.user.id}`,class:"comment-nickname"},{default:z(()=>[M(u(n.user.nickname),1)]),_:2},1032,["to"]),t("div",bt,[t("time",wt,u(("usePrettyDate"in o?o.usePrettyDate:r(ue))(n.createTime)),1),n.ipLocation?(c(),p("span",xt,u(r(l)("component.comment.list.ipLocation"))+u(n.ipLocation),1)):T("",!0)])]),t("div",Ct,[n.content?(c(),p(E,{key:0},[n.contentType==="text"?(c(),p("div",{key:0,class:"comment-content content",textContent:u(n.content)},null,8,$t)):(c(),p("div",{key:1,class:"comment-content content",innerHTML:n.content},null,8,It))],64)):T("",!0),n.imageList&&n.imageList.length?(c(),p("div",Lt,[(c(!0),p(E,null,J(n.imageList,(m,S)=>(c(),K(F,{key:S,src:m.url,"initial-index":S,"preview-src-list":_(n.imageList)},null,8,["src","initial-index","preview-src-list"]))),128))])):T("",!0)]),t("div",Tt,[t("div",{class:N(["comment-action-item",{active:n.liked}]),onClick:m=>C(n)},[w(r(pe),{class:"h-3 w-3"}),t("span",null,u(n.liked?r(l)("component.comment.list.liked"):r(l)("component.comment.list.like")),1),n.likeCount>0?(c(),p("span",qt,u(n.likeCount),1)):T("",!0)],10,St),t("div",{class:N(["comment-action-item",{active:r(d).commentId===n.id}]),onClick:m=>s(n)},[w(r(me),{class:"h-3 w-3"}),t("span",null,u(r(d).commentId===n.id?r(l)("component.comment.list.cancelReply"):r(l)("component.comment.list.reply")),1)],10,Mt)]),r(d).commentId===n.id?(c(),p("div",Rt,[w(g,{ref_for:!0,ref:k(n.id),content:r(d).value.content,"onUpdate:content":v[0]||(v[0]=m=>r(d).value.content=m),"image-list":r(d).value.imageList,"onUpdate:imageList":v[1]||(v[1]=m=>r(d).value.imageList=m),height:80,onSubmit:m=>L(n)},null,8,["content","image-list","onSubmit"])])):T("",!0),n.replies&&n.replies.results&&n.replies.results.length?(c(),K(A,{key:1,"comment-id":n.id,data:n.replies,onReply:m=>i(n,m)},null,8,["comment-id","data","onReply"])):T("",!0)])]))),128))]),_:1},8,["params"])])}}},Et=P(Ut,[["__scopeId","data-v-cdace1c0"]]),Vt={id:"JComment",class:"comment-component"},Dt={class:"comment-header"},Ht={key:0},Nt={key:0,class:"comment-not-login"},zt={class:"comment-login-div"},Pt={key:1,class:"comment-not-login"},jt={class:"comment-login-div"},Ft={__name:"Comment",props:{entityType:{type:String,required:!0},entityId:{type:String,required:!0},commentCount:{type:Number,default:0}},emits:["created"],setup(e,{emit:a}){const l=a,d=ne(),h=Se(),x=Y(()=>d.isLogin),y=$(null),f=$(null),C=Y(()=>h.config.createCommentEmailVerified&&!d.user.emailVerified),s=k=>{f.value.append(k),l("created",k)};return(k,I)=>{const L=Z,i=Ye,b=Et;return c(),p("div",Vt,[t("div",Dt,[t("span",null,u(k.$t("component.comment.title")),1),e.commentCount>0?(c(),p("span",Ht," "+u(e.commentCount),1)):T("",!0)]),r(x)?(c(),p(E,{key:0},[r(C)?(c(),p("div",Nt,[t("div",zt,[M(u(k.$t("component.comment.emailVerifyPrompt"))+" ",1),w(L,{to:"/user/profile/account"},{default:z(()=>[M(u(k.$t("component.comment.accountSettingsLink")),1)]),_:1}),M(u(k.$t("component.comment.emailVerifyAction")),1)])])):(c(),K(i,{key:1,ref_key:"input",ref:y,"entity-id":e.entityId,"entity-type":e.entityType,onCreated:s},null,8,["entity-id","entity-type"]))],64)):(c(),p("div",Pt,[t("div",jt,[t("a",{onClick:I[0]||(I[0]=_=>("useToSignIn"in k?k.useToSignIn:r(qe))())},u(k.$t("component.comment.loginLink")),1)])])),w(b,{ref_key:"list",ref:f,"entity-id":e.entityId,"entity-type":e.entityType},null,8,["entity-id","entity-type"])])}}},ln=P(Ft,[["__scopeId","data-v-ed5dc3ae"]]),At={class:"user-simple"},Ot={class:"base-info"},Bt={class:"nickname"},Xt={class:"description"},Jt={class:"extra-info"},Yt={class:"extra-data"},Kt={__name:"UserInfo",props:{user:{type:Object,required:!0}},setup(e){return(a,l)=>{const d=se,h=Z;return c(),p("div",At,[t("div",Ot,[w(d,{user:e.user,size:80,"extra-style":{margin:"0 auto"}},null,8,["user"]),t("div",Bt,[w(h,{to:`/user/${e.user.id}`,alt:e.user.nickname},{default:z(()=>[M(u(e.user.nickname),1)]),_:1},8,["to","alt"])]),t("div",Xt,u(e.user.description),1)]),t("div",Jt,[t("ul",Yt,[t("li",null,[t("span",null,u(a.$t("component.userInfo.level")),1),l[0]||(l[0]=t("br",null,null,-1)),t("b",null,u(e.user.level),1)]),t("li",null,[t("span",null,u(a.$t("component.userInfo.score")),1),l[1]||(l[1]=t("br",null,null,-1)),t("b",null,u(e.user.score),1)]),t("li",null,[t("span",null,u(a.$t("component.userInfo.topicCount")),1),l[2]||(l[2]=t("br",null,null,-1)),t("b",null,u(e.user.topicCount),1)]),t("li",null,[t("span",null,u(a.$t("component.userInfo.commentCount")),1),l[3]||(l[3]=t("br",null,null,-1)),t("b",null,u(e.user.commentCount),1)])])])])}}},an=P(Kt,[["__scopeId","data-v-0a13e669"]]);export{on as E,he as _,ln as a,an as b};
