import{_ as v,a as g}from"./BHlYvgvh.js";import{_ as h}from"./COnyVYXM.js";import{_ as $}from"./qdLMPJJp.js";import{u as k,a as w,q as A,o as i,c as o,b as N,e as a,d as c,w as l,f as n,t,s as u,j as V,z as b,Q as B}from"./BqKV1jHe.js";import{u as S}from"./DjqtQ0rA.js";import"./CDN07tui.js";import"./B_DlFklR.js";const T={class:"main"},U={class:"container"},q={key:0,class:"main-body no-bg"},C={key:0},D={key:1},E={key:0,class:"has-text-danger"},x={__name:"verify",setup(H){const{t:m}=k();w({title:S(m("user.email.verify.title"))});const e=B({loading:!0,success:!1,email:"",message:""}),_=async()=>{const s=V();try{const r=await b(`/api/user/verify_email?token=${s.query.token}`);e.success=!0,e.email=r.email}catch(r){e.success=!1,e.message=r.message||""}finally{e.loading=!1}};return A(()=>{_()}),(s,r)=>{const f=h,d=$,p=v,y=g;return i(),o("section",T,[N("div",U,[a(e).loading?u("",!0):(i(),o("div",q,[c(y,{variant:a(e).success?"":"destructive"},{default:l(()=>[c(f,null,{default:l(()=>[n(t(s.$t("user.email.verify.title")),1)]),_:1}),c(p,null,{default:l(()=>[a(e).success?(i(),o("div",C,t(s.$t("user.email.verify.success",{email:a(e).email})),1)):(i(),o("div",D,[n(t(s.$t("user.email.verify.failed")),1),a(e).message?(i(),o("span",E," "+t(s.$t("user.email.verify.reason",{reason:a(e).message})),1)):u("",!0),n(t(s.$t("user.email.verify.retryInstructions"))+" ",1),c(d,{to:"/user/profile/account",style:{"font-weight":"700"}},{default:l(()=>[n(t(s.$t("user.email.verify.accountSettings")),1)]),_:1}),n(" "+t(s.$t("user.email.verify.retryAction")),1)]))]),_:1})]),_:1},8,["variant"])]))])])}}};export{x as default};
