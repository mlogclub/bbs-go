import{_ as Pe}from"./Lz5MK4XN.js";import{_ as Le}from"./Dfyc52rC.js";import{_ as Ie}from"./Bqo_PpTz.js";import{_ as Ae}from"./DepVQ0hq.js";import{a as Ee,_ as ze}from"./BHlYvgvh.js";import{m as K,W as O,a5 as ge,o as m,h as g,w as r,a6 as Q,e,s as S,a7 as Y,R as be,D as G,d as l,Z as Me,a4 as De,n as q,b as s,_ as Fe,u as je,p as ee,ah as Ge,g as Ne,af as Te,c as A,t as o,F as se,r as ue,v as D,ae as He,f as u,J as Ke,x as Oe,$ as We,K as Je,z as pe}from"./BqKV1jHe.js";import{_ as Qe}from"./CGCSZgC7.js";import{a as he}from"./BVwgWqD4.js";import{c as ye}from"./C7TzAs_Y.js";import{u as Ye}from"./C_7uZ5Li.js";import{u as _e}from"./dLNci5L_.js";import{u as we,b as ae,d as ce}from"./BMShvsNX.js";import{P as re}from"./DyiL-6dj.js";import{R as Ze}from"./BCsqqNvW.js";import{V as ke}from"./DHvowL4P.js";import{c as $e}from"./CDN07tui.js";import{r as xe}from"./DM7nVvhd.js";import{R as Xe}from"./BZNjAk5R.js";import{h as es}from"./CcFcSr0Z.js";import{P as ss}from"./C-WSYw8B.js";import{s as as}from"./szwiUOp1.js";import{L as le}from"./BMdI75oG.js";import{C as oe}from"./8kSMhTPi.js";import{C as ie}from"./DAfd8UvH.js";import{S as ts}from"./Dl7bMbJu.js";import"./B_DlFklR.js";import"./wswtc-47.js";import"./ByVerKeN.js";import"./FUKBWQwh.js";import"./hn3dWTqe.js";const J=K("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const me=K("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const ls=K("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const os=K("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);const is=K("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const rs=K("shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]),ns="radio.select";function ds(V,h,c){es(ns,c,{originalEvent:V,value:h})}var us=O({__name:"Radio",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},checked:{type:Boolean,required:!1,default:void 0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:checked","select"],setup(V,{emit:h}){const c=V,n=h,w=we(c,"checked",n,{passive:c.checked===void 0}),{value:C}=ge(c),{forwardRef:b,currentElement:f}=ae(),y=_e(f),i=G(()=>c.id&&f.value?document.querySelector(`[for="${c.id}"]`)?.innerText??c.value:void 0);function _(p){c.disabled||ds(p,c.value,k=>{n("select",k),!k?.defaultPrevented&&(w.value=!0,y.value&&k.stopPropagation())})}return(p,k)=>(m(),g(e(re),Y(p.$attrs,{id:p.id,ref:e(b),role:"radio",type:p.as==="button"?"button":void 0,as:p.as,"aria-checked":e(w),"aria-label":i.value,"as-child":p.asChild,disabled:p.disabled?"":void 0,"data-state":e(w)?"checked":"unchecked","data-disabled":p.disabled?"":void 0,value:e(C),required:p.required,name:p.name,onClick:be(_,["stop"])}),{default:r(()=>[Q(p.$slots,"default",{checked:e(w)}),e(y)&&p.name?(m(),g(e(ke),{key:0,type:"radio",tabindex:"-1",value:e(C),checked:!!e(w),name:p.name,disabled:p.disabled,required:p.required},null,8,["value","checked","name","disabled","required"])):S("v-if",!0)]),_:3},16,["id","type","as","aria-checked","aria-label","as-child","disabled","data-state","data-disabled","value","required","name"]))}}),ps=us;const[cs,ms]=ye("RadioGroupRoot");var fs=O({__name:"RadioGroupRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(V,{emit:h}){const c=V,n=h,{forwardRef:w,currentElement:C}=ae(),b=we(c,"modelValue",n,{defaultValue:c.defaultValue,passive:c.modelValue===void 0}),{disabled:f,loop:y,orientation:i,name:_,required:p,dir:k}=ge(c),R=Ye(k),P=_e(C);return ms({modelValue:b,changeModelValue:L=>{b.value=L},disabled:f,loop:y,orientation:i,name:_?.value,required:p}),(L,x)=>(m(),g(e(Ze),{"as-child":"",orientation:e(i),dir:e(R),loop:e(y)},{default:r(()=>[l(e(re),{ref:e(w),role:"radiogroup","data-disabled":e(f)?"":void 0,"as-child":L.asChild,as:L.as,"aria-orientation":e(i),"aria-required":e(p),dir:e(R)},{default:r(()=>[Q(L.$slots,"default",{modelValue:e(b)}),e(P)&&e(_)?(m(),g(e(ke),{key:0,required:e(p),disabled:e(f),value:e(b),name:e(_)},null,8,["required","disabled","value","name"])):S("v-if",!0)]),_:3},8,["data-disabled","as-child","as","aria-orientation","aria-required","dir"])]),_:3},8,["orientation","dir","loop"]))}}),vs=fs;const[gs,bs]=ye("RadioGroupItem");var hs=O({inheritAttrs:!1,__name:"RadioGroupItem",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["select"],setup(V,{emit:h}){const c=V,n=h,{forwardRef:w,currentElement:C}=ae(),b=cs(),f=G(()=>b.disabled.value||c.disabled),y=G(()=>b.required.value||c.required),i=G(()=>De(b.modelValue?.value,c.value));bs({disabled:f,checked:i});const _=q(!1),p=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];ce("keydown",R=>{p.includes(R.key)&&(_.value=!0)}),ce("keyup",()=>{_.value=!1});function k(){setTimeout(()=>{_.value&&C.value?.click()},0)}return(R,P)=>(m(),g(e(Xe),{checked:i.value,disabled:f.value,"as-child":"",focusable:!f.value,active:i.value},{default:r(()=>[l(ps,Y({...R.$attrs,...c},{ref:e(w),checked:i.value,required:y.value,disabled:f.value,"onUpdate:checked":P[0]||(P[0]=L=>e(b).changeModelValue(R.value)),onSelect:P[1]||(P[1]=L=>n("select",L)),onKeydown:P[2]||(P[2]=Me(be(()=>{},["prevent"]),["enter"])),onFocus:k}),{default:r(()=>[Q(R.$slots,"default",{checked:i.value,required:y.value,disabled:f.value})]),_:3},16,["checked","required","disabled"])]),_:3},8,["checked","disabled","focusable","active"]))}}),ys=hs,_s=O({__name:"RadioGroupIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(V){const{forwardRef:h}=ae(),c=gs();return(n,w)=>(m(),g(e(ss),{present:n.forceMount||e(c).checked.value},{default:r(()=>[l(e(re),Y({ref:e(h),"data-state":e(c).checked.value?"checked":"unchecked","data-disabled":e(c).disabled.value?"":void 0,"as-child":n.asChild,as:n.as},n.$attrs),{default:r(()=>[Q(n.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),ws=_s;const ks=O({__name:"RadioGroup",props:{modelValue:{},defaultValue:{},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(V,{emit:h}){const c=V,n=h,w=xe(c,"class"),C=he(w,n);return(b,f)=>(m(),g(e(vs),Y({"data-slot":"radio-group"},e(C),{class:e($e)("grid gap-2",c.class)}),{default:r(()=>[Q(b.$slots,"default")]),_:3},16,["class"]))}}),fe=O({__name:"RadioGroupItem",props:{id:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["select"],setup(V,{emit:h}){const c=V,n=h,w=xe(c,"class"),C=he(w,n);return(b,f)=>(m(),g(e(ys),Y({"data-slot":"radio-group-item"},e(C),{class:e($e)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",c.class)}),{default:r(()=>[l(e(ws),{class:"flex items-center justify-center"},{default:r(()=>[...f[0]||(f[0]=[s("span",{class:"h-2.5 w-2.5 rounded-full bg-primary"},null,-1)])]),_:1})]),_:1},16,["class"]))}}),$s={class:"min-h-screen flex justify-center items-start p-4 pt-10 bg-slate-50 page-glow"},xs={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm"},qs={class:"flex items-center space-x-3 text-white text-sm font-medium"},Cs={class:"w-full max-w-5xl"},Vs={class:"text-center mb-5"},Rs={class:"text-3xl font-bold text-gray-900 mb-2"},Us={class:"flex justify-center mb-6"},Bs={class:"flex items-start"},Ss={class:"flex flex-col items-center text-center w-20"},Ps={key:1},Ls={class:"mt-2 text-xs font-medium text-gray-600 leading-tight"},Is={class:"space-y-3"},As={class:"text-center"},Es={class:"text-2xl font-semibold text-gray-900 mb-3"},zs={class:"text-gray-600 mb-4"},Ms={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},Ds={class:"font-medium text-blue-900 mb-2.5"},Fs={class:"space-y-2 text-blue-800"},js={class:"flex items-center"},Gs={class:"flex items-center"},Ns={class:"flex items-center"},Ts={class:"bg-gray-50 border border-gray-200 rounded-lg p-4"},Hs={class:"font-medium text-gray-900 mb-2.5"},Ks={class:"text-gray-600 mb-3"},Os={class:"text-gray-800 font-medium"},Ws={class:"text-gray-800 font-medium"},Js={class:"flex justify-end"},Qs={class:"space-y-3"},Ys={class:"text-center"},Zs={class:"text-2xl font-semibold text-gray-900 mb-3"},Xs={class:"text-gray-600"},ea={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},sa={class:"space-y-2 md:col-span-2"},aa={class:"flex items-center space-x-3"},ta={class:"space-y-2"},la={class:"text-xs text-gray-500"},oa={class:"space-y-2"},ia={class:"space-y-2"},ra={class:"space-y-2"},na={class:"space-y-2 md:col-span-2"},da={key:1,class:"space-y-3 md:col-span-2"},ua={class:"text-sm text-gray-600"},pa={class:"min-h-[48px] space-y-2"},ca={class:"flex justify-between"},ma={class:"flex space-x-3"},fa={class:"space-y-3"},va={class:"text-center"},ga={class:"text-2xl font-semibold text-gray-900 mb-3"},ba={class:"text-gray-600"},ha={class:"space-y-3"},ya={class:"space-y-2"},_a={class:"space-y-2"},wa=["placeholder"],ka={class:"space-y-2"},$a={class:"min-h-[48px]"},xa={class:"flex justify-between"},qa={class:"space-y-3"},Ca={class:"text-center"},Va={class:"text-2xl font-semibold text-gray-900 mb-3"},Ra={class:"text-gray-600"},Ua={class:"space-y-3"},Ba={class:"space-y-2"},Sa={class:"space-y-2"},Pa={class:"space-y-2"},La={class:"space-y-2"},Ia={class:"flex items-center justify-between"},Aa={class:"flex items-center gap-3"},Ea={class:"h-16 w-16 rounded-full overflow-hidden border-2 border-primary/60 shadow-sm"},za=["src"],Ma={class:"text-sm text-gray-600"},Da={class:"grid grid-cols-8 sm:grid-cols-10 gap-2 max-h-56 overflow-y-auto p-3 border rounded-xl bg-gray-50"},Fa=["onClick"],ja=["src","alt"],Ga={class:"min-h-[48px]"},Na={class:"flex justify-between"},Ta={class:"space-y-3"},Ha={class:"text-center"},Ka={class:"text-2xl font-semibold text-gray-900 mb-3"},Oa={class:"text-gray-600"},Wa={class:"space-y-3"},Ja={class:"text-center"},Qa={class:"text-sm font-medium text-gray-700"},Ya={class:"space-y-3 text-center"},Za={class:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center"},Xa={class:"text-2xl font-semibold text-gray-900 mb-4"},et={class:"text-gray-600 mb-6"},st={class:"text-gray-600"},at={class:"flex justify-center space-x-4"},tt={href:"/"},lt={href:"/admin"},ve=128,ot="/res/images/avatars",it={__name:"index",async setup(V){let h,c;const{t:n,setLocale:w}=je(),C=[{key:"welcome",title:n("pages.install.step.welcome")},{key:"database",title:n("pages.install.step.database")},{key:"site",title:n("pages.install.step.site")},{key:"admin",title:n("pages.install.step.admin")},{key:"install",title:n("pages.install.step.install")},{key:"complete",title:n("pages.install.step.complete")}],b=G(()=>C.findIndex(t=>t.key===f.value)),f=q("welcome"),y=q("en-US");ee(y,async t=>{await w(t)});const i=q({type:"mysql",host:"localhost",port:"3306",database:"",username:"",password:""}),_=q(""),p=q(!1),k=q(""),R=G(()=>i.value.type==="sqlite"?!0:i.value.host&&i.value.port&&i.value.database&&i.value.username),P=()=>R.value?!0:(_.value=n("pages.install.database.validationError"),k.value="",!1);ee([()=>i.value.type,()=>i.value.host,()=>i.value.port,()=>i.value.database,()=>i.value.username],()=>{R.value&&(_.value="")});const L=Ge(),x=q({title:"",description:"",baseURL:L.origin||"/"}),F=q(""),te=()=>x.value.title?x.value.baseURL?(F.value="",!0):(F.value=n("pages.install.site.baseURLValidationError"),!1):(F.value=n("pages.install.site.validationError"),!1);ee([()=>x.value.title,()=>x.value.baseURL],([t,a])=>{t&&a&&(F.value="")});const v=q({username:"",password:"",passwordConfirm:""}),ne=Array.from({length:ve},(t,a)=>`${ot}/${a}.png`),de=()=>ne[Math.floor(Math.random()*ve)],W=q(de()),qe=t=>{W.value=t},Ce=()=>{W.value=de()},E=q(""),Z=()=>v.value.username?v.value.password?v.value.passwordConfirm?v.value.password!==v.value.passwordConfirm?(E.value=n("pages.install.admin.passwordMismatchError"),!1):(E.value="",!0):(E.value=n("pages.install.admin.confirmPasswordError"),!1):(E.value=n("pages.install.admin.passwordError"),!1):(E.value=n("pages.install.admin.usernameError"),!1);ee([()=>v.value.username,()=>v.value.password,()=>v.value.passwordConfirm],()=>{v.value.username&&v.value.password&&v.value.passwordConfirm&&v.value.password===v.value.passwordConfirm&&(E.value="")});const z=q(0),M=q({message:n("pages.install.install.preparing"),type:"is-info"}),X=q(!1),Ve=G(()=>p.value||X.value),{data:Re}=([h,c]=Ne(()=>Je("/api/install/status")),h=await h,c(),h);Re.value.installed&&Te().push("/");const N=async t=>{if(t==="site"&&f.value==="database"){if(!P())return;_.value="",k.value="",p.value=!0;try{await pe("/api/install/test_db_connection",{type:i.value.type,host:i.value.host,port:i.value.port,database:i.value.database,username:i.value.username,password:i.value.password,path:i.value.path,inMemory:i.value.inMemory}),k.value=n("pages.install.database.connectSuccess"),p.value=!1,f.value=t}catch(a){_.value=a.message?n("pages.install.database.connectFailed")+": "+a.message:n("pages.install.database.connectFailed"),p.value=!1;return}return}if(t==="admin"&&f.value==="site"){if(!te())return;F.value=""}f.value=t},Ue=async()=>{if(P()){_.value="",k.value="",p.value=!0;try{await pe("/api/install/test_db_connection",{type:i.value.type,host:i.value.host,port:i.value.port,database:i.value.database,username:i.value.username,password:i.value.password}),k.value=n("pages.install.database.connectSuccess")}catch(t){_.value=t.message?n("pages.install.database.connectFailed")+": "+t.message:n("pages.install.database.connectFailed")}finally{p.value=!1}}},Be=()=>{if(!Z())return;const t=x.value.baseURL.trim()||"/";X.value=!0,f.value="install";const a={siteTitle:x.value.title,siteDescription:x.value.description,baseURL:t,dbConfig:{type:i.value.type,host:i.value.host,port:i.value.port,database:i.value.database,username:i.value.username,password:i.value.password},username:v.value.username,password:v.value.password,avatar:W.value,language:y.value};z.value=10,M.value={message:n("pages.install.install.connecting"),type:"is-info"};const $=as(()=>{z.value<90&&(z.value+=5)},500);fetch("/api/install/install",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(U=>U.json()).then(U=>{clearInterval($),U.success?(z.value=100,M.value={message:n("pages.install.install.completed"),type:"is-info"},setTimeout(()=>{f.value="complete"},1e3)):(z.value=100,M.value={message:n("pages.install.install.failed")+": "+(U.message||n("pages.install.install.unknown")),type:"is-danger"}),X.value=!1}).catch(U=>{clearInterval($),z.value=100,M.value={message:n("pages.install.install.requestFailed")+": "+U,type:"is-danger"},X.value=!1})};return(t,a)=>{const $=Pe,U=Le,B=Ie,I=Ae,T=ze,H=Ee,Se=Qe;return m(),A("div",$s,[e(Ve)?(m(),A("div",xs,[s("div",qs,[l(e(le),{class:"w-5 h-5 animate-spin"}),s("span",null,o(e(p)?t.$t("pages.install.database.testing"):t.$t("pages.install.install.installing")),1)])])):S("",!0),s("div",Cs,[s("div",Vs,[s("h1",Rs,o(t.$t("pages.install.title")),1),a[22]||(a[22]=s("div",{class:"w-32 h-1.5 bg-primary mx-auto rounded-full"},null,-1))]),s("div",Us,[s("div",Bs,[(m(),A(se,null,ue(C,(d,j)=>(m(),A(se,{key:d.key},[s("div",Ss,[s("div",{class:D(["w-10 h-10 rounded-full flex items-center justify-center text-base font-semibold transition-all duration-300 ease-in-out",{"bg-primary text-primary-foreground scale-110 shadow-lg ring-4 ring-primary/20 pulse-glow":e(f)===d.key,"bg-green-500 text-white":j<e(b),"bg-gray-200 text-gray-600":j>e(b)}])},[j<e(b)?(m(),g(e(He),{key:0,class:"w-6 h-6"})):(m(),A("span",Ps,o(j+1),1))],2),s("div",Ls,o(d.title),1)]),j<C.length-1?(m(),A("div",{key:0,class:D(["w-12 h-1 mt-4 mx-2 rounded-full transition-all duration-300 ease-in-out",j<e(b)?"bg-green-500":"bg-gray-200"])},null,2)):S("",!0)],64))),64))])]),e(f)==="welcome"?(m(),g(U,{key:0,class:"p-4 md:p-5 bg-white/80 backdrop-blur-md shadow-lg rounded-2xl border card-animate"},{default:r(()=>[s("div",Is,[s("div",As,[s("h2",Es,o(t.$t("pages.install.step.welcome")),1),s("p",zs,o(t.$t("pages.install.welcome.description")),1)]),s("div",Ms,[s("h3",Ds,o(t.$t("pages.install.welcome.requirements.title")),1),s("ul",Fs,[s("li",js,[a[23]||(a[23]=s("div",{class:"w-2 h-2 bg-blue-500 rounded-full mr-3"},null,-1)),u(" "+o(t.$t("pages.install.welcome.requirements.mysql")),1)]),s("li",Gs,[a[24]||(a[24]=s("div",{class:"w-2 h-2 bg-blue-500 rounded-full mr-3"},null,-1)),u(" "+o(t.$t("pages.install.welcome.requirements.site")),1)]),s("li",Ns,[a[25]||(a[25]=s("div",{class:"w-2 h-2 bg-blue-500 rounded-full mr-3"},null,-1)),u(" "+o(t.$t("pages.install.welcome.requirements.admin")),1)])])]),s("div",Ts,[s("h3",Hs,o(t.$t("pages.install.language.title")),1),s("p",Ks,o(t.$t("pages.install.language.description")),1),l(e(ks),{modelValue:e(y),"onUpdate:modelValue":a[2]||(a[2]=d=>Ke(y)?y.value=d:null),class:"space-y-2","aria-label":"install language"},{default:r(()=>[s("div",{class:D(["flex items-center space-x-4 cursor-pointer p-3 rounded-lg border transition-colors hover:bg-gray-100/50",{"bg-primary/10 border-primary/50":e(y)==="en-US"}]),onClick:a[0]||(a[0]=d=>y.value="en-US")},[l(e(fe),{value:"en-US","aria-label":"English"}),s("span",Os,o(t.$t("pages.install.language.english")),1)],2),s("div",{class:D(["flex items-center space-x-4 cursor-pointer p-3 rounded-lg border transition-colors hover:bg-gray-100/50",{"bg-primary/10 border-primary/50":e(y)==="zh-CN"}]),onClick:a[1]||(a[1]=d=>y.value="zh-CN")},[l(e(fe),{value:"zh-CN","aria-label":"中文"}),s("span",Ws,o(t.$t("pages.install.language.chinese")),1)],2)]),_:1},8,["modelValue"])]),s("div",Js,[l($,{size:"lg",onClick:a[3]||(a[3]=d=>N("database"))},{default:r(()=>[u(o(t.$t("pages.install.buttons.next"))+" ",1),l(e(oe),{class:"w-4 h-4"})]),_:1})])])]),_:1})):S("",!0),e(f)==="database"?(m(),g(U,{key:1,class:"p-4 md:p-5 bg-white/80 backdrop-blur-md shadow-lg rounded-2xl border card-animate"},{default:r(()=>[s("div",Qs,[s("div",Ys,[s("h2",Zs,o(t.$t("pages.install.step.database")),1),s("p",Xs,o(t.$t("pages.install.database.description")),1)]),s("div",ea,[s("div",sa,[l(B,{class:"text-sm font-medium"},{default:r(()=>[u(o(t.$t("pages.install.database.type"))+" ",1),a[26]||(a[26]=s("span",{class:"text-red-500"},"*",-1))]),_:1}),s("div",aa,[l($,{size:"sm",variant:"outline",class:D(e(i).type==="mysql"?"bg-primary text-white":""),onClick:a[4]||(a[4]=d=>e(i).type="mysql")},{default:r(()=>[...a[27]||(a[27]=[u(" MySQL ",-1)])]),_:1},8,["class"]),l($,{size:"sm",variant:"outline",class:D(e(i).type==="sqlite"?"bg-primary text-white":""),onClick:a[5]||(a[5]=d=>e(i).type="sqlite")},{default:r(()=>[...a[28]||(a[28]=[u(" SQLite ",-1)])]),_:1},8,["class"])])]),e(i).type==="mysql"?(m(),A(se,{key:0},[s("div",ta,[l(B,{for:"db-host",class:"text-sm font-medium"},{default:r(()=>[u(o(t.$t("pages.install.database.host"))+" ",1),a[29]||(a[29]=s("span",{class:"text-red-500"},"*",-1))]),_:1}),l(I,{id:"db-host",modelValue:e(i).host,"onUpdate:modelValue":a[6]||(a[6]=d=>e(i).host=d),placeholder:t.$t("pages.install.database.hostPlaceholder"),required:""},null,8,["modelValue","placeholder"]),s("p",la,o(t.$t("pages.install.database.hostHelp")),1)]),s("div",oa,[l(B,{for:"db-port",class:"text-sm font-medium"},{default:r(()=>[u(o(t.$t("pages.install.database.port"))+" ",1),a[30]||(a[30]=s("span",{class:"text-red-500"},"*",-1))]),_:1}),l(I,{id:"db-port",modelValue:e(i).port,"onUpdate:modelValue":a[7]||(a[7]=d=>e(i).port=d),placeholder:t.$t("pages.install.database.portPlaceholder"),required:""},null,8,["modelValue","placeholder"])]),s("div",ia,[l(B,{for:"db-name",class:"text-sm font-medium"},{default:r(()=>[u(o(t.$t("pages.install.database.name"))+" ",1),a[31]||(a[31]=s("span",{class:"text-red-500"},"*",-1))]),_:1}),l(I,{id:"db-name",modelValue:e(i).database,"onUpdate:modelValue":a[8]||(a[8]=d=>e(i).database=d),placeholder:t.$t("pages.install.database.namePlaceholder"),required:""},null,8,["modelValue","placeholder"])]),s("div",ra,[l(B,{for:"db-user",class:"text-sm font-medium"},{default:r(()=>[u(o(t.$t("pages.install.database.username"))+" ",1),a[32]||(a[32]=s("span",{class:"text-red-500"},"*",-1))]),_:1}),l(I,{id:"db-user",modelValue:e(i).username,"onUpdate:modelValue":a[9]||(a[9]=d=>e(i).username=d),placeholder:t.$t("pages.install.database.usernamePlaceholder"),required:""},null,8,["modelValue","placeholder"])]),s("div",na,[l(B,{for:"db-password",class:"text-sm font-medium"},{default:r(()=>[u(o(t.$t("pages.install.database.password")),1)]),_:1}),l(I,{id:"db-password",modelValue:e(i).password,"onUpdate:modelValue":a[10]||(a[10]=d=>e(i).password=d),type:"password",placeholder:t.$t("pages.install.database.passwordPlaceholder")},null,8,["modelValue","placeholder"])])],64)):(m(),A("div",da,[l(H,{variant:"destructive",class:"border-amber-200 bg-amber-50 text-amber-900"},{default:r(()=>[l(e(J),{class:"h-4 w-4"}),l(T,null,{default:r(()=>[u(o(t.$t("pages.install.database.sqliteWarning")),1)]),_:1})]),_:1}),s("p",ua,o(t.$t("pages.install.database.sqliteAutoPath")),1)]))]),s("div",pa,[e(_)?(m(),g(H,{key:0,variant:"destructive"},{default:r(()=>[l(e(J),{class:"h-4 w-4"}),l(T,null,{default:r(()=>[u(o(e(_)),1)]),_:1})]),_:1})):e(k)?(m(),g(H,{key:1,variant:"default",class:"border-green-200 bg-green-50"},{default:r(()=>[l(e(me),{class:"h-4 w-4 text-green-600"}),l(T,{class:"text-green-800"},{default:r(()=>[u(o(e(k)),1)]),_:1})]),_:1})):S("",!0)]),s("div",ca,[l($,{variant:"outline",size:"lg",onClick:a[11]||(a[11]=d=>N("welcome"))},{default:r(()=>[l(e(ie),{class:"w-4 h-4 mr-2"}),u(" "+o(t.$t("pages.install.buttons.previous")),1)]),_:1}),s("div",ma,[l($,{variant:"secondary",disabled:e(p)||!e(R),size:"lg",onClick:Ue},{default:r(()=>[e(p)?(m(),g(e(le),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):(m(),g(e(ls),{key:1,class:"w-4 h-4 mr-2"})),u(" "+o(e(p)?t.$t("pages.install.database.testing"):t.$t("pages.install.database.testConnection")),1)]),_:1},8,["disabled"]),l($,{disabled:e(p)||!e(R),size:"lg",onClick:a[12]||(a[12]=d=>N("site"))},{default:r(()=>[u(o(t.$t("pages.install.buttons.next"))+" ",1),l(e(oe),{class:"w-4 h-4 ml-2"})]),_:1},8,["disabled"])])])])]),_:1})):S("",!0),e(f)==="site"?(m(),g(U,{key:2,class:"p-4 md:p-5 bg-white/80 backdrop-blur-md shadow-lg rounded-2xl border card-animate"},{default:r(()=>[s("div",fa,[s("div",va,[s("h2",ga,o(t.$t("pages.install.step.site")),1),s("p",ba,o(t.$t("pages.install.site.description")),1)]),s("div",ha,[s("div",ya,[l(B,{for:"site-name",class:"text-sm font-medium"},{default:r(()=>[u(o(t.$t("pages.install.site.title"))+" ",1),a[33]||(a[33]=s("span",{class:"text-red-500"},"*",-1))]),_:1}),l(I,{id:"site-name",modelValue:e(x).title,"onUpdate:modelValue":a[13]||(a[13]=d=>e(x).title=d),placeholder:t.$t("pages.install.site.titlePlaceholder"),required:"",onBlur:te},null,8,["modelValue","placeholder"])]),s("div",_a,[l(B,{for:"site-desc",class:"text-sm font-medium"},{default:r(()=>[u(o(t.$t("pages.install.site.siteDescription")),1)]),_:1}),Oe(s("textarea",{id:"site-desc","onUpdate:modelValue":a[14]||(a[14]=d=>e(x).description=d),rows:"3",placeholder:t.$t("pages.install.site.descriptionPlaceholder"),class:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},null,8,wa),[[We,e(x).description]])]),s("div",ka,[l(B,{for:"site-base-url",class:"text-sm font-medium"},{default:r(()=>[u(o(t.$t("pages.install.site.baseURL"))+" ",1),a[34]||(a[34]=s("span",{class:"text-red-500"},"*",-1))]),_:1}),l(I,{id:"site-base-url",modelValue:e(x).baseURL,"onUpdate:modelValue":a[15]||(a[15]=d=>e(x).baseURL=d),placeholder:t.$t("pages.install.site.baseURLPlaceholder"),required:"",onBlur:te},null,8,["modelValue","placeholder"])])]),s("div",$a,[e(F)?(m(),g(H,{key:0,variant:"destructive"},{default:r(()=>[l(e(J),{class:"h-4 w-4"}),l(T,null,{default:r(()=>[u(o(e(F)),1)]),_:1})]),_:1})):S("",!0)]),s("div",xa,[l($,{variant:"outline",size:"lg",onClick:a[16]||(a[16]=d=>N("database"))},{default:r(()=>[l(e(ie),{class:"w-4 h-4 mr-2"}),u(" "+o(t.$t("pages.install.buttons.previous")),1)]),_:1}),l($,{disabled:!e(x).title,size:"lg",onClick:a[17]||(a[17]=d=>N("admin"))},{default:r(()=>[u(o(t.$t("pages.install.buttons.next"))+" ",1),l(e(oe),{class:"w-4 h-4 ml-2"})]),_:1},8,["disabled"])])])]),_:1})):S("",!0),e(f)==="admin"?(m(),g(U,{key:3,class:"p-4 md:p-5 bg-white/80 backdrop-blur-md shadow-lg rounded-2xl border card-animate"},{default:r(()=>[s("div",qa,[s("div",Ca,[s("h2",Va,o(t.$t("pages.install.step.admin")),1),s("p",Ra,o(t.$t("pages.install.admin.description")),1)]),s("div",Ua,[s("div",Ba,[l(B,{for:"admin-username",class:"text-sm font-medium"},{default:r(()=>[u(o(t.$t("pages.install.admin.username"))+" ",1),a[35]||(a[35]=s("span",{class:"text-red-500"},"*",-1))]),_:1}),l(I,{id:"admin-username",modelValue:e(v).username,"onUpdate:modelValue":a[18]||(a[18]=d=>e(v).username=d),placeholder:t.$t("pages.install.admin.usernamePlaceholder"),required:"",onBlur:Z},null,8,["modelValue","placeholder"])]),s("div",Sa,[l(B,{for:"admin-password",class:"text-sm font-medium"},{default:r(()=>[u(o(t.$t("pages.install.admin.password"))+" ",1),a[36]||(a[36]=s("span",{class:"text-red-500"},"*",-1))]),_:1}),l(I,{id:"admin-password",modelValue:e(v).password,"onUpdate:modelValue":a[19]||(a[19]=d=>e(v).password=d),type:"password",placeholder:t.$t("pages.install.admin.passwordPlaceholder"),required:"",onBlur:Z},null,8,["modelValue","placeholder"])]),s("div",Pa,[l(B,{for:"admin-password-confirm",class:"text-sm font-medium"},{default:r(()=>[u(o(t.$t("pages.install.admin.confirmPassword"))+" ",1),a[37]||(a[37]=s("span",{class:"text-red-500"},"*",-1))]),_:1}),l(I,{id:"admin-password-confirm",modelValue:e(v).passwordConfirm,"onUpdate:modelValue":a[20]||(a[20]=d=>e(v).passwordConfirm=d),type:"password",placeholder:t.$t("pages.install.admin.confirmPasswordPlaceholder"),required:"",onBlur:Z},null,8,["modelValue","placeholder"])]),s("div",La,[s("div",Ia,[l(B,{class:"text-sm font-medium"},{default:r(()=>[u(o(t.$t("pages.install.admin.avatar")),1)]),_:1}),l($,{size:"sm",variant:"outline",onClick:Ce},{default:r(()=>[l(e(rs),{class:"w-4 h-4 mr-1"}),u(" "+o(t.$t("pages.install.admin.randomAvatar")),1)]),_:1})]),s("div",Aa,[s("div",Ea,[s("img",{src:e(W),alt:"selected avatar",class:"h-full w-full object-cover"},null,8,za)]),s("p",Ma,o(t.$t("pages.install.admin.avatarDescription")),1)]),s("div",Da,[(m(!0),A(se,null,ue(e(ne),d=>(m(),A("button",{key:d,type:"button",class:D(["relative h-12 w-12 aspect-square rounded-full overflow-hidden ring-2 transition hover:ring-primary/60 focus:outline-none flex items-center justify-center",[e(W)===d?"ring-2 ring-primary shadow-md bg-primary/15":"ring-gray-200 bg-white"]]),onClick:j=>qe(d)},[s("img",{src:d,alt:d,class:"h-full w-full object-cover"},null,8,ja)],10,Fa))),128))])])]),s("div",Ga,[e(E)?(m(),g(H,{key:0,variant:"destructive"},{default:r(()=>[l(e(J),{class:"h-4 w-4"}),l(T,null,{default:r(()=>[u(o(e(E)),1)]),_:1})]),_:1})):S("",!0)]),s("div",Na,[l($,{variant:"outline",size:"lg",onClick:a[21]||(a[21]=d=>N("site"))},{default:r(()=>[l(e(ie),{class:"w-4 h-4 mr-2"}),u(" "+o(t.$t("pages.install.buttons.previous")),1)]),_:1}),l($,{disabled:!e(v).username||!e(v).password||!e(v).passwordConfirm||e(v).password!==e(v).passwordConfirm,size:"lg",onClick:Be},{default:r(()=>[l(e(os),{class:"w-4 h-4 mr-2"}),u(" "+o(t.$t("pages.install.buttons.install")),1)]),_:1},8,["disabled"])])])]),_:1})):S("",!0),e(f)==="install"?(m(),g(U,{key:4,class:"p-4 md:p-5 bg-white/80 backdrop-blur-md shadow-lg rounded-2xl border card-animate"},{default:r(()=>[s("div",Ta,[s("div",Ha,[s("h2",Ka,o(t.$t("pages.install.step.install")),1),s("p",Oa,o(t.$t("pages.install.install.description")),1)]),s("div",Wa,[l(Se,{"model-value":e(z),class:"w-full"},null,8,["model-value"]),s("div",Ja,[s("span",Qa,o(e(z))+"% ",1)])]),l(H,{variant:e(M).type==="is-danger"?"destructive":"default",class:"border-blue-200 bg-blue-50"},{default:r(()=>[e(M).type==="is-info"?(m(),g(e(le),{key:0,class:"h-4 w-4 animate-spin"})):(m(),g(e(J),{key:1,class:"h-4 w-4"})),l(T,{class:D(e(M).type==="is-danger"?"text-red-800":"text-blue-800")},{default:r(()=>[u(o(e(M).message),1)]),_:1},8,["class"])]),_:1},8,["variant"])])]),_:1})):S("",!0),e(f)==="complete"?(m(),g(U,{key:5,class:"p-4 md:p-5 bg-white/80 backdrop-blur-md shadow-lg rounded-2xl border card-animate"},{default:r(()=>[s("div",Ya,[s("div",Za,[l(e(me),{class:"w-8 h-8 text-green-600"})]),s("div",null,[s("h2",Xa,o(t.$t("pages.install.step.complete")),1),s("p",et,o(t.$t("pages.install.complete.congratulations")),1),s("p",st,o(t.$t("pages.install.complete.description")),1)]),s("div",at,[l($,{variant:"outline",size:"lg","as-child":""},{default:r(()=>[s("a",tt,[l(e(is),{class:"w-4 h-4 mr-2"}),u(" "+o(t.$t("pages.install.complete.enterSite")),1)])]),_:1}),l($,{size:"lg","as-child":""},{default:r(()=>[s("a",lt,[l(e(ts),{class:"w-4 h-4 mr-2"}),u(" "+o(t.$t("pages.install.complete.enterAdmin")),1)])]),_:1})])])]),_:1})):S("",!0)])])}}},zt=Fe(it,[["__scopeId","data-v-4b80f28d"]]);export{zt as default};
