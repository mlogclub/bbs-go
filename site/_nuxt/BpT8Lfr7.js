import{b as q}from"./BVwgWqD4.js";import{u as I,b as y}from"./BMShvsNX.js";import{P as F}from"./C-WSYw8B.js";import{D as P,g as M,F as R,a as $,u as k}from"./DKk2Wjmd.js";import{g as B}from"./FUKBWQwh.js";import{u as E}from"./hn3dWTqe.js";import{W as g,a5 as h,a6 as m,e,n as C,q as K,o as c,h as v,w as f,d as w,a7 as _,s as N}from"./BqKV1jHe.js";import{c as S}from"./C7TzAs_Y.js";import{P as V}from"./DyiL-6dj.js";const[D,L]=S("DialogRoot");var T=g({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(d,{emit:u}){const a=d,t=I(a,"open",u,{defaultValue:a.defaultOpen,passive:a.open===void 0}),p=C(),i=C(),{modal:n}=h(a);return L({open:t,modal:n,openModal:()=>{t.value=!0},onOpenChange:s=>{t.value=s},onOpenToggle:()=>{t.value=!t.value},contentId:"",titleId:"",descriptionId:"",triggerElement:p,contentElement:i}),(s,o)=>m(s.$slots,"default",{open:e(t),close:()=>t.value=!1})}}),le=T,j=g({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(d,{emit:u}){const a=d,r=u,t=D(),{forwardRef:p,currentElement:i}=y();return t.titleId||=E(void 0,"reka-dialog-title"),t.descriptionId||=E(void 0,"reka-dialog-description"),K(()=>{t.contentElement=i,B()!==document.body&&(t.triggerElement.value=B())}),(n,s)=>(c(),v(e(R),{"as-child":"",loop:"",trapped:a.trapFocus,onMountAutoFocus:s[5]||(s[5]=o=>r("openAutoFocus",o)),onUnmountAutoFocus:s[6]||(s[6]=o=>r("closeAutoFocus",o))},{default:f(()=>[w(e(P),_({id:e(t).contentId,ref:e(p),as:n.as,"as-child":n.asChild,"disable-outside-pointer-events":n.disableOutsidePointerEvents,role:"dialog","aria-describedby":e(t).descriptionId,"aria-labelledby":e(t).titleId,"data-state":e(M)(e(t).open.value)},n.$attrs,{onDismiss:s[0]||(s[0]=o=>e(t).onOpenChange(!1)),onEscapeKeyDown:s[1]||(s[1]=o=>r("escapeKeyDown",o)),onFocusOutside:s[2]||(s[2]=o=>r("focusOutside",o)),onInteractOutside:s[3]||(s[3]=o=>r("interactOutside",o)),onPointerDownOutside:s[4]||(s[4]=o=>r("pointerDownOutside",o))}),{default:f(()=>[m(n.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),A=j,H=g({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(d,{emit:u}){const a=d,r=u,t=D(),p=q(r),{forwardRef:i,currentElement:n}=y();return $(n),(s,o)=>(c(),v(A,_({...a,...e(p)},{ref:e(i),"trap-focus":e(t).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:o[0]||(o[0]=l=>{l.defaultPrevented||(l.preventDefault(),e(t).triggerElement.value?.focus())}),onPointerDownOutside:o[1]||(o[1]=l=>{const O=l.detail.originalEvent,b=O.button===0&&O.ctrlKey===!0;(O.button===2||b)&&l.preventDefault()}),onFocusOutside:o[2]||(o[2]=l=>{l.preventDefault()})}),{default:f(()=>[m(s.$slots,"default")]),_:3},16,["trap-focus"]))}}),U=H,W=g({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(d,{emit:u}){const a=d,t=q(u);y();const p=D(),i=C(!1),n=C(!1);return(s,o)=>(c(),v(A,_({...a,...e(t)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:o[0]||(o[0]=l=>{l.defaultPrevented||(i.value||e(p).triggerElement.value?.focus(),l.preventDefault()),i.value=!1,n.value=!1}),onInteractOutside:o[1]||(o[1]=l=>{l.defaultPrevented||(i.value=!0,l.detail.originalEvent.type==="pointerdown"&&(n.value=!0));const O=l.target;e(p).triggerElement.value?.contains(O)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&n.value&&l.preventDefault()})}),{default:f(()=>[m(s.$slots,"default")]),_:3},16))}}),z=W,G=g({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(d,{emit:u}){const a=d,r=u,t=D(),p=q(r),{forwardRef:i}=y();return(n,s)=>(c(),v(e(F),{present:n.forceMount||e(t).open.value},{default:f(()=>[e(t).modal.value?(c(),v(U,_({key:0,ref:e(i)},{...a,...e(p),...n.$attrs}),{default:f(()=>[m(n.$slots,"default")]),_:3},16)):(c(),v(z,_({key:1,ref:e(i)},{...a,...e(p),...n.$attrs}),{default:f(()=>[m(n.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),ue=G,J=g({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(d){const u=D();return k(!0),y(),(a,r)=>(c(),v(e(V),{as:a.as,"as-child":a.asChild,"data-state":e(u).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:f(()=>[m(a.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),Q=J,X=g({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(d){const u=D(),{forwardRef:a}=y();return(r,t)=>e(u)?.modal.value?(c(),v(e(F),{key:0,present:r.forceMount||e(u).open.value},{default:f(()=>[w(Q,_(r.$attrs,{ref:e(a),as:r.as,"as-child":r.asChild}),{default:f(()=>[m(r.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):N("v-if",!0)}}),ie=X;export{le as D,ie as a,ue as b,D as i};
