import{j as c,C as u,u as l,q as d,o as g,c as m,b as p,E as n,L as _}from"./Ck7AnVGd.js";import{u as x}from"./BwikVJaQ.js";const f={class:"main"},w={__name:"weixin",setup(y){const s=c(),a=u(),{t:r}=l(),i=async()=>{const t=x({text:r("user.signin.weixinLoggingIn")});try{const{user:e,redirect:o}=await a.wxLogin({code:s.query.code||"",state:s.query.state||""});o?n(o):n(`/user/${e.id}`)}catch(e){_(e)}finally{t.close()}};return d(()=>{i()}),(t,e)=>(g(),m("section",f,[...e[0]||(e[0]=[p("div",{class:"container",style:{height:"300px"}},null,-1)])]))}};export{w as default};
