import{i as Q}from"./B1wiTl2V.js";import{t as X,h as Z,i as C,a as ee,b as q,o as te,k as ne,l as se}from"./DWG3xSCv.js";import{n as w,p as H,bf as re,S as F,D as O,ad as oe,M as _,aJ as P,W as k,o as M,h as N,w as $,a7 as x,e as S,N as ae,Q as Y,ac as ie,s as ue}from"./IMHBmAvM.js";import{h as j,i as le}from"./CcFcSr0Z.js";import{P as z}from"./DmwfaKwn.js";import{g}from"./FUKBWQwh.js";const ce=Z(()=>{const e=w(new Map),n=w(),t=O(()=>{for(const o of e.value.values())if(o)return!0;return!1}),s=Q({scrollBody:w(!0)}),u=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=n.value??"",n.value=void 0};return H(t,(o,d)=>{if(!C)return;if(!o){d&&u();return}n.value===void 0&&(n.value=document.body.style.overflow);const c=window.innerWidth-document.documentElement.clientWidth,f={padding:c,margin:0},v=s.scrollBody?.value?typeof s.scrollBody.value=="object"?re({padding:s.scrollBody.value.padding===!0?c:s.scrollBody.value.padding,margin:s.scrollBody.value.margin===!0?c:s.scrollBody.value.margin},f):f:{padding:0,margin:0};c>0&&(document.body.style.paddingRight=typeof v.padding=="number"?`${v.padding}px`:String(v.padding),document.body.style.marginRight=typeof v.margin=="number"?`${v.margin}px`:String(v.margin),document.documentElement.style.setProperty("--scrollbar-width",`${c}px`),document.body.style.overflow="hidden"),F(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function xe(e){const n=Math.random().toString(36).substring(2,7),t=ce();t.value.set(n,e??!1);const s=O({get:()=>t.value.get(n)??!1,set:u=>t.value.set(n,u)});return X(()=>{t.value.delete(n)}),s}var de=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},D=new WeakMap,L=new WeakMap,T={},A=0,V=function(e){return e&&(e.host||V(e.parentNode))},fe=function(e,n){return n.map(function(t){if(e.contains(t))return t;var s=V(t);return s&&e.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},ve=function(e,n,t,s){var u=fe(n,Array.isArray(e)?e:[e]);T[t]||(T[t]=new WeakMap);var o=T[t],d=[],c=new Set,f=new Set(u),v=function(r){!r||c.has(r)||(c.add(r),v(r.parentNode))};u.forEach(v);var l=function(r){!r||f.has(r)||Array.prototype.forEach.call(r.children,function(i){if(c.has(i))l(i);else try{var a=i.getAttribute(s),p=a!==null&&a!=="false",y=(D.get(i)||0)+1,m=(o.get(i)||0)+1;D.set(i,y),o.set(i,m),d.push(i),y===1&&p&&L.set(i,!0),m===1&&i.setAttribute(t,"true"),p||i.setAttribute(s,"true")}catch(E){console.error("aria-hidden: cannot operate on ",i,E)}})};return l(n),c.clear(),A++,function(){d.forEach(function(r){var i=D.get(r)-1,a=o.get(r)-1;D.set(r,i),o.set(r,a),i||(L.has(r)||r.removeAttribute(s),L.delete(r)),a||r.removeAttribute(t)}),A--,A||(D=new WeakMap,D=new WeakMap,L=new WeakMap,T={})}},pe=function(e,n,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),u=de(e);return u?(s.push.apply(s,Array.from(u.querySelectorAll("[aria-live], script"))),ve(s,u,t,"aria-hidden")):function(){return null}};function We(e){let n;H(()=>ee(e),t=>{t?n=pe(t):n&&n()}),oe(()=>{n&&n()})}const ye="dismissableLayer.pointerDownOutside",me="dismissableLayer.focusOutside";function G(e,n){const t=n.closest("[data-dismissable-layer]"),s=e.dataset.dismissableLayer===""?e:e.querySelector("[data-dismissable-layer]"),u=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(t&&(s===t||u.indexOf(s)<u.indexOf(t)))}function he(e,n,t=!0){const s=n?.value?.ownerDocument??globalThis?.document,u=w(!1),o=w(()=>{});return _(d=>{if(!C||!P(t))return;const c=async v=>{const l=v.target;if(!(!n?.value||!l)){if(G(n.value,l)){u.value=!1;return}if(v.target&&!u.value){let i=function(){j(ye,e,r)};const r={originalEvent:v};v.pointerType==="touch"?(s.removeEventListener("click",o.value),o.value=i,s.addEventListener("click",o.value,{once:!0})):i()}else s.removeEventListener("click",o.value);u.value=!1}},f=window.setTimeout(()=>{s.addEventListener("pointerdown",c)},0);d(()=>{window.clearTimeout(f),s.removeEventListener("pointerdown",c),s.removeEventListener("click",o.value)})}),{onPointerDownCapture:()=>{P(t)&&(u.value=!0)}}}function Ee(e,n,t=!0){const s=n?.value?.ownerDocument??globalThis?.document,u=w(!1);return _(o=>{if(!C||!P(t))return;const d=async c=>{if(!n?.value)return;await F(),await F();const f=c.target;!n.value||!f||G(n.value,f)||c.target&&!u.value&&j(me,e,{originalEvent:c})};s.addEventListener("focusin",d),o(()=>s.removeEventListener("focusin",d))}),{onFocusCapture:()=>{P(t)&&(u.value=!0)},onBlurCapture:()=>{P(t)&&(u.value=!1)}}}const h=Y({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,originalBodyPointerEvents:void 0,branches:new Set});var be=k({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:n}){const t=e,s=n,{forwardRef:u,currentElement:o}=q(),d=O(()=>o.value?.ownerDocument??globalThis.document),c=O(()=>h.layersRoot),f=O(()=>o.value?Array.from(c.value).indexOf(o.value):-1),v=O(()=>h.layersWithOutsidePointerEventsDisabled.size>0),l=O(()=>{const a=Array.from(c.value),[p]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),y=a.indexOf(p);return f.value>=y}),r=he(async a=>{const p=[...h.branches].some(y=>y?.contains(a.target));!l.value||p||(s("pointerDownOutside",a),s("interactOutside",a),await F(),a.defaultPrevented||s("dismiss"))},o),i=Ee(a=>{[...h.branches].some(y=>y?.contains(a.target))||(s("focusOutside",a),s("interactOutside",a),a.defaultPrevented||s("dismiss"))},o);return te("Escape",a=>{f.value===c.value.size-1&&(s("escapeKeyDown",a),a.defaultPrevented||s("dismiss"))}),_(a=>{o.value&&(t.disableOutsidePointerEvents&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(h.originalBodyPointerEvents=d.value.body.style.pointerEvents,d.value.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(o.value)),c.value.add(o.value),a(()=>{t.disableOutsidePointerEvents&&h.layersWithOutsidePointerEventsDisabled.size===1&&!le(h.originalBodyPointerEvents)&&(d.value.body.style.pointerEvents=h.originalBodyPointerEvents)}))}),_(a=>{a(()=>{o.value&&(c.value.delete(o.value),h.layersWithOutsidePointerEventsDisabled.delete(o.value))})}),(a,p)=>(M(),N(S(z),{ref:S(u),"as-child":a.asChild,as:a.as,"data-dismissable-layer":"",style:ae({pointerEvents:v.value?l.value?"auto":"none":void 0}),onFocusCapture:S(i).onFocusCapture,onBlurCapture:S(i).onBlurCapture,onPointerdownCapture:S(r).onPointerDownCapture},{default:$(()=>[x(a.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),Re=be;const we=ne(()=>w([]));function ge(){const e=we();return{add(n){const t=e.value[0];n!==t&&t?.pause(),e.value=W(e.value,n),e.value.unshift(n)},remove(n){e.value=W(e.value,n),e.value[0]?.resume()}}}function W(e,n){const t=[...e],s=t.indexOf(n);return s!==-1&&t.splice(s,1),t}const B="focusScope.autoFocusOnMount",I="focusScope.autoFocusOnUnmount",R={bubbles:!1,cancelable:!0};function Oe(e,{select:n=!1}={}){const t=g();for(const s of e)if(b(s,{select:n}),g()!==t)return!0}function Se(e){const n=J(e),t=K(n,e),s=K(n.reverse(),e);return[t,s]}function J(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const u=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||u?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function K(e,n){for(const t of e)if(!De(t,{upTo:n}))return t}function De(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function _e(e){return e instanceof HTMLInputElement&&"select"in e}function b(e,{select:n=!1}={}){if(e&&e.focus){const t=g();e.focus({preventScroll:!0}),e!==t&&_e(e)&&n&&e.select()}}var Pe=k({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:n}){const t=e,s=n,{currentRef:u,currentElement:o}=q(),d=w(null),c=ge(),f=Y({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});_(l=>{if(!C)return;const r=o.value;if(!t.trapped)return;function i(m){if(f.paused||!r)return;const E=m.target;r.contains(E)?d.value=E:b(d.value,{select:!0})}function a(m){if(f.paused||!r)return;const E=m.relatedTarget;E!==null&&(r.contains(E)||b(d.value,{select:!0}))}function p(m){r.contains(d.value)||b(r)}document.addEventListener("focusin",i),document.addEventListener("focusout",a);const y=new MutationObserver(p);r&&y.observe(r,{childList:!0,subtree:!0}),l(()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",a),y.disconnect()})}),_(async l=>{const r=o.value;if(await F(),!r)return;c.add(f);const i=g();if(!r.contains(i)){const p=new CustomEvent(B,R);r.addEventListener(B,y=>s("mountAutoFocus",y)),r.dispatchEvent(p),p.defaultPrevented||(Oe(J(r),{select:!0}),g()===i&&b(r))}l(()=>{r.removeEventListener(B,m=>s("mountAutoFocus",m));const p=new CustomEvent(I,R),y=m=>{s("unmountAutoFocus",m)};r.addEventListener(I,y),r.dispatchEvent(p),setTimeout(()=>{p.defaultPrevented||b(i??document.body,{select:!0}),r.removeEventListener(I,y),c.remove(f)},0)})});function v(l){if(!t.loop&&!t.trapped||f.paused)return;const r=l.key==="Tab"&&!l.altKey&&!l.ctrlKey&&!l.metaKey,i=g();if(r&&i){const a=l.currentTarget,[p,y]=Se(a);p&&y?!l.shiftKey&&i===y?(l.preventDefault(),t.loop&&b(p,{select:!0})):l.shiftKey&&i===p&&(l.preventDefault(),t.loop&&b(y,{select:!0})):i===a&&l.preventDefault()}}return(l,r)=>(M(),N(S(z),{ref_key:"currentRef",ref:u,tabindex:"-1","as-child":l.asChild,as:l.as,onKeydown:v},{default:$(()=>[x(l.$slots,"default")]),_:3},8,["as-child","as"]))}}),Ke=Pe;const Ue="menu.itemSelect",U=["Enter"," "],Fe=["ArrowDown","PageUp","Home"],Le=["ArrowUp","PageDown","End"],qe=[...Fe,...Le];[...U],[...U];function He(e){return e?"open":"closed"}function $e(e){const n=g();for(const t of e)if(t===n||(t.focus(),g()!==n))return}function Te(e,n){const{x:t,y:s}=e;let u=!1;for(let o=0,d=n.length-1;o<n.length;d=o++){const c=n[o].x,f=n[o].y,v=n[d].x,l=n[d].y;f>s!=l>s&&t<(v-c)*(s-f)/(l-f)+c&&(u=!u)}return u}function Ye(e,n){if(!n)return!1;const t={x:e.clientX,y:e.clientY};return Te(t,n)}function je(e){return e.pointerType==="mouse"}var Ce=k({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=se();return(t,s)=>S(n)||t.forceMount?(M(),N(ie,{key:0,to:t.to,disabled:t.disabled,defer:t.defer},[x(t.$slots,"default")],8,["to","disabled","defer"])):ue("v-if",!0)}}),ze=Ce;export{Re as D,Ke as F,Ue as I,Le as L,U as S,ze as T,We as a,qe as b,je as c,$e as f,He as g,Ye as i,xe as u};
